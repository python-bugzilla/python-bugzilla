<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 15.0.4"/>
    <title>python-bugzilla documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note{color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.tip{color:#0a3622;background-color:#d1e7dd;border-color:#a3cfbb;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%230a3622%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%206a6%206%200%201%201%2010.174%204.31c-.203.196-.359.4-.453.619l-.762%201.769A.5.5%200%200%201%2010.5%2013a.5.5%200%200%201%200%201%20.5.5%200%200%201%200%201l-.224.447a1%201%200%200%201-.894.553H6.618a1%201%200%200%201-.894-.553L5.5%2015a.5.5%200%200%201%200-1%20.5.5%200%200%201%200-1%20.5.5%200%200%201-.46-.302l-.761-1.77a2%202%200%200%200-.453-.618A5.98%205.98%200%200%201%202%206m6-5a5%205%200%200%200-3.479%208.592c.263.254.514.564.676.941L5.83%2012h4.342l.632-1.467c.162-.377.413-.687.676-.941A5%205%200%200%200%208%201%22/%3E%3C/svg%3E");}.pdoc .alert.important{color:#055160;background-color:#cff4fc;border-color:#9eeaf9;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23055160%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%200a2%202%200%200%200-2%202v12a2%202%200%200%200%202%202h12a2%202%200%200%200%202-2V2a2%202%200%200%200-2-2zm6%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.caution{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M11.46.146A.5.5%200%200%200%2011.107%200H4.893a.5.5%200%200%200-.353.146L.146%204.54A.5.5%200%200%200%200%204.893v6.214a.5.5%200%200%200%20.146.353l4.394%204.394a.5.5%200%200%200%20.353.146h6.214a.5.5%200%200%200%20.353-.146l4.394-4.394a.5.5%200%200%200%20.146-.353V4.893a.5.5%200%200%200-.146-.353zM8%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>




            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#Bugzilla3">Bugzilla3</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#Bugzilla32">Bugzilla32</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#Bugzilla34">Bugzilla34</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#Bugzilla36">Bugzilla36</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#Bugzilla4">Bugzilla4</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#Bugzilla42">Bugzilla42</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#Bugzilla44">Bugzilla44</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#NovellBugzilla">NovellBugzilla</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#RHBugzilla3">RHBugzilla3</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#RHBugzilla4">RHBugzilla4</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#RHBugzilla">RHBugzilla</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#BugzillaError">BugzillaError</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#BugzillaError.__init__">BugzillaError</a>
                        </li>
                        <li>
                                <a class="function" href="#BugzillaError.get_bugzilla_error_string">get_bugzilla_error_string</a>
                        </li>
                        <li>
                                <a class="function" href="#BugzillaError.get_bugzilla_error_code">get_bugzilla_error_code</a>
                        </li>
                        <li>
                                <a class="variable" href="#BugzillaError.code">code</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Bugzilla">Bugzilla</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Bugzilla.__init__">Bugzilla</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.url_to_query">url_to_query</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.fix_url">fix_url</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.get_rcfile_default_url">get_rcfile_default_url</a>
                        </li>
                        <li>
                                <a class="variable" href="#Bugzilla.user">user</a>
                        </li>
                        <li>
                                <a class="variable" href="#Bugzilla.password">password</a>
                        </li>
                        <li>
                                <a class="variable" href="#Bugzilla.api_key">api_key</a>
                        </li>
                        <li>
                                <a class="variable" href="#Bugzilla.cert">cert</a>
                        </li>
                        <li>
                                <a class="variable" href="#Bugzilla.url">url</a>
                        </li>
                        <li>
                                <a class="variable" href="#Bugzilla.user_agent">user_agent</a>
                        </li>
                        <li>
                                <a class="variable" href="#Bugzilla.bz_ver_major">bz_ver_major</a>
                        </li>
                        <li>
                                <a class="variable" href="#Bugzilla.bz_ver_minor">bz_ver_minor</a>
                        </li>
                        <li>
                                <a class="variable" href="#Bugzilla.cookiefile">cookiefile</a>
                        </li>
                        <li>
                                <a class="variable" href="#Bugzilla.tokenfile">tokenfile</a>
                        </li>
                        <li>
                                <a class="variable" href="#Bugzilla.configpath">configpath</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.readconfig">readconfig</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.connect">connect</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.is_xmlrpc">is_xmlrpc</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.is_rest">is_rest</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.get_requests_session">get_requests_session</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.disconnect">disconnect</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.login">login</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.interactive_save_api_key">interactive_save_api_key</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.interactive_login">interactive_login</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.logout">logout</a>
                        </li>
                        <li>
                                <a class="variable" href="#Bugzilla.logged_in">logged_in</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.getbugfields">getbugfields</a>
                        </li>
                        <li>
                                <a class="variable" href="#Bugzilla.bugfields">bugfields</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.product_get">product_get</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.refresh_products">refresh_products</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.getproducts">getproducts</a>
                        </li>
                        <li>
                                <a class="variable" href="#Bugzilla.products">products</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.getcomponentsdetails">getcomponentsdetails</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.getcomponentdetails">getcomponentdetails</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.getcomponents">getcomponents</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.addcomponent">addcomponent</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.editcomponent">editcomponent</a>
                        </li>
                        <li>
                                <a class="variable" href="#Bugzilla.bug_autorefresh">bug_autorefresh</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.getbug">getbug</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.getbugs">getbugs</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.get_comments">get_comments</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.build_query">build_query</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.query_return_extra">query_return_extra</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.query">query</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.pre_translation">pre_translation</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.post_translation">post_translation</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.bugs_history_raw">bugs_history_raw</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.update_bugs">update_bugs</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.update_tags">update_tags</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.update_flags">update_flags</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.build_update">build_update</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.attachfile">attachfile</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.openattachment_data">openattachment_data</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.openattachment">openattachment</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.updateattachmentflags">updateattachmentflags</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.get_attachments">get_attachments</a>
                        </li>
                        <li>
                                <a class="variable" href="#Bugzilla.createbug_required">createbug_required</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.build_createbug">build_createbug</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.createbug">createbug</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.getuser">getuser</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.getusers">getusers</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.searchusers">searchusers</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.createuser">createuser</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.updateperms">updateperms</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.getgroup">getgroup</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.getgroups">getgroups</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.add_external_tracker">add_external_tracker</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.update_external_tracker">update_external_tracker</a>
                        </li>
                        <li>
                                <a class="function" href="#Bugzilla.remove_external_tracker">remove_external_tracker</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#version">version</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
bugzilla    </h1>

                
                        <input id="mod-bugzilla-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-bugzilla-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos"> 1</span></a><span class="c1"># python-bugzilla - a Python interface to bugzilla using xmlrpclib.</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos"> 2</span></a><span class="c1">#</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos"> 3</span></a><span class="c1"># Copyright (C) 2007, 2008 Red Hat Inc.</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos"> 4</span></a><span class="c1"># Author: Will Woods &lt;wwoods@redhat.com&gt;</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos"> 5</span></a><span class="c1">#</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos"> 6</span></a><span class="c1"># This work is licensed under the GNU GPLv2 or later.</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos"> 7</span></a><span class="c1"># See the COPYING file in the top-level directory.</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos"> 8</span></a>
</span><span id="L-9"><a href="#L-9"><span class="linenos"> 9</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">.apiversion</span><span class="w"> </span><span class="kn">import</span> <span class="n">version</span><span class="p">,</span> <span class="n">__version__</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">10</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">Bugzilla</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">11</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">BugzillaError</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">12</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">.oldclasses</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span><span class="n">Bugzilla3</span><span class="p">,</span> <span class="n">Bugzilla32</span><span class="p">,</span> <span class="n">Bugzilla34</span><span class="p">,</span> <span class="n">Bugzilla36</span><span class="p">,</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">13</span></a>        <span class="n">Bugzilla4</span><span class="p">,</span> <span class="n">Bugzilla42</span><span class="p">,</span> <span class="n">Bugzilla44</span><span class="p">,</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">14</span></a>        <span class="n">NovellBugzilla</span><span class="p">,</span> <span class="n">RHBugzilla</span><span class="p">,</span> <span class="n">RHBugzilla3</span><span class="p">,</span> <span class="n">RHBugzilla4</span><span class="p">)</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">15</span></a>
</span><span id="L-16"><a href="#L-16"><span class="linenos">16</span></a>
</span><span id="L-17"><a href="#L-17"><span class="linenos">17</span></a><span class="c1"># This is the public API. If you are explicitly instantiating any other</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">18</span></a><span class="c1"># class, using some function, or poking into internal files, don&#39;t complain</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">19</span></a><span class="c1"># if things break on you.</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">20</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">21</span></a>    <span class="s2">&quot;Bugzilla3&quot;</span><span class="p">,</span> <span class="s2">&quot;Bugzilla32&quot;</span><span class="p">,</span> <span class="s2">&quot;Bugzilla34&quot;</span><span class="p">,</span> <span class="s2">&quot;Bugzilla36&quot;</span><span class="p">,</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">22</span></a>    <span class="s2">&quot;Bugzilla4&quot;</span><span class="p">,</span> <span class="s2">&quot;Bugzilla42&quot;</span><span class="p">,</span> <span class="s2">&quot;Bugzilla44&quot;</span><span class="p">,</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">23</span></a>    <span class="s2">&quot;NovellBugzilla&quot;</span><span class="p">,</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos">24</span></a>    <span class="s2">&quot;RHBugzilla3&quot;</span><span class="p">,</span> <span class="s2">&quot;RHBugzilla4&quot;</span><span class="p">,</span> <span class="s2">&quot;RHBugzilla&quot;</span><span class="p">,</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">25</span></a>    <span class="s1">&#39;BugzillaError&#39;</span><span class="p">,</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">26</span></a>    <span class="s1">&#39;Bugzilla&#39;</span><span class="p">,</span> <span class="s2">&quot;version&quot;</span><span class="p">,</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos">27</span></a><span class="p">]</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos">28</span></a>
</span><span id="L-29"><a href="#L-29"><span class="linenos">29</span></a>
</span><span id="L-30"><a href="#L-30"><span class="linenos">30</span></a><span class="c1"># Clear all other locals() from the public API</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">31</span></a><span class="k">for</span> <span class="n">__sym</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">():</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos">32</span></a>    <span class="k">if</span> <span class="n">__sym</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;__&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">__sym</span> <span class="ow">in</span> <span class="n">__all__</span><span class="p">:</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos">33</span></a>        <span class="k">continue</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos">34</span></a>    <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">__sym</span><span class="p">)</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos">35</span></a><span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;__sym&quot;</span><span class="p">)</span>
</span></pre></div>


            </section>
                <section id="Bugzilla3">
                            <input id="Bugzilla3-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Bugzilla3</span><wbr>(<span class="base"><a href="#Bugzilla">bugzilla.Bugzilla</a></span>):

                <label class="view-source-button" for="Bugzilla3-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla3"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla3-11"><a href="#Bugzilla3-11"><span class="linenos">11</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Bugzilla3</span><span class="p">(</span><span class="n">Bugzilla</span><span class="p">):</span>
</span><span id="Bugzilla3-12"><a href="#Bugzilla3-12"><span class="linenos">12</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>The main API object. Connects to a bugzilla instance over XMLRPC, and
provides wrapper functions to simplify dealing with API calls.</p>

<p>The most common invocation here will just be with just a URL:</p>

<pre><code>bzapi = Bugzilla("http://bugzilla.example.com")
</code></pre>

<p>If you have previously logged into that URL, and have cached login
tokens, you will automatically be logged in. Otherwise to
log in, you can either pass auth options to __init__, or call a login
helper like interactive_login().</p>

<p>If you are not logged in, you won't be able to access restricted data like
user email, or perform write actions like bug create/update. But simple
querys will work correctly.</p>

<p>If you are unsure if you are logged in, you can check the .logged_in
property.</p>

<p>Another way to specify auth credentials is via a 'bugzillarc' file.
See readconfig() documentation for details.</p>
</div>


                </section>
                <section id="Bugzilla32">
                            <input id="Bugzilla32-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Bugzilla32</span><wbr>(<span class="base"><a href="#Bugzilla">bugzilla.Bugzilla</a></span>):

                <label class="view-source-button" for="Bugzilla32-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla32"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla32-15"><a href="#Bugzilla32-15"><span class="linenos">15</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Bugzilla32</span><span class="p">(</span><span class="n">Bugzilla</span><span class="p">):</span>
</span><span id="Bugzilla32-16"><a href="#Bugzilla32-16"><span class="linenos">16</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>The main API object. Connects to a bugzilla instance over XMLRPC, and
provides wrapper functions to simplify dealing with API calls.</p>

<p>The most common invocation here will just be with just a URL:</p>

<pre><code>bzapi = Bugzilla("http://bugzilla.example.com")
</code></pre>

<p>If you have previously logged into that URL, and have cached login
tokens, you will automatically be logged in. Otherwise to
log in, you can either pass auth options to __init__, or call a login
helper like interactive_login().</p>

<p>If you are not logged in, you won't be able to access restricted data like
user email, or perform write actions like bug create/update. But simple
querys will work correctly.</p>

<p>If you are unsure if you are logged in, you can check the .logged_in
property.</p>

<p>Another way to specify auth credentials is via a 'bugzillarc' file.
See readconfig() documentation for details.</p>
</div>


                </section>
                <section id="Bugzilla34">
                            <input id="Bugzilla34-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Bugzilla34</span><wbr>(<span class="base"><a href="#Bugzilla">bugzilla.Bugzilla</a></span>):

                <label class="view-source-button" for="Bugzilla34-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla34"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla34-19"><a href="#Bugzilla34-19"><span class="linenos">19</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Bugzilla34</span><span class="p">(</span><span class="n">Bugzilla</span><span class="p">):</span>
</span><span id="Bugzilla34-20"><a href="#Bugzilla34-20"><span class="linenos">20</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>The main API object. Connects to a bugzilla instance over XMLRPC, and
provides wrapper functions to simplify dealing with API calls.</p>

<p>The most common invocation here will just be with just a URL:</p>

<pre><code>bzapi = Bugzilla("http://bugzilla.example.com")
</code></pre>

<p>If you have previously logged into that URL, and have cached login
tokens, you will automatically be logged in. Otherwise to
log in, you can either pass auth options to __init__, or call a login
helper like interactive_login().</p>

<p>If you are not logged in, you won't be able to access restricted data like
user email, or perform write actions like bug create/update. But simple
querys will work correctly.</p>

<p>If you are unsure if you are logged in, you can check the .logged_in
property.</p>

<p>Another way to specify auth credentials is via a 'bugzillarc' file.
See readconfig() documentation for details.</p>
</div>


                </section>
                <section id="Bugzilla36">
                            <input id="Bugzilla36-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Bugzilla36</span><wbr>(<span class="base"><a href="#Bugzilla">bugzilla.Bugzilla</a></span>):

                <label class="view-source-button" for="Bugzilla36-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla36"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla36-23"><a href="#Bugzilla36-23"><span class="linenos">23</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Bugzilla36</span><span class="p">(</span><span class="n">Bugzilla</span><span class="p">):</span>
</span><span id="Bugzilla36-24"><a href="#Bugzilla36-24"><span class="linenos">24</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>The main API object. Connects to a bugzilla instance over XMLRPC, and
provides wrapper functions to simplify dealing with API calls.</p>

<p>The most common invocation here will just be with just a URL:</p>

<pre><code>bzapi = Bugzilla("http://bugzilla.example.com")
</code></pre>

<p>If you have previously logged into that URL, and have cached login
tokens, you will automatically be logged in. Otherwise to
log in, you can either pass auth options to __init__, or call a login
helper like interactive_login().</p>

<p>If you are not logged in, you won't be able to access restricted data like
user email, or perform write actions like bug create/update. But simple
querys will work correctly.</p>

<p>If you are unsure if you are logged in, you can check the .logged_in
property.</p>

<p>Another way to specify auth credentials is via a 'bugzillarc' file.
See readconfig() documentation for details.</p>
</div>


                </section>
                <section id="Bugzilla4">
                            <input id="Bugzilla4-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Bugzilla4</span><wbr>(<span class="base"><a href="#Bugzilla">bugzilla.Bugzilla</a></span>):

                <label class="view-source-button" for="Bugzilla4-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla4"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla4-27"><a href="#Bugzilla4-27"><span class="linenos">27</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Bugzilla4</span><span class="p">(</span><span class="n">Bugzilla</span><span class="p">):</span>
</span><span id="Bugzilla4-28"><a href="#Bugzilla4-28"><span class="linenos">28</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>The main API object. Connects to a bugzilla instance over XMLRPC, and
provides wrapper functions to simplify dealing with API calls.</p>

<p>The most common invocation here will just be with just a URL:</p>

<pre><code>bzapi = Bugzilla("http://bugzilla.example.com")
</code></pre>

<p>If you have previously logged into that URL, and have cached login
tokens, you will automatically be logged in. Otherwise to
log in, you can either pass auth options to __init__, or call a login
helper like interactive_login().</p>

<p>If you are not logged in, you won't be able to access restricted data like
user email, or perform write actions like bug create/update. But simple
querys will work correctly.</p>

<p>If you are unsure if you are logged in, you can check the .logged_in
property.</p>

<p>Another way to specify auth credentials is via a 'bugzillarc' file.
See readconfig() documentation for details.</p>
</div>


                </section>
                <section id="Bugzilla42">
                            <input id="Bugzilla42-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Bugzilla42</span><wbr>(<span class="base"><a href="#Bugzilla">bugzilla.Bugzilla</a></span>):

                <label class="view-source-button" for="Bugzilla42-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla42"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla42-31"><a href="#Bugzilla42-31"><span class="linenos">31</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Bugzilla42</span><span class="p">(</span><span class="n">Bugzilla</span><span class="p">):</span>
</span><span id="Bugzilla42-32"><a href="#Bugzilla42-32"><span class="linenos">32</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>The main API object. Connects to a bugzilla instance over XMLRPC, and
provides wrapper functions to simplify dealing with API calls.</p>

<p>The most common invocation here will just be with just a URL:</p>

<pre><code>bzapi = Bugzilla("http://bugzilla.example.com")
</code></pre>

<p>If you have previously logged into that URL, and have cached login
tokens, you will automatically be logged in. Otherwise to
log in, you can either pass auth options to __init__, or call a login
helper like interactive_login().</p>

<p>If you are not logged in, you won't be able to access restricted data like
user email, or perform write actions like bug create/update. But simple
querys will work correctly.</p>

<p>If you are unsure if you are logged in, you can check the .logged_in
property.</p>

<p>Another way to specify auth credentials is via a 'bugzillarc' file.
See readconfig() documentation for details.</p>
</div>


                </section>
                <section id="Bugzilla44">
                            <input id="Bugzilla44-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Bugzilla44</span><wbr>(<span class="base"><a href="#Bugzilla">bugzilla.Bugzilla</a></span>):

                <label class="view-source-button" for="Bugzilla44-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla44"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla44-35"><a href="#Bugzilla44-35"><span class="linenos">35</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Bugzilla44</span><span class="p">(</span><span class="n">Bugzilla</span><span class="p">):</span>
</span><span id="Bugzilla44-36"><a href="#Bugzilla44-36"><span class="linenos">36</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>The main API object. Connects to a bugzilla instance over XMLRPC, and
provides wrapper functions to simplify dealing with API calls.</p>

<p>The most common invocation here will just be with just a URL:</p>

<pre><code>bzapi = Bugzilla("http://bugzilla.example.com")
</code></pre>

<p>If you have previously logged into that URL, and have cached login
tokens, you will automatically be logged in. Otherwise to
log in, you can either pass auth options to __init__, or call a login
helper like interactive_login().</p>

<p>If you are not logged in, you won't be able to access restricted data like
user email, or perform write actions like bug create/update. But simple
querys will work correctly.</p>

<p>If you are unsure if you are logged in, you can check the .logged_in
property.</p>

<p>Another way to specify auth credentials is via a 'bugzillarc' file.
See readconfig() documentation for details.</p>
</div>


                </section>
                <section id="NovellBugzilla">
                            <input id="NovellBugzilla-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">NovellBugzilla</span><wbr>(<span class="base"><a href="#Bugzilla">bugzilla.Bugzilla</a></span>):

                <label class="view-source-button" for="NovellBugzilla-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#NovellBugzilla"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="NovellBugzilla-39"><a href="#NovellBugzilla-39"><span class="linenos">39</span></a><span class="k">class</span><span class="w"> </span><span class="nc">NovellBugzilla</span><span class="p">(</span><span class="n">Bugzilla</span><span class="p">):</span>
</span><span id="NovellBugzilla-40"><a href="#NovellBugzilla-40"><span class="linenos">40</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>The main API object. Connects to a bugzilla instance over XMLRPC, and
provides wrapper functions to simplify dealing with API calls.</p>

<p>The most common invocation here will just be with just a URL:</p>

<pre><code>bzapi = Bugzilla("http://bugzilla.example.com")
</code></pre>

<p>If you have previously logged into that URL, and have cached login
tokens, you will automatically be logged in. Otherwise to
log in, you can either pass auth options to __init__, or call a login
helper like interactive_login().</p>

<p>If you are not logged in, you won't be able to access restricted data like
user email, or perform write actions like bug create/update. But simple
querys will work correctly.</p>

<p>If you are unsure if you are logged in, you can check the .logged_in
property.</p>

<p>Another way to specify auth credentials is via a 'bugzillarc' file.
See readconfig() documentation for details.</p>
</div>


                </section>
                <section id="RHBugzilla3">
                            <input id="RHBugzilla3-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">RHBugzilla3</span><wbr>(<span class="base"><a href="#RHBugzilla">bugzilla.RHBugzilla</a></span>):

                <label class="view-source-button" for="RHBugzilla3-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RHBugzilla3"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RHBugzilla3-60"><a href="#RHBugzilla3-60"><span class="linenos">60</span></a><span class="k">class</span><span class="w"> </span><span class="nc">RHBugzilla3</span><span class="p">(</span><span class="n">RHBugzilla</span><span class="p">):</span>
</span><span id="RHBugzilla3-61"><a href="#RHBugzilla3-61"><span class="linenos">61</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Helper class for historical bugzilla.redhat.com back compat</p>

<p>Historically this class used many more non-upstream methods, but
in 2012 RH started dropping most of its custom bits. By that time,
upstream BZ had most of the important functionality.</p>

<p>Much of the remaining code here is just trying to keep things operating
in python-bugzilla back compatible manner.</p>

<p>This class was written using bugzilla.redhat.com's API docs:
<a href="https://bugzilla.redhat.com/docs/en/html/api/">https://bugzilla.redhat.com/docs/en/html/api/</a></p>
</div>


                </section>
                <section id="RHBugzilla4">
                            <input id="RHBugzilla4-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">RHBugzilla4</span><wbr>(<span class="base"><a href="#RHBugzilla">bugzilla.RHBugzilla</a></span>):

                <label class="view-source-button" for="RHBugzilla4-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RHBugzilla4"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RHBugzilla4-64"><a href="#RHBugzilla4-64"><span class="linenos">64</span></a><span class="k">class</span><span class="w"> </span><span class="nc">RHBugzilla4</span><span class="p">(</span><span class="n">RHBugzilla</span><span class="p">):</span>
</span><span id="RHBugzilla4-65"><a href="#RHBugzilla4-65"><span class="linenos">65</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Helper class for historical bugzilla.redhat.com back compat</p>

<p>Historically this class used many more non-upstream methods, but
in 2012 RH started dropping most of its custom bits. By that time,
upstream BZ had most of the important functionality.</p>

<p>Much of the remaining code here is just trying to keep things operating
in python-bugzilla back compatible manner.</p>

<p>This class was written using bugzilla.redhat.com's API docs:
<a href="https://bugzilla.redhat.com/docs/en/html/api/">https://bugzilla.redhat.com/docs/en/html/api/</a></p>
</div>


                </section>
                <section id="RHBugzilla">
                            <input id="RHBugzilla-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">RHBugzilla</span><wbr>(<span class="base"><a href="#Bugzilla">bugzilla.Bugzilla</a></span>):

                <label class="view-source-button" for="RHBugzilla-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RHBugzilla"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RHBugzilla-43"><a href="#RHBugzilla-43"><span class="linenos">43</span></a><span class="k">class</span><span class="w"> </span><span class="nc">RHBugzilla</span><span class="p">(</span><span class="n">Bugzilla</span><span class="p">):</span>
</span><span id="RHBugzilla-44"><a href="#RHBugzilla-44"><span class="linenos">44</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RHBugzilla-45"><a href="#RHBugzilla-45"><span class="linenos">45</span></a><span class="sd">    Helper class for historical bugzilla.redhat.com back compat</span>
</span><span id="RHBugzilla-46"><a href="#RHBugzilla-46"><span class="linenos">46</span></a>
</span><span id="RHBugzilla-47"><a href="#RHBugzilla-47"><span class="linenos">47</span></a><span class="sd">    Historically this class used many more non-upstream methods, but</span>
</span><span id="RHBugzilla-48"><a href="#RHBugzilla-48"><span class="linenos">48</span></a><span class="sd">    in 2012 RH started dropping most of its custom bits. By that time,</span>
</span><span id="RHBugzilla-49"><a href="#RHBugzilla-49"><span class="linenos">49</span></a><span class="sd">    upstream BZ had most of the important functionality.</span>
</span><span id="RHBugzilla-50"><a href="#RHBugzilla-50"><span class="linenos">50</span></a>
</span><span id="RHBugzilla-51"><a href="#RHBugzilla-51"><span class="linenos">51</span></a><span class="sd">    Much of the remaining code here is just trying to keep things operating</span>
</span><span id="RHBugzilla-52"><a href="#RHBugzilla-52"><span class="linenos">52</span></a><span class="sd">    in python-bugzilla back compatible manner.</span>
</span><span id="RHBugzilla-53"><a href="#RHBugzilla-53"><span class="linenos">53</span></a>
</span><span id="RHBugzilla-54"><a href="#RHBugzilla-54"><span class="linenos">54</span></a><span class="sd">    This class was written using bugzilla.redhat.com&#39;s API docs:</span>
</span><span id="RHBugzilla-55"><a href="#RHBugzilla-55"><span class="linenos">55</span></a><span class="sd">    https://bugzilla.redhat.com/docs/en/html/api/</span>
</span><span id="RHBugzilla-56"><a href="#RHBugzilla-56"><span class="linenos">56</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="RHBugzilla-57"><a href="#RHBugzilla-57"><span class="linenos">57</span></a>    <span class="n">_is_redhat_bugzilla</span> <span class="o">=</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>Helper class for historical bugzilla.redhat.com back compat</p>

<p>Historically this class used many more non-upstream methods, but
in 2012 RH started dropping most of its custom bits. By that time,
upstream BZ had most of the important functionality.</p>

<p>Much of the remaining code here is just trying to keep things operating
in python-bugzilla back compatible manner.</p>

<p>This class was written using bugzilla.redhat.com's API docs:
<a href="https://bugzilla.redhat.com/docs/en/html/api/">https://bugzilla.redhat.com/docs/en/html/api/</a></p>
</div>


                </section>
                <section id="BugzillaError">
                            <input id="BugzillaError-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">BugzillaError</span><wbr>(<span class="base">builtins.Exception</span>):

                <label class="view-source-button" for="BugzillaError-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BugzillaError"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BugzillaError-7"><a href="#BugzillaError-7"><span class="linenos"> 7</span></a><span class="k">class</span><span class="w"> </span><span class="nc">BugzillaError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
</span><span id="BugzillaError-8"><a href="#BugzillaError-8"><span class="linenos"> 8</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="BugzillaError-9"><a href="#BugzillaError-9"><span class="linenos"> 9</span></a><span class="sd">    Error raised in the Bugzilla client code.</span>
</span><span id="BugzillaError-10"><a href="#BugzillaError-10"><span class="linenos">10</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="BugzillaError-11"><a href="#BugzillaError-11"><span class="linenos">11</span></a>    <span class="nd">@staticmethod</span>
</span><span id="BugzillaError-12"><a href="#BugzillaError-12"><span class="linenos">12</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_bugzilla_error_string</span><span class="p">(</span><span class="n">exc</span><span class="p">):</span>
</span><span id="BugzillaError-13"><a href="#BugzillaError-13"><span class="linenos">13</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="BugzillaError-14"><a href="#BugzillaError-14"><span class="linenos">14</span></a><span class="sd">        Helper to return the bugzilla instance error message from an</span>
</span><span id="BugzillaError-15"><a href="#BugzillaError-15"><span class="linenos">15</span></a><span class="sd">        XMLRPC Fault, or any other exception type that&#39;s raised from bugzilla</span>
</span><span id="BugzillaError-16"><a href="#BugzillaError-16"><span class="linenos">16</span></a><span class="sd">        interaction</span>
</span><span id="BugzillaError-17"><a href="#BugzillaError-17"><span class="linenos">17</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BugzillaError-18"><a href="#BugzillaError-18"><span class="linenos">18</span></a>        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">exc</span><span class="p">,</span> <span class="s2">&quot;faultString&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">exc</span><span class="p">))</span>
</span><span id="BugzillaError-19"><a href="#BugzillaError-19"><span class="linenos">19</span></a>
</span><span id="BugzillaError-20"><a href="#BugzillaError-20"><span class="linenos">20</span></a>    <span class="nd">@staticmethod</span>
</span><span id="BugzillaError-21"><a href="#BugzillaError-21"><span class="linenos">21</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_bugzilla_error_code</span><span class="p">(</span><span class="n">exc</span><span class="p">):</span>
</span><span id="BugzillaError-22"><a href="#BugzillaError-22"><span class="linenos">22</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="BugzillaError-23"><a href="#BugzillaError-23"><span class="linenos">23</span></a><span class="sd">        Helper to return the bugzilla instance error code from an</span>
</span><span id="BugzillaError-24"><a href="#BugzillaError-24"><span class="linenos">24</span></a><span class="sd">        XMLRPC Fault, or any other exception type that&#39;s raised from bugzilla</span>
</span><span id="BugzillaError-25"><a href="#BugzillaError-25"><span class="linenos">25</span></a><span class="sd">        interaction</span>
</span><span id="BugzillaError-26"><a href="#BugzillaError-26"><span class="linenos">26</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BugzillaError-27"><a href="#BugzillaError-27"><span class="linenos">27</span></a>        <span class="k">for</span> <span class="n">propname</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;faultCode&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">]:</span>
</span><span id="BugzillaError-28"><a href="#BugzillaError-28"><span class="linenos">28</span></a>            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">exc</span><span class="p">,</span> <span class="n">propname</span><span class="p">):</span>
</span><span id="BugzillaError-29"><a href="#BugzillaError-29"><span class="linenos">29</span></a>                <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">exc</span><span class="p">,</span> <span class="n">propname</span><span class="p">)</span>
</span><span id="BugzillaError-30"><a href="#BugzillaError-30"><span class="linenos">30</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="BugzillaError-31"><a href="#BugzillaError-31"><span class="linenos">31</span></a>
</span><span id="BugzillaError-32"><a href="#BugzillaError-32"><span class="linenos">32</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="BugzillaError-33"><a href="#BugzillaError-33"><span class="linenos">33</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="BugzillaError-34"><a href="#BugzillaError-34"><span class="linenos">34</span></a><span class="sd">        :param code: The error code from the remote bugzilla instance. Only</span>
</span><span id="BugzillaError-35"><a href="#BugzillaError-35"><span class="linenos">35</span></a><span class="sd">            set if the error came directly from the remove bugzilla</span>
</span><span id="BugzillaError-36"><a href="#BugzillaError-36"><span class="linenos">36</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BugzillaError-37"><a href="#BugzillaError-37"><span class="linenos">37</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">code</span>
</span><span id="BugzillaError-38"><a href="#BugzillaError-38"><span class="linenos">38</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">:</span>
</span><span id="BugzillaError-39"><a href="#BugzillaError-39"><span class="linenos">39</span></a>            <span class="n">message</span> <span class="o">+=</span> <span class="s2">&quot; (code=</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">code</span>
</span><span id="BugzillaError-40"><a href="#BugzillaError-40"><span class="linenos">40</span></a>        <span class="ne">Exception</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Error raised in the Bugzilla client code.</p>
</div>


                            <div id="BugzillaError.__init__" class="classattr">
                                        <input id="BugzillaError.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">BugzillaError</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">message</span>, </span><span class="param"><span class="n">code</span><span class="o">=</span><span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="BugzillaError.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BugzillaError.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BugzillaError.__init__-32"><a href="#BugzillaError.__init__-32"><span class="linenos">32</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="BugzillaError.__init__-33"><a href="#BugzillaError.__init__-33"><span class="linenos">33</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="BugzillaError.__init__-34"><a href="#BugzillaError.__init__-34"><span class="linenos">34</span></a><span class="sd">        :param code: The error code from the remote bugzilla instance. Only</span>
</span><span id="BugzillaError.__init__-35"><a href="#BugzillaError.__init__-35"><span class="linenos">35</span></a><span class="sd">            set if the error came directly from the remove bugzilla</span>
</span><span id="BugzillaError.__init__-36"><a href="#BugzillaError.__init__-36"><span class="linenos">36</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BugzillaError.__init__-37"><a href="#BugzillaError.__init__-37"><span class="linenos">37</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">code</span>
</span><span id="BugzillaError.__init__-38"><a href="#BugzillaError.__init__-38"><span class="linenos">38</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">:</span>
</span><span id="BugzillaError.__init__-39"><a href="#BugzillaError.__init__-39"><span class="linenos">39</span></a>            <span class="n">message</span> <span class="o">+=</span> <span class="s2">&quot; (code=</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">code</span>
</span><span id="BugzillaError.__init__-40"><a href="#BugzillaError.__init__-40"><span class="linenos">40</span></a>        <span class="ne">Exception</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><h6 id="parameters">Parameters</h6>

<ul>
<li><strong>code</strong>:  The error code from the remote bugzilla instance. Only
set if the error came directly from the remove bugzilla</li>
</ul>
</div>


                            </div>
                            <div id="BugzillaError.get_bugzilla_error_string" class="classattr">
                                        <input id="BugzillaError.get_bugzilla_error_string-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">get_bugzilla_error_string</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">exc</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="BugzillaError.get_bugzilla_error_string-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BugzillaError.get_bugzilla_error_string"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BugzillaError.get_bugzilla_error_string-11"><a href="#BugzillaError.get_bugzilla_error_string-11"><span class="linenos">11</span></a>    <span class="nd">@staticmethod</span>
</span><span id="BugzillaError.get_bugzilla_error_string-12"><a href="#BugzillaError.get_bugzilla_error_string-12"><span class="linenos">12</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_bugzilla_error_string</span><span class="p">(</span><span class="n">exc</span><span class="p">):</span>
</span><span id="BugzillaError.get_bugzilla_error_string-13"><a href="#BugzillaError.get_bugzilla_error_string-13"><span class="linenos">13</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="BugzillaError.get_bugzilla_error_string-14"><a href="#BugzillaError.get_bugzilla_error_string-14"><span class="linenos">14</span></a><span class="sd">        Helper to return the bugzilla instance error message from an</span>
</span><span id="BugzillaError.get_bugzilla_error_string-15"><a href="#BugzillaError.get_bugzilla_error_string-15"><span class="linenos">15</span></a><span class="sd">        XMLRPC Fault, or any other exception type that&#39;s raised from bugzilla</span>
</span><span id="BugzillaError.get_bugzilla_error_string-16"><a href="#BugzillaError.get_bugzilla_error_string-16"><span class="linenos">16</span></a><span class="sd">        interaction</span>
</span><span id="BugzillaError.get_bugzilla_error_string-17"><a href="#BugzillaError.get_bugzilla_error_string-17"><span class="linenos">17</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BugzillaError.get_bugzilla_error_string-18"><a href="#BugzillaError.get_bugzilla_error_string-18"><span class="linenos">18</span></a>        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">exc</span><span class="p">,</span> <span class="s2">&quot;faultString&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">exc</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Helper to return the bugzilla instance error message from an
XMLRPC Fault, or any other exception type that's raised from bugzilla
interaction</p>
</div>


                            </div>
                            <div id="BugzillaError.get_bugzilla_error_code" class="classattr">
                                        <input id="BugzillaError.get_bugzilla_error_code-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">get_bugzilla_error_code</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">exc</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="BugzillaError.get_bugzilla_error_code-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BugzillaError.get_bugzilla_error_code"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BugzillaError.get_bugzilla_error_code-20"><a href="#BugzillaError.get_bugzilla_error_code-20"><span class="linenos">20</span></a>    <span class="nd">@staticmethod</span>
</span><span id="BugzillaError.get_bugzilla_error_code-21"><a href="#BugzillaError.get_bugzilla_error_code-21"><span class="linenos">21</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_bugzilla_error_code</span><span class="p">(</span><span class="n">exc</span><span class="p">):</span>
</span><span id="BugzillaError.get_bugzilla_error_code-22"><a href="#BugzillaError.get_bugzilla_error_code-22"><span class="linenos">22</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="BugzillaError.get_bugzilla_error_code-23"><a href="#BugzillaError.get_bugzilla_error_code-23"><span class="linenos">23</span></a><span class="sd">        Helper to return the bugzilla instance error code from an</span>
</span><span id="BugzillaError.get_bugzilla_error_code-24"><a href="#BugzillaError.get_bugzilla_error_code-24"><span class="linenos">24</span></a><span class="sd">        XMLRPC Fault, or any other exception type that&#39;s raised from bugzilla</span>
</span><span id="BugzillaError.get_bugzilla_error_code-25"><a href="#BugzillaError.get_bugzilla_error_code-25"><span class="linenos">25</span></a><span class="sd">        interaction</span>
</span><span id="BugzillaError.get_bugzilla_error_code-26"><a href="#BugzillaError.get_bugzilla_error_code-26"><span class="linenos">26</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BugzillaError.get_bugzilla_error_code-27"><a href="#BugzillaError.get_bugzilla_error_code-27"><span class="linenos">27</span></a>        <span class="k">for</span> <span class="n">propname</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;faultCode&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">]:</span>
</span><span id="BugzillaError.get_bugzilla_error_code-28"><a href="#BugzillaError.get_bugzilla_error_code-28"><span class="linenos">28</span></a>            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">exc</span><span class="p">,</span> <span class="n">propname</span><span class="p">):</span>
</span><span id="BugzillaError.get_bugzilla_error_code-29"><a href="#BugzillaError.get_bugzilla_error_code-29"><span class="linenos">29</span></a>                <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">exc</span><span class="p">,</span> <span class="n">propname</span><span class="p">)</span>
</span><span id="BugzillaError.get_bugzilla_error_code-30"><a href="#BugzillaError.get_bugzilla_error_code-30"><span class="linenos">30</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Helper to return the bugzilla instance error code from an
XMLRPC Fault, or any other exception type that's raised from bugzilla
interaction</p>
</div>


                            </div>
                            <div id="BugzillaError.code" class="classattr">
                                <div class="attr variable">
            <span class="name">code</span>

        
    </div>
    <a class="headerlink" href="#BugzillaError.code"></a>
    
    

                            </div>
                </section>
                <section id="Bugzilla">
                            <input id="Bugzilla-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Bugzilla</span>:

                <label class="view-source-button" for="Bugzilla-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla-80"><a href="#Bugzilla-80"><span class="linenos">  80</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Bugzilla</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="Bugzilla-81"><a href="#Bugzilla-81"><span class="linenos">  81</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-82"><a href="#Bugzilla-82"><span class="linenos">  82</span></a><span class="sd">    The main API object. Connects to a bugzilla instance over XMLRPC, and</span>
</span><span id="Bugzilla-83"><a href="#Bugzilla-83"><span class="linenos">  83</span></a><span class="sd">    provides wrapper functions to simplify dealing with API calls.</span>
</span><span id="Bugzilla-84"><a href="#Bugzilla-84"><span class="linenos">  84</span></a>
</span><span id="Bugzilla-85"><a href="#Bugzilla-85"><span class="linenos">  85</span></a><span class="sd">    The most common invocation here will just be with just a URL:</span>
</span><span id="Bugzilla-86"><a href="#Bugzilla-86"><span class="linenos">  86</span></a>
</span><span id="Bugzilla-87"><a href="#Bugzilla-87"><span class="linenos">  87</span></a><span class="sd">        bzapi = Bugzilla(&quot;http://bugzilla.example.com&quot;)</span>
</span><span id="Bugzilla-88"><a href="#Bugzilla-88"><span class="linenos">  88</span></a>
</span><span id="Bugzilla-89"><a href="#Bugzilla-89"><span class="linenos">  89</span></a><span class="sd">    If you have previously logged into that URL, and have cached login</span>
</span><span id="Bugzilla-90"><a href="#Bugzilla-90"><span class="linenos">  90</span></a><span class="sd">    tokens, you will automatically be logged in. Otherwise to</span>
</span><span id="Bugzilla-91"><a href="#Bugzilla-91"><span class="linenos">  91</span></a><span class="sd">    log in, you can either pass auth options to __init__, or call a login</span>
</span><span id="Bugzilla-92"><a href="#Bugzilla-92"><span class="linenos">  92</span></a><span class="sd">    helper like interactive_login().</span>
</span><span id="Bugzilla-93"><a href="#Bugzilla-93"><span class="linenos">  93</span></a>
</span><span id="Bugzilla-94"><a href="#Bugzilla-94"><span class="linenos">  94</span></a><span class="sd">    If you are not logged in, you won&#39;t be able to access restricted data like</span>
</span><span id="Bugzilla-95"><a href="#Bugzilla-95"><span class="linenos">  95</span></a><span class="sd">    user email, or perform write actions like bug create/update. But simple</span>
</span><span id="Bugzilla-96"><a href="#Bugzilla-96"><span class="linenos">  96</span></a><span class="sd">    querys will work correctly.</span>
</span><span id="Bugzilla-97"><a href="#Bugzilla-97"><span class="linenos">  97</span></a>
</span><span id="Bugzilla-98"><a href="#Bugzilla-98"><span class="linenos">  98</span></a><span class="sd">    If you are unsure if you are logged in, you can check the .logged_in</span>
</span><span id="Bugzilla-99"><a href="#Bugzilla-99"><span class="linenos">  99</span></a><span class="sd">    property.</span>
</span><span id="Bugzilla-100"><a href="#Bugzilla-100"><span class="linenos"> 100</span></a>
</span><span id="Bugzilla-101"><a href="#Bugzilla-101"><span class="linenos"> 101</span></a><span class="sd">    Another way to specify auth credentials is via a &#39;bugzillarc&#39; file.</span>
</span><span id="Bugzilla-102"><a href="#Bugzilla-102"><span class="linenos"> 102</span></a><span class="sd">    See readconfig() documentation for details.</span>
</span><span id="Bugzilla-103"><a href="#Bugzilla-103"><span class="linenos"> 103</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Bugzilla-104"><a href="#Bugzilla-104"><span class="linenos"> 104</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Bugzilla-105"><a href="#Bugzilla-105"><span class="linenos"> 105</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">url_to_query</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
</span><span id="Bugzilla-106"><a href="#Bugzilla-106"><span class="linenos"> 106</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-107"><a href="#Bugzilla-107"><span class="linenos"> 107</span></a><span class="sd">        Given a big huge bugzilla query URL, returns a query dict that can</span>
</span><span id="Bugzilla-108"><a href="#Bugzilla-108"><span class="linenos"> 108</span></a><span class="sd">        be passed along to the Bugzilla.query() method.</span>
</span><span id="Bugzilla-109"><a href="#Bugzilla-109"><span class="linenos"> 109</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-110"><a href="#Bugzilla-110"><span class="linenos"> 110</span></a>        <span class="n">q</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla-111"><a href="#Bugzilla-111"><span class="linenos"> 111</span></a>
</span><span id="Bugzilla-112"><a href="#Bugzilla-112"><span class="linenos"> 112</span></a>        <span class="c1"># pylint: disable=unpacking-non-sequence</span>
</span><span id="Bugzilla-113"><a href="#Bugzilla-113"><span class="linenos"> 113</span></a>        <span class="p">(</span><span class="n">ignore1</span><span class="p">,</span> <span class="n">ignore2</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span>
</span><span id="Bugzilla-114"><a href="#Bugzilla-114"><span class="linenos"> 114</span></a>         <span class="n">ignore</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">ignore3</span><span class="p">)</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span><span id="Bugzilla-115"><a href="#Bugzilla-115"><span class="linenos"> 115</span></a>
</span><span id="Bugzilla-116"><a href="#Bugzilla-116"><span class="linenos"> 116</span></a>        <span class="n">base</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</span><span id="Bugzilla-117"><a href="#Bugzilla-117"><span class="linenos"> 117</span></a>        <span class="k">if</span> <span class="n">base</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;buglist.cgi&#39;</span><span class="p">,</span> <span class="s1">&#39;query.cgi&#39;</span><span class="p">):</span>
</span><span id="Bugzilla-118"><a href="#Bugzilla-118"><span class="linenos"> 118</span></a>            <span class="k">return</span> <span class="p">{}</span>
</span><span id="Bugzilla-119"><a href="#Bugzilla-119"><span class="linenos"> 119</span></a>
</span><span id="Bugzilla-120"><a href="#Bugzilla-120"><span class="linenos"> 120</span></a>        <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">parse_qsl</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
</span><span id="Bugzilla-121"><a href="#Bugzilla-121"><span class="linenos"> 121</span></a>            <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">q</span><span class="p">:</span>
</span><span id="Bugzilla-122"><a href="#Bugzilla-122"><span class="linenos"> 122</span></a>                <span class="n">q</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
</span><span id="Bugzilla-123"><a href="#Bugzilla-123"><span class="linenos"> 123</span></a>            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="Bugzilla-124"><a href="#Bugzilla-124"><span class="linenos"> 124</span></a>                <span class="n">q</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</span><span id="Bugzilla-125"><a href="#Bugzilla-125"><span class="linenos"> 125</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Bugzilla-126"><a href="#Bugzilla-126"><span class="linenos"> 126</span></a>                <span class="n">oldv</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
</span><span id="Bugzilla-127"><a href="#Bugzilla-127"><span class="linenos"> 127</span></a>                <span class="n">q</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">oldv</span><span class="p">,</span> <span class="n">v</span><span class="p">]</span>
</span><span id="Bugzilla-128"><a href="#Bugzilla-128"><span class="linenos"> 128</span></a>
</span><span id="Bugzilla-129"><a href="#Bugzilla-129"><span class="linenos"> 129</span></a>        <span class="c1"># Handle saved searches</span>
</span><span id="Bugzilla-130"><a href="#Bugzilla-130"><span class="linenos"> 130</span></a>        <span class="k">if</span> <span class="n">base</span> <span class="o">==</span> <span class="s2">&quot;buglist.cgi&quot;</span> <span class="ow">and</span> <span class="s2">&quot;namedcmd&quot;</span> <span class="ow">in</span> <span class="n">q</span> <span class="ow">and</span> <span class="s2">&quot;sharer_id&quot;</span> <span class="ow">in</span> <span class="n">q</span><span class="p">:</span>
</span><span id="Bugzilla-131"><a href="#Bugzilla-131"><span class="linenos"> 131</span></a>            <span class="n">q</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Bugzilla-132"><a href="#Bugzilla-132"><span class="linenos"> 132</span></a>                <span class="s2">&quot;sharer_id&quot;</span><span class="p">:</span> <span class="n">q</span><span class="p">[</span><span class="s2">&quot;sharer_id&quot;</span><span class="p">],</span>
</span><span id="Bugzilla-133"><a href="#Bugzilla-133"><span class="linenos"> 133</span></a>                <span class="s2">&quot;savedsearch&quot;</span><span class="p">:</span> <span class="n">q</span><span class="p">[</span><span class="s2">&quot;namedcmd&quot;</span><span class="p">],</span>
</span><span id="Bugzilla-134"><a href="#Bugzilla-134"><span class="linenos"> 134</span></a>            <span class="p">}</span>
</span><span id="Bugzilla-135"><a href="#Bugzilla-135"><span class="linenos"> 135</span></a>
</span><span id="Bugzilla-136"><a href="#Bugzilla-136"><span class="linenos"> 136</span></a>        <span class="k">return</span> <span class="n">q</span>
</span><span id="Bugzilla-137"><a href="#Bugzilla-137"><span class="linenos"> 137</span></a>
</span><span id="Bugzilla-138"><a href="#Bugzilla-138"><span class="linenos"> 138</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Bugzilla-139"><a href="#Bugzilla-139"><span class="linenos"> 139</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">fix_url</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">force_rest</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Bugzilla-140"><a href="#Bugzilla-140"><span class="linenos"> 140</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-141"><a href="#Bugzilla-141"><span class="linenos"> 141</span></a><span class="sd">        Turn passed url into a bugzilla XMLRPC web url</span>
</span><span id="Bugzilla-142"><a href="#Bugzilla-142"><span class="linenos"> 142</span></a>
</span><span id="Bugzilla-143"><a href="#Bugzilla-143"><span class="linenos"> 143</span></a><span class="sd">        :param force_rest: If True, generate a REST API url</span>
</span><span id="Bugzilla-144"><a href="#Bugzilla-144"><span class="linenos"> 144</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-145"><a href="#Bugzilla-145"><span class="linenos"> 145</span></a>        <span class="p">(</span><span class="n">scheme</span><span class="p">,</span> <span class="n">netloc</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span>
</span><span id="Bugzilla-146"><a href="#Bugzilla-146"><span class="linenos"> 146</span></a>         <span class="n">params</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">fragment</span><span class="p">)</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span><span id="Bugzilla-147"><a href="#Bugzilla-147"><span class="linenos"> 147</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">scheme</span><span class="p">:</span>
</span><span id="Bugzilla-148"><a href="#Bugzilla-148"><span class="linenos"> 148</span></a>            <span class="n">scheme</span> <span class="o">=</span> <span class="s1">&#39;https&#39;</span>
</span><span id="Bugzilla-149"><a href="#Bugzilla-149"><span class="linenos"> 149</span></a>
</span><span id="Bugzilla-150"><a href="#Bugzilla-150"><span class="linenos"> 150</span></a>        <span class="k">if</span> <span class="n">path</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">netloc</span><span class="p">:</span>
</span><span id="Bugzilla-151"><a href="#Bugzilla-151"><span class="linenos"> 151</span></a>            <span class="n">netloc</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Bugzilla-152"><a href="#Bugzilla-152"><span class="linenos"> 152</span></a>            <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">:])</span> <span class="ow">or</span> <span class="kc">None</span>
</span><span id="Bugzilla-153"><a href="#Bugzilla-153"><span class="linenos"> 153</span></a>
</span><span id="Bugzilla-154"><a href="#Bugzilla-154"><span class="linenos"> 154</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
</span><span id="Bugzilla-155"><a href="#Bugzilla-155"><span class="linenos"> 155</span></a>            <span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;xmlrpc.cgi&#39;</span>
</span><span id="Bugzilla-156"><a href="#Bugzilla-156"><span class="linenos"> 156</span></a>            <span class="k">if</span> <span class="n">force_rest</span><span class="p">:</span>
</span><span id="Bugzilla-157"><a href="#Bugzilla-157"><span class="linenos"> 157</span></a>                <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;rest/&quot;</span>
</span><span id="Bugzilla-158"><a href="#Bugzilla-158"><span class="linenos"> 158</span></a>
</span><span id="Bugzilla-159"><a href="#Bugzilla-159"><span class="linenos"> 159</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">):</span>
</span><span id="Bugzilla-160"><a href="#Bugzilla-160"><span class="linenos"> 160</span></a>            <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="n">path</span>
</span><span id="Bugzilla-161"><a href="#Bugzilla-161"><span class="linenos"> 161</span></a>
</span><span id="Bugzilla-162"><a href="#Bugzilla-162"><span class="linenos"> 162</span></a>        <span class="n">newurl</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlunparse</span><span class="p">(</span>
</span><span id="Bugzilla-163"><a href="#Bugzilla-163"><span class="linenos"> 163</span></a>            <span class="p">(</span><span class="n">scheme</span><span class="p">,</span> <span class="n">netloc</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">fragment</span><span class="p">))</span>
</span><span id="Bugzilla-164"><a href="#Bugzilla-164"><span class="linenos"> 164</span></a>        <span class="k">return</span> <span class="n">newurl</span>
</span><span id="Bugzilla-165"><a href="#Bugzilla-165"><span class="linenos"> 165</span></a>
</span><span id="Bugzilla-166"><a href="#Bugzilla-166"><span class="linenos"> 166</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Bugzilla-167"><a href="#Bugzilla-167"><span class="linenos"> 167</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_rcfile_default_url</span><span class="p">():</span>
</span><span id="Bugzilla-168"><a href="#Bugzilla-168"><span class="linenos"> 168</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-169"><a href="#Bugzilla-169"><span class="linenos"> 169</span></a><span class="sd">        Helper to check all the default bugzillarc file paths for</span>
</span><span id="Bugzilla-170"><a href="#Bugzilla-170"><span class="linenos"> 170</span></a><span class="sd">        a [DEFAULT] url=X section, and if found, return it.</span>
</span><span id="Bugzilla-171"><a href="#Bugzilla-171"><span class="linenos"> 171</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-172"><a href="#Bugzilla-172"><span class="linenos"> 172</span></a>        <span class="n">configpaths</span> <span class="o">=</span> <span class="n">_BugzillaRCFile</span><span class="o">.</span><span class="n">get_default_configpaths</span><span class="p">()</span>
</span><span id="Bugzilla-173"><a href="#Bugzilla-173"><span class="linenos"> 173</span></a>        <span class="n">rcfile</span> <span class="o">=</span> <span class="n">_BugzillaRCFile</span><span class="p">()</span>
</span><span id="Bugzilla-174"><a href="#Bugzilla-174"><span class="linenos"> 174</span></a>        <span class="n">rcfile</span><span class="o">.</span><span class="n">set_configpaths</span><span class="p">(</span><span class="n">configpaths</span><span class="p">)</span>
</span><span id="Bugzilla-175"><a href="#Bugzilla-175"><span class="linenos"> 175</span></a>        <span class="k">return</span> <span class="n">rcfile</span><span class="o">.</span><span class="n">get_default_url</span><span class="p">()</span>
</span><span id="Bugzilla-176"><a href="#Bugzilla-176"><span class="linenos"> 176</span></a>
</span><span id="Bugzilla-177"><a href="#Bugzilla-177"><span class="linenos"> 177</span></a>
</span><span id="Bugzilla-178"><a href="#Bugzilla-178"><span class="linenos"> 178</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cookiefile</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
</span><span id="Bugzilla-179"><a href="#Bugzilla-179"><span class="linenos"> 179</span></a>                 <span class="n">sslverify</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">tokenfile</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">use_creds</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-180"><a href="#Bugzilla-180"><span class="linenos"> 180</span></a>                 <span class="n">cert</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">configpaths</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
</span><span id="Bugzilla-181"><a href="#Bugzilla-181"><span class="linenos"> 181</span></a>                 <span class="n">force_rest</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">force_xmlrpc</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">requests_session</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla-182"><a href="#Bugzilla-182"><span class="linenos"> 182</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-183"><a href="#Bugzilla-183"><span class="linenos"> 183</span></a><span class="sd">        :param url: The bugzilla instance URL, which we will connect</span>
</span><span id="Bugzilla-184"><a href="#Bugzilla-184"><span class="linenos"> 184</span></a><span class="sd">            to immediately. Most users will want to specify this at</span>
</span><span id="Bugzilla-185"><a href="#Bugzilla-185"><span class="linenos"> 185</span></a><span class="sd">            __init__ time, but you can defer connecting by passing</span>
</span><span id="Bugzilla-186"><a href="#Bugzilla-186"><span class="linenos"> 186</span></a><span class="sd">            url=None and calling connect(URL) manually</span>
</span><span id="Bugzilla-187"><a href="#Bugzilla-187"><span class="linenos"> 187</span></a><span class="sd">        :param user: optional username to connect with</span>
</span><span id="Bugzilla-188"><a href="#Bugzilla-188"><span class="linenos"> 188</span></a><span class="sd">        :param password: optional password for the connecting user</span>
</span><span id="Bugzilla-189"><a href="#Bugzilla-189"><span class="linenos"> 189</span></a><span class="sd">        :param cert: optional certificate file for client side certificate</span>
</span><span id="Bugzilla-190"><a href="#Bugzilla-190"><span class="linenos"> 190</span></a><span class="sd">            authentication</span>
</span><span id="Bugzilla-191"><a href="#Bugzilla-191"><span class="linenos"> 191</span></a><span class="sd">        :param cookiefile: Deprecated, raises an error if not -1 or None</span>
</span><span id="Bugzilla-192"><a href="#Bugzilla-192"><span class="linenos"> 192</span></a><span class="sd">        :param sslverify: Set this to False to skip SSL hostname and CA</span>
</span><span id="Bugzilla-193"><a href="#Bugzilla-193"><span class="linenos"> 193</span></a><span class="sd">            validation checks, like out of date certificate</span>
</span><span id="Bugzilla-194"><a href="#Bugzilla-194"><span class="linenos"> 194</span></a><span class="sd">        :param tokenfile: Location to cache the API login token so youi</span>
</span><span id="Bugzilla-195"><a href="#Bugzilla-195"><span class="linenos"> 195</span></a><span class="sd">            don&#39;t have to keep specifying username/password.</span>
</span><span id="Bugzilla-196"><a href="#Bugzilla-196"><span class="linenos"> 196</span></a><span class="sd">            If -1, use the default path. If None, don&#39;t use</span>
</span><span id="Bugzilla-197"><a href="#Bugzilla-197"><span class="linenos"> 197</span></a><span class="sd">            or save any tokenfile.</span>
</span><span id="Bugzilla-198"><a href="#Bugzilla-198"><span class="linenos"> 198</span></a><span class="sd">        :param use_creds: If False, this disables tokenfile</span>
</span><span id="Bugzilla-199"><a href="#Bugzilla-199"><span class="linenos"> 199</span></a><span class="sd">            and configpaths by default. This is a convenience option to</span>
</span><span id="Bugzilla-200"><a href="#Bugzilla-200"><span class="linenos"> 200</span></a><span class="sd">            unset those values at init time. If those values are later</span>
</span><span id="Bugzilla-201"><a href="#Bugzilla-201"><span class="linenos"> 201</span></a><span class="sd">            changed, they may be used for future operations.</span>
</span><span id="Bugzilla-202"><a href="#Bugzilla-202"><span class="linenos"> 202</span></a><span class="sd">        :param sslverify: Maps to &#39;requests&#39; sslverify parameter. Set to</span>
</span><span id="Bugzilla-203"><a href="#Bugzilla-203"><span class="linenos"> 203</span></a><span class="sd">            False to disable SSL verification, but it can also be a path</span>
</span><span id="Bugzilla-204"><a href="#Bugzilla-204"><span class="linenos"> 204</span></a><span class="sd">            to file or directory for custom certs.</span>
</span><span id="Bugzilla-205"><a href="#Bugzilla-205"><span class="linenos"> 205</span></a><span class="sd">        :param api_key: A bugzilla5+ API key</span>
</span><span id="Bugzilla-206"><a href="#Bugzilla-206"><span class="linenos"> 206</span></a><span class="sd">        :param configpaths: A list of possible bugzillarc locations.</span>
</span><span id="Bugzilla-207"><a href="#Bugzilla-207"><span class="linenos"> 207</span></a><span class="sd">        :param force_rest: Force use of the REST API</span>
</span><span id="Bugzilla-208"><a href="#Bugzilla-208"><span class="linenos"> 208</span></a><span class="sd">        :param force_xmlrpc: Force use of the XMLRPC API. If neither force_X</span>
</span><span id="Bugzilla-209"><a href="#Bugzilla-209"><span class="linenos"> 209</span></a><span class="sd">            parameter are specified, heuristics will be used to determine</span>
</span><span id="Bugzilla-210"><a href="#Bugzilla-210"><span class="linenos"> 210</span></a><span class="sd">            which API to use, with XMLRPC preferred for back compatability.</span>
</span><span id="Bugzilla-211"><a href="#Bugzilla-211"><span class="linenos"> 211</span></a><span class="sd">        :param requests_session: An optional requests.Session object the</span>
</span><span id="Bugzilla-212"><a href="#Bugzilla-212"><span class="linenos"> 212</span></a><span class="sd">            API will use to contact the remote bugzilla instance. This</span>
</span><span id="Bugzilla-213"><a href="#Bugzilla-213"><span class="linenos"> 213</span></a><span class="sd">            way the API user can set up whatever auth bits they may need.</span>
</span><span id="Bugzilla-214"><a href="#Bugzilla-214"><span class="linenos"> 214</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-215"><a href="#Bugzilla-215"><span class="linenos"> 215</span></a>        <span class="k">if</span> <span class="n">url</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="Bugzilla-216"><a href="#Bugzilla-216"><span class="linenos"> 216</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Specify a valid bugzilla url, or pass url=None&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-217"><a href="#Bugzilla-217"><span class="linenos"> 217</span></a>
</span><span id="Bugzilla-218"><a href="#Bugzilla-218"><span class="linenos"> 218</span></a>        <span class="c1"># Settings the user might want to tweak</span>
</span><span id="Bugzilla-219"><a href="#Bugzilla-219"><span class="linenos"> 219</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">user</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span>
</span><span id="Bugzilla-220"><a href="#Bugzilla-220"><span class="linenos"> 220</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="n">password</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span>
</span><span id="Bugzilla-221"><a href="#Bugzilla-221"><span class="linenos"> 221</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="n">api_key</span>
</span><span id="Bugzilla-222"><a href="#Bugzilla-222"><span class="linenos"> 222</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cert</span> <span class="o">=</span> <span class="n">cert</span> <span class="ow">or</span> <span class="kc">None</span>
</span><span id="Bugzilla-223"><a href="#Bugzilla-223"><span class="linenos"> 223</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="Bugzilla-224"><a href="#Bugzilla-224"><span class="linenos"> 224</span></a>
</span><span id="Bugzilla-225"><a href="#Bugzilla-225"><span class="linenos"> 225</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Bugzilla-226"><a href="#Bugzilla-226"><span class="linenos"> 226</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_session</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Bugzilla-227"><a href="#Bugzilla-227"><span class="linenos"> 227</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_user_requests_session</span> <span class="o">=</span> <span class="n">requests_session</span>
</span><span id="Bugzilla-228"><a href="#Bugzilla-228"><span class="linenos"> 228</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sslverify</span> <span class="o">=</span> <span class="n">sslverify</span>
</span><span id="Bugzilla-229"><a href="#Bugzilla-229"><span class="linenos"> 229</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span> <span class="o">=</span> <span class="n">_BugzillaAPICache</span><span class="p">()</span>
</span><span id="Bugzilla-230"><a href="#Bugzilla-230"><span class="linenos"> 230</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bug_autorefresh</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Bugzilla-231"><a href="#Bugzilla-231"><span class="linenos"> 231</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_redhat_bugzilla</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Bugzilla-232"><a href="#Bugzilla-232"><span class="linenos"> 232</span></a>
</span><span id="Bugzilla-233"><a href="#Bugzilla-233"><span class="linenos"> 233</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_rcfile</span> <span class="o">=</span> <span class="n">_BugzillaRCFile</span><span class="p">()</span>
</span><span id="Bugzilla-234"><a href="#Bugzilla-234"><span class="linenos"> 234</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_tokencache</span> <span class="o">=</span> <span class="n">_BugzillaTokenCache</span><span class="p">()</span>
</span><span id="Bugzilla-235"><a href="#Bugzilla-235"><span class="linenos"> 235</span></a>
</span><span id="Bugzilla-236"><a href="#Bugzilla-236"><span class="linenos"> 236</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_force_rest</span> <span class="o">=</span> <span class="n">force_rest</span>
</span><span id="Bugzilla-237"><a href="#Bugzilla-237"><span class="linenos"> 237</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_force_xmlrpc</span> <span class="o">=</span> <span class="n">force_xmlrpc</span>
</span><span id="Bugzilla-238"><a href="#Bugzilla-238"><span class="linenos"> 238</span></a>
</span><span id="Bugzilla-239"><a href="#Bugzilla-239"><span class="linenos"> 239</span></a>        <span class="k">if</span> <span class="n">cookiefile</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
</span><span id="Bugzilla-240"><a href="#Bugzilla-240"><span class="linenos"> 240</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;cookiefile is deprecated, don&#39;t pass any value.&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-241"><a href="#Bugzilla-241"><span class="linenos"> 241</span></a>
</span><span id="Bugzilla-242"><a href="#Bugzilla-242"><span class="linenos"> 242</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">use_creds</span><span class="p">:</span>
</span><span id="Bugzilla-243"><a href="#Bugzilla-243"><span class="linenos"> 243</span></a>            <span class="n">tokenfile</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Bugzilla-244"><a href="#Bugzilla-244"><span class="linenos"> 244</span></a>            <span class="n">configpaths</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Bugzilla-245"><a href="#Bugzilla-245"><span class="linenos"> 245</span></a>
</span><span id="Bugzilla-246"><a href="#Bugzilla-246"><span class="linenos"> 246</span></a>        <span class="k">if</span> <span class="n">tokenfile</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="Bugzilla-247"><a href="#Bugzilla-247"><span class="linenos"> 247</span></a>            <span class="n">tokenfile</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tokencache</span><span class="o">.</span><span class="n">get_default_path</span><span class="p">()</span>
</span><span id="Bugzilla-248"><a href="#Bugzilla-248"><span class="linenos"> 248</span></a>        <span class="k">if</span> <span class="n">configpaths</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="Bugzilla-249"><a href="#Bugzilla-249"><span class="linenos"> 249</span></a>            <span class="n">configpaths</span> <span class="o">=</span> <span class="n">_BugzillaRCFile</span><span class="o">.</span><span class="n">get_default_configpaths</span><span class="p">()</span>
</span><span id="Bugzilla-250"><a href="#Bugzilla-250"><span class="linenos"> 250</span></a>
</span><span id="Bugzilla-251"><a href="#Bugzilla-251"><span class="linenos"> 251</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_settokenfile</span><span class="p">(</span><span class="n">tokenfile</span><span class="p">)</span>
</span><span id="Bugzilla-252"><a href="#Bugzilla-252"><span class="linenos"> 252</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_setconfigpath</span><span class="p">(</span><span class="n">configpaths</span><span class="p">)</span>
</span><span id="Bugzilla-253"><a href="#Bugzilla-253"><span class="linenos"> 253</span></a>
</span><span id="Bugzilla-254"><a href="#Bugzilla-254"><span class="linenos"> 254</span></a>        <span class="k">if</span> <span class="n">url</span><span class="p">:</span>
</span><span id="Bugzilla-255"><a href="#Bugzilla-255"><span class="linenos"> 255</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span><span id="Bugzilla-256"><a href="#Bugzilla-256"><span class="linenos"> 256</span></a>
</span><span id="Bugzilla-257"><a href="#Bugzilla-257"><span class="linenos"> 257</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_detect_is_redhat_bugzilla</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-258"><a href="#Bugzilla-258"><span class="linenos"> 258</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_redhat_bugzilla</span><span class="p">:</span>
</span><span id="Bugzilla-259"><a href="#Bugzilla-259"><span class="linenos"> 259</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="Bugzilla-260"><a href="#Bugzilla-260"><span class="linenos"> 260</span></a>
</span><span id="Bugzilla-261"><a href="#Bugzilla-261"><span class="linenos"> 261</span></a>        <span class="n">match</span> <span class="o">=</span> <span class="s2">&quot;.redhat.com&quot;</span>
</span><span id="Bugzilla-262"><a href="#Bugzilla-262"><span class="linenos"> 262</span></a>        <span class="k">if</span> <span class="n">match</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">:</span>
</span><span id="Bugzilla-263"><a href="#Bugzilla-263"><span class="linenos"> 263</span></a>            <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Using RHBugzilla for URL containing </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">match</span><span class="p">)</span>
</span><span id="Bugzilla-264"><a href="#Bugzilla-264"><span class="linenos"> 264</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="Bugzilla-265"><a href="#Bugzilla-265"><span class="linenos"> 265</span></a>
</span><span id="Bugzilla-266"><a href="#Bugzilla-266"><span class="linenos"> 266</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="Bugzilla-267"><a href="#Bugzilla-267"><span class="linenos"> 267</span></a>
</span><span id="Bugzilla-268"><a href="#Bugzilla-268"><span class="linenos"> 268</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_init_class_from_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-269"><a href="#Bugzilla-269"><span class="linenos"> 269</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-270"><a href="#Bugzilla-270"><span class="linenos"> 270</span></a><span class="sd">        Detect if we should use RHBugzilla class, and if so, set it</span>
</span><span id="Bugzilla-271"><a href="#Bugzilla-271"><span class="linenos"> 271</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-272"><a href="#Bugzilla-272"><span class="linenos"> 272</span></a>        <span class="kn">from</span><span class="w"> </span><span class="nn">.oldclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">RHBugzilla</span>  <span class="c1"># pylint: disable=cyclic-import</span>
</span><span id="Bugzilla-273"><a href="#Bugzilla-273"><span class="linenos"> 273</span></a>
</span><span id="Bugzilla-274"><a href="#Bugzilla-274"><span class="linenos"> 274</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_detect_is_redhat_bugzilla</span><span class="p">():</span>
</span><span id="Bugzilla-275"><a href="#Bugzilla-275"><span class="linenos"> 275</span></a>            <span class="k">return</span>
</span><span id="Bugzilla-276"><a href="#Bugzilla-276"><span class="linenos"> 276</span></a>
</span><span id="Bugzilla-277"><a href="#Bugzilla-277"><span class="linenos"> 277</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_redhat_bugzilla</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Bugzilla-278"><a href="#Bugzilla-278"><span class="linenos"> 278</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">==</span> <span class="n">Bugzilla</span><span class="p">:</span>
</span><span id="Bugzilla-279"><a href="#Bugzilla-279"><span class="linenos"> 279</span></a>            <span class="c1"># Overriding the class doesn&#39;t have any functional effect,</span>
</span><span id="Bugzilla-280"><a href="#Bugzilla-280"><span class="linenos"> 280</span></a>            <span class="c1"># but we continue to do it for API back compat incase anyone</span>
</span><span id="Bugzilla-281"><a href="#Bugzilla-281"><span class="linenos"> 281</span></a>            <span class="c1"># is doing any class comparison. We should drop this in the future</span>
</span><span id="Bugzilla-282"><a href="#Bugzilla-282"><span class="linenos"> 282</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">=</span> <span class="n">RHBugzilla</span>
</span><span id="Bugzilla-283"><a href="#Bugzilla-283"><span class="linenos"> 283</span></a>
</span><span id="Bugzilla-284"><a href="#Bugzilla-284"><span class="linenos"> 284</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_get_field_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-285"><a href="#Bugzilla-285"><span class="linenos"> 285</span></a>        <span class="c1"># List of field aliases. Maps old style RHBZ parameter</span>
</span><span id="Bugzilla-286"><a href="#Bugzilla-286"><span class="linenos"> 286</span></a>        <span class="c1"># names to actual upstream values. Used for createbug() and</span>
</span><span id="Bugzilla-287"><a href="#Bugzilla-287"><span class="linenos"> 287</span></a>        <span class="c1"># query include_fields at least.</span>
</span><span id="Bugzilla-288"><a href="#Bugzilla-288"><span class="linenos"> 288</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Bugzilla-289"><a href="#Bugzilla-289"><span class="linenos"> 289</span></a>
</span><span id="Bugzilla-290"><a href="#Bugzilla-290"><span class="linenos"> 290</span></a>        <span class="k">def</span><span class="w"> </span><span class="nf">_add</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Bugzilla-291"><a href="#Bugzilla-291"><span class="linenos"> 291</span></a>            <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_FieldAlias</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
</span><span id="Bugzilla-292"><a href="#Bugzilla-292"><span class="linenos"> 292</span></a>
</span><span id="Bugzilla-293"><a href="#Bugzilla-293"><span class="linenos"> 293</span></a>        <span class="k">def</span><span class="w"> </span><span class="nf">_add_both</span><span class="p">(</span><span class="n">newname</span><span class="p">,</span> <span class="n">origname</span><span class="p">):</span>
</span><span id="Bugzilla-294"><a href="#Bugzilla-294"><span class="linenos"> 294</span></a>            <span class="n">_add</span><span class="p">(</span><span class="n">newname</span><span class="p">,</span> <span class="n">origname</span><span class="p">,</span> <span class="n">is_api</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="Bugzilla-295"><a href="#Bugzilla-295"><span class="linenos"> 295</span></a>            <span class="n">_add</span><span class="p">(</span><span class="n">origname</span><span class="p">,</span> <span class="n">newname</span><span class="p">,</span> <span class="n">is_bug</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="Bugzilla-296"><a href="#Bugzilla-296"><span class="linenos"> 296</span></a>
</span><span id="Bugzilla-297"><a href="#Bugzilla-297"><span class="linenos"> 297</span></a>        <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;summary&#39;</span><span class="p">,</span> <span class="s1">&#39;short_desc&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-298"><a href="#Bugzilla-298"><span class="linenos"> 298</span></a>        <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;description&#39;</span><span class="p">,</span> <span class="s1">&#39;comment&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-299"><a href="#Bugzilla-299"><span class="linenos"> 299</span></a>        <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;platform&#39;</span><span class="p">,</span> <span class="s1">&#39;rep_platform&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-300"><a href="#Bugzilla-300"><span class="linenos"> 300</span></a>        <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;severity&#39;</span><span class="p">,</span> <span class="s1">&#39;bug_severity&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-301"><a href="#Bugzilla-301"><span class="linenos"> 301</span></a>        <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;status&#39;</span><span class="p">,</span> <span class="s1">&#39;bug_status&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-302"><a href="#Bugzilla-302"><span class="linenos"> 302</span></a>        <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;bug_id&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-303"><a href="#Bugzilla-303"><span class="linenos"> 303</span></a>        <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;blocks&#39;</span><span class="p">,</span> <span class="s1">&#39;blockedby&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-304"><a href="#Bugzilla-304"><span class="linenos"> 304</span></a>        <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;blocks&#39;</span><span class="p">,</span> <span class="s1">&#39;blocked&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-305"><a href="#Bugzilla-305"><span class="linenos"> 305</span></a>        <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;depends_on&#39;</span><span class="p">,</span> <span class="s1">&#39;dependson&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-306"><a href="#Bugzilla-306"><span class="linenos"> 306</span></a>        <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;creator&#39;</span><span class="p">,</span> <span class="s1">&#39;reporter&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-307"><a href="#Bugzilla-307"><span class="linenos"> 307</span></a>        <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;bug_file_loc&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-308"><a href="#Bugzilla-308"><span class="linenos"> 308</span></a>        <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;dupe_of&#39;</span><span class="p">,</span> <span class="s1">&#39;dupe_id&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-309"><a href="#Bugzilla-309"><span class="linenos"> 309</span></a>        <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;dupe_of&#39;</span><span class="p">,</span> <span class="s1">&#39;dup_id&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-310"><a href="#Bugzilla-310"><span class="linenos"> 310</span></a>        <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;comments&#39;</span><span class="p">,</span> <span class="s1">&#39;longdescs&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-311"><a href="#Bugzilla-311"><span class="linenos"> 311</span></a>        <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;creation_time&#39;</span><span class="p">,</span> <span class="s1">&#39;opendate&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-312"><a href="#Bugzilla-312"><span class="linenos"> 312</span></a>        <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;creation_time&#39;</span><span class="p">,</span> <span class="s1">&#39;creation_ts&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-313"><a href="#Bugzilla-313"><span class="linenos"> 313</span></a>        <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;whiteboard&#39;</span><span class="p">,</span> <span class="s1">&#39;status_whiteboard&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-314"><a href="#Bugzilla-314"><span class="linenos"> 314</span></a>        <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;last_change_time&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_ts&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-315"><a href="#Bugzilla-315"><span class="linenos"> 315</span></a>
</span><span id="Bugzilla-316"><a href="#Bugzilla-316"><span class="linenos"> 316</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_redhat_bugzilla</span><span class="p">:</span>
</span><span id="Bugzilla-317"><a href="#Bugzilla-317"><span class="linenos"> 317</span></a>            <span class="n">_add_both</span><span class="p">(</span><span class="s1">&#39;fixed_in&#39;</span><span class="p">,</span> <span class="s1">&#39;cf_fixed_in&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-318"><a href="#Bugzilla-318"><span class="linenos"> 318</span></a>            <span class="n">_add_both</span><span class="p">(</span><span class="s1">&#39;qa_whiteboard&#39;</span><span class="p">,</span> <span class="s1">&#39;cf_qa_whiteboard&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-319"><a href="#Bugzilla-319"><span class="linenos"> 319</span></a>            <span class="n">_add_both</span><span class="p">(</span><span class="s1">&#39;devel_whiteboard&#39;</span><span class="p">,</span> <span class="s1">&#39;cf_devel_whiteboard&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-320"><a href="#Bugzilla-320"><span class="linenos"> 320</span></a>            <span class="n">_add_both</span><span class="p">(</span><span class="s1">&#39;internal_whiteboard&#39;</span><span class="p">,</span> <span class="s1">&#39;cf_internal_whiteboard&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-321"><a href="#Bugzilla-321"><span class="linenos"> 321</span></a>
</span><span id="Bugzilla-322"><a href="#Bugzilla-322"><span class="linenos"> 322</span></a>            <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;component&#39;</span><span class="p">,</span> <span class="s1">&#39;components&#39;</span><span class="p">,</span> <span class="n">is_bug</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="Bugzilla-323"><a href="#Bugzilla-323"><span class="linenos"> 323</span></a>            <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;version&#39;</span><span class="p">,</span> <span class="s1">&#39;versions&#39;</span><span class="p">,</span> <span class="n">is_bug</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="Bugzilla-324"><a href="#Bugzilla-324"><span class="linenos"> 324</span></a>            <span class="c1"># Yes, sub_components is the field name the API expects</span>
</span><span id="Bugzilla-325"><a href="#Bugzilla-325"><span class="linenos"> 325</span></a>            <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;sub_components&#39;</span><span class="p">,</span> <span class="s1">&#39;sub_component&#39;</span><span class="p">,</span> <span class="n">is_bug</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="Bugzilla-326"><a href="#Bugzilla-326"><span class="linenos"> 326</span></a>            <span class="c1"># flags format isn&#39;t exactly the same but it&#39;s the closest approx</span>
</span><span id="Bugzilla-327"><a href="#Bugzilla-327"><span class="linenos"> 327</span></a>            <span class="n">_add</span><span class="p">(</span><span class="s1">&#39;flags&#39;</span><span class="p">,</span> <span class="s1">&#39;flag_types&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-328"><a href="#Bugzilla-328"><span class="linenos"> 328</span></a>
</span><span id="Bugzilla-329"><a href="#Bugzilla-329"><span class="linenos"> 329</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="Bugzilla-330"><a href="#Bugzilla-330"><span class="linenos"> 330</span></a>
</span><span id="Bugzilla-331"><a href="#Bugzilla-331"><span class="linenos"> 331</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_get_user_agent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-332"><a href="#Bugzilla-332"><span class="linenos"> 332</span></a>        <span class="k">return</span> <span class="s1">&#39;python-bugzilla/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">__version__</span>
</span><span id="Bugzilla-333"><a href="#Bugzilla-333"><span class="linenos"> 333</span></a>    <span class="n">user_agent</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_user_agent</span><span class="p">)</span>
</span><span id="Bugzilla-334"><a href="#Bugzilla-334"><span class="linenos"> 334</span></a>
</span><span id="Bugzilla-335"><a href="#Bugzilla-335"><span class="linenos"> 335</span></a>    <span class="nd">@property</span>
</span><span id="Bugzilla-336"><a href="#Bugzilla-336"><span class="linenos"> 336</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">bz_ver_major</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-337"><a href="#Bugzilla-337"><span class="linenos"> 337</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">version_parsed</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Bugzilla-338"><a href="#Bugzilla-338"><span class="linenos"> 338</span></a>
</span><span id="Bugzilla-339"><a href="#Bugzilla-339"><span class="linenos"> 339</span></a>    <span class="nd">@property</span>
</span><span id="Bugzilla-340"><a href="#Bugzilla-340"><span class="linenos"> 340</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">bz_ver_minor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-341"><a href="#Bugzilla-341"><span class="linenos"> 341</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">version_parsed</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="Bugzilla-342"><a href="#Bugzilla-342"><span class="linenos"> 342</span></a>
</span><span id="Bugzilla-343"><a href="#Bugzilla-343"><span class="linenos"> 343</span></a>
</span><span id="Bugzilla-344"><a href="#Bugzilla-344"><span class="linenos"> 344</span></a>    <span class="c1">###################</span>
</span><span id="Bugzilla-345"><a href="#Bugzilla-345"><span class="linenos"> 345</span></a>    <span class="c1"># Private helpers #</span>
</span><span id="Bugzilla-346"><a href="#Bugzilla-346"><span class="linenos"> 346</span></a>    <span class="c1">###################</span>
</span><span id="Bugzilla-347"><a href="#Bugzilla-347"><span class="linenos"> 347</span></a>
</span><span id="Bugzilla-348"><a href="#Bugzilla-348"><span class="linenos"> 348</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_get_version</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-349"><a href="#Bugzilla-349"><span class="linenos"> 349</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-350"><a href="#Bugzilla-350"><span class="linenos"> 350</span></a><span class="sd">        Return version number as a float</span>
</span><span id="Bugzilla-351"><a href="#Bugzilla-351"><span class="linenos"> 351</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-352"><a href="#Bugzilla-352"><span class="linenos"> 352</span></a>        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2">.</span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bz_ver_major</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bz_ver_minor</span><span class="p">))</span>
</span><span id="Bugzilla-353"><a href="#Bugzilla-353"><span class="linenos"> 353</span></a>
</span><span id="Bugzilla-354"><a href="#Bugzilla-354"><span class="linenos"> 354</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_get_bug_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-355"><a href="#Bugzilla-355"><span class="linenos"> 355</span></a>        <span class="k">return</span> <span class="p">[(</span><span class="n">f</span><span class="o">.</span><span class="n">newname</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">oldname</span><span class="p">)</span>
</span><span id="Bugzilla-356"><a href="#Bugzilla-356"><span class="linenos"> 356</span></a>                <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_field_aliases</span><span class="p">()</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">is_bug</span><span class="p">]</span>
</span><span id="Bugzilla-357"><a href="#Bugzilla-357"><span class="linenos"> 357</span></a>
</span><span id="Bugzilla-358"><a href="#Bugzilla-358"><span class="linenos"> 358</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_get_api_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-359"><a href="#Bugzilla-359"><span class="linenos"> 359</span></a>        <span class="k">return</span> <span class="p">[(</span><span class="n">f</span><span class="o">.</span><span class="n">newname</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">oldname</span><span class="p">)</span>
</span><span id="Bugzilla-360"><a href="#Bugzilla-360"><span class="linenos"> 360</span></a>                <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_field_aliases</span><span class="p">()</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">is_api</span><span class="p">]</span>
</span><span id="Bugzilla-361"><a href="#Bugzilla-361"><span class="linenos"> 361</span></a>
</span><span id="Bugzilla-362"><a href="#Bugzilla-362"><span class="linenos"> 362</span></a>
</span><span id="Bugzilla-363"><a href="#Bugzilla-363"><span class="linenos"> 363</span></a>    <span class="c1">#################</span>
</span><span id="Bugzilla-364"><a href="#Bugzilla-364"><span class="linenos"> 364</span></a>    <span class="c1"># Auth handling #</span>
</span><span id="Bugzilla-365"><a href="#Bugzilla-365"><span class="linenos"> 365</span></a>    <span class="c1">#################</span>
</span><span id="Bugzilla-366"><a href="#Bugzilla-366"><span class="linenos"> 366</span></a>
</span><span id="Bugzilla-367"><a href="#Bugzilla-367"><span class="linenos"> 367</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_getcookiefile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-368"><a href="#Bugzilla-368"><span class="linenos"> 368</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="Bugzilla-369"><a href="#Bugzilla-369"><span class="linenos"> 369</span></a>    <span class="n">cookiefile</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_getcookiefile</span><span class="p">)</span>
</span><span id="Bugzilla-370"><a href="#Bugzilla-370"><span class="linenos"> 370</span></a>
</span><span id="Bugzilla-371"><a href="#Bugzilla-371"><span class="linenos"> 371</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_gettokenfile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-372"><a href="#Bugzilla-372"><span class="linenos"> 372</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tokencache</span><span class="o">.</span><span class="n">get_filename</span><span class="p">()</span>
</span><span id="Bugzilla-373"><a href="#Bugzilla-373"><span class="linenos"> 373</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_settokenfile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
</span><span id="Bugzilla-374"><a href="#Bugzilla-374"><span class="linenos"> 374</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_tokencache</span><span class="o">.</span><span class="n">set_filename</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</span><span id="Bugzilla-375"><a href="#Bugzilla-375"><span class="linenos"> 375</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_deltokenfile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-376"><a href="#Bugzilla-376"><span class="linenos"> 376</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_settokenfile</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</span><span id="Bugzilla-377"><a href="#Bugzilla-377"><span class="linenos"> 377</span></a>    <span class="n">tokenfile</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_gettokenfile</span><span class="p">,</span> <span class="n">_settokenfile</span><span class="p">,</span> <span class="n">_deltokenfile</span><span class="p">)</span>
</span><span id="Bugzilla-378"><a href="#Bugzilla-378"><span class="linenos"> 378</span></a>
</span><span id="Bugzilla-379"><a href="#Bugzilla-379"><span class="linenos"> 379</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_getconfigpath</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-380"><a href="#Bugzilla-380"><span class="linenos"> 380</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rcfile</span><span class="o">.</span><span class="n">get_configpaths</span><span class="p">()</span>
</span><span id="Bugzilla-381"><a href="#Bugzilla-381"><span class="linenos"> 381</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_setconfigpath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">configpaths</span><span class="p">):</span>
</span><span id="Bugzilla-382"><a href="#Bugzilla-382"><span class="linenos"> 382</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rcfile</span><span class="o">.</span><span class="n">set_configpaths</span><span class="p">(</span><span class="n">configpaths</span><span class="p">)</span>
</span><span id="Bugzilla-383"><a href="#Bugzilla-383"><span class="linenos"> 383</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_delconfigpath</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-384"><a href="#Bugzilla-384"><span class="linenos"> 384</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rcfile</span><span class="o">.</span><span class="n">set_configpaths</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</span><span id="Bugzilla-385"><a href="#Bugzilla-385"><span class="linenos"> 385</span></a>    <span class="n">configpath</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_getconfigpath</span><span class="p">,</span> <span class="n">_setconfigpath</span><span class="p">,</span> <span class="n">_delconfigpath</span><span class="p">)</span>
</span><span id="Bugzilla-386"><a href="#Bugzilla-386"><span class="linenos"> 386</span></a>
</span><span id="Bugzilla-387"><a href="#Bugzilla-387"><span class="linenos"> 387</span></a>
</span><span id="Bugzilla-388"><a href="#Bugzilla-388"><span class="linenos"> 388</span></a>    <span class="c1">#############################</span>
</span><span id="Bugzilla-389"><a href="#Bugzilla-389"><span class="linenos"> 389</span></a>    <span class="c1"># Login/connection handling #</span>
</span><span id="Bugzilla-390"><a href="#Bugzilla-390"><span class="linenos"> 390</span></a>    <span class="c1">#############################</span>
</span><span id="Bugzilla-391"><a href="#Bugzilla-391"><span class="linenos"> 391</span></a>
</span><span id="Bugzilla-392"><a href="#Bugzilla-392"><span class="linenos"> 392</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">readconfig</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">configpath</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="Bugzilla-393"><a href="#Bugzilla-393"><span class="linenos"> 393</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-394"><a href="#Bugzilla-394"><span class="linenos"> 394</span></a><span class="sd">        :param configpath: Optional bugzillarc path to read, instead of</span>
</span><span id="Bugzilla-395"><a href="#Bugzilla-395"><span class="linenos"> 395</span></a><span class="sd">            the default list.</span>
</span><span id="Bugzilla-396"><a href="#Bugzilla-396"><span class="linenos"> 396</span></a>
</span><span id="Bugzilla-397"><a href="#Bugzilla-397"><span class="linenos"> 397</span></a><span class="sd">        This function is called automatically from Bugzilla connect(), which</span>
</span><span id="Bugzilla-398"><a href="#Bugzilla-398"><span class="linenos"> 398</span></a><span class="sd">        is called at __init__ if a URL is passed. Calling it manually is</span>
</span><span id="Bugzilla-399"><a href="#Bugzilla-399"><span class="linenos"> 399</span></a><span class="sd">        just for passing in a non-standard configpath.</span>
</span><span id="Bugzilla-400"><a href="#Bugzilla-400"><span class="linenos"> 400</span></a>
</span><span id="Bugzilla-401"><a href="#Bugzilla-401"><span class="linenos"> 401</span></a><span class="sd">        The locations for the bugzillarc file are preferred in this order:</span>
</span><span id="Bugzilla-402"><a href="#Bugzilla-402"><span class="linenos"> 402</span></a>
</span><span id="Bugzilla-403"><a href="#Bugzilla-403"><span class="linenos"> 403</span></a><span class="sd">            ~/.config/python-bugzilla/bugzillarc</span>
</span><span id="Bugzilla-404"><a href="#Bugzilla-404"><span class="linenos"> 404</span></a><span class="sd">            ~/.bugzillarc</span>
</span><span id="Bugzilla-405"><a href="#Bugzilla-405"><span class="linenos"> 405</span></a><span class="sd">            /etc/bugzillarc</span>
</span><span id="Bugzilla-406"><a href="#Bugzilla-406"><span class="linenos"> 406</span></a>
</span><span id="Bugzilla-407"><a href="#Bugzilla-407"><span class="linenos"> 407</span></a><span class="sd">        It has content like:</span>
</span><span id="Bugzilla-408"><a href="#Bugzilla-408"><span class="linenos"> 408</span></a><span class="sd">          [bugzilla.yoursite.com]</span>
</span><span id="Bugzilla-409"><a href="#Bugzilla-409"><span class="linenos"> 409</span></a><span class="sd">          user = username</span>
</span><span id="Bugzilla-410"><a href="#Bugzilla-410"><span class="linenos"> 410</span></a><span class="sd">          password = password</span>
</span><span id="Bugzilla-411"><a href="#Bugzilla-411"><span class="linenos"> 411</span></a><span class="sd">        Or</span>
</span><span id="Bugzilla-412"><a href="#Bugzilla-412"><span class="linenos"> 412</span></a><span class="sd">          [bugzilla.yoursite.com]</span>
</span><span id="Bugzilla-413"><a href="#Bugzilla-413"><span class="linenos"> 413</span></a><span class="sd">          api_key = key</span>
</span><span id="Bugzilla-414"><a href="#Bugzilla-414"><span class="linenos"> 414</span></a>
</span><span id="Bugzilla-415"><a href="#Bugzilla-415"><span class="linenos"> 415</span></a><span class="sd">        The file can have multiple sections for different bugzilla instances.</span>
</span><span id="Bugzilla-416"><a href="#Bugzilla-416"><span class="linenos"> 416</span></a><span class="sd">        A &#39;url&#39; field in the [DEFAULT] section can be used to set a default</span>
</span><span id="Bugzilla-417"><a href="#Bugzilla-417"><span class="linenos"> 417</span></a><span class="sd">        URL for the bugzilla command line tool.</span>
</span><span id="Bugzilla-418"><a href="#Bugzilla-418"><span class="linenos"> 418</span></a>
</span><span id="Bugzilla-419"><a href="#Bugzilla-419"><span class="linenos"> 419</span></a><span class="sd">        Be sure to set appropriate permissions on bugzillarc if you choose to</span>
</span><span id="Bugzilla-420"><a href="#Bugzilla-420"><span class="linenos"> 420</span></a><span class="sd">        store your password in it!</span>
</span><span id="Bugzilla-421"><a href="#Bugzilla-421"><span class="linenos"> 421</span></a>
</span><span id="Bugzilla-422"><a href="#Bugzilla-422"><span class="linenos"> 422</span></a><span class="sd">        :param overwrite: If True, bugzillarc will clobber any already</span>
</span><span id="Bugzilla-423"><a href="#Bugzilla-423"><span class="linenos"> 423</span></a><span class="sd">            set self.user/password/api_key/cert value.</span>
</span><span id="Bugzilla-424"><a href="#Bugzilla-424"><span class="linenos"> 424</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-425"><a href="#Bugzilla-425"><span class="linenos"> 425</span></a>        <span class="k">if</span> <span class="n">configpath</span><span class="p">:</span>
</span><span id="Bugzilla-426"><a href="#Bugzilla-426"><span class="linenos"> 426</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_setconfigpath</span><span class="p">(</span><span class="n">configpath</span><span class="p">)</span>
</span><span id="Bugzilla-427"><a href="#Bugzilla-427"><span class="linenos"> 427</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rcfile</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</span><span id="Bugzilla-428"><a href="#Bugzilla-428"><span class="linenos"> 428</span></a>
</span><span id="Bugzilla-429"><a href="#Bugzilla-429"><span class="linenos"> 429</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Bugzilla-430"><a href="#Bugzilla-430"><span class="linenos"> 430</span></a>            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;api_key&quot;</span> <span class="ow">and</span> <span class="p">(</span><span class="n">overwrite</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span><span class="p">):</span>
</span><span id="Bugzilla-431"><a href="#Bugzilla-431"><span class="linenos"> 431</span></a>                <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;bugzillarc: setting api_key&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-432"><a href="#Bugzilla-432"><span class="linenos"> 432</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="n">val</span>
</span><span id="Bugzilla-433"><a href="#Bugzilla-433"><span class="linenos"> 433</span></a>            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;user&quot;</span> <span class="ow">and</span> <span class="p">(</span><span class="n">overwrite</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="p">):</span>
</span><span id="Bugzilla-434"><a href="#Bugzilla-434"><span class="linenos"> 434</span></a>                <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;bugzillarc: setting user=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
</span><span id="Bugzilla-435"><a href="#Bugzilla-435"><span class="linenos"> 435</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">val</span>
</span><span id="Bugzilla-436"><a href="#Bugzilla-436"><span class="linenos"> 436</span></a>            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;password&quot;</span> <span class="ow">and</span> <span class="p">(</span><span class="n">overwrite</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="p">):</span>
</span><span id="Bugzilla-437"><a href="#Bugzilla-437"><span class="linenos"> 437</span></a>                <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;bugzillarc: setting password&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-438"><a href="#Bugzilla-438"><span class="linenos"> 438</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="n">val</span>
</span><span id="Bugzilla-439"><a href="#Bugzilla-439"><span class="linenos"> 439</span></a>            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;cert&quot;</span> <span class="ow">and</span> <span class="p">(</span><span class="n">overwrite</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">cert</span><span class="p">):</span>
</span><span id="Bugzilla-440"><a href="#Bugzilla-440"><span class="linenos"> 440</span></a>                <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;bugzillarc: setting cert&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-441"><a href="#Bugzilla-441"><span class="linenos"> 441</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cert</span> <span class="o">=</span> <span class="n">val</span>
</span><span id="Bugzilla-442"><a href="#Bugzilla-442"><span class="linenos"> 442</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Bugzilla-443"><a href="#Bugzilla-443"><span class="linenos"> 443</span></a>                <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;bugzillarc: unknown key=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span><span id="Bugzilla-444"><a href="#Bugzilla-444"><span class="linenos"> 444</span></a>
</span><span id="Bugzilla-445"><a href="#Bugzilla-445"><span class="linenos"> 445</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_set_bz_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="p">):</span>
</span><span id="Bugzilla-446"><a href="#Bugzilla-446"><span class="linenos"> 446</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">version_raw</span> <span class="o">=</span> <span class="n">version</span>
</span><span id="Bugzilla-447"><a href="#Bugzilla-447"><span class="linenos"> 447</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Bugzilla-448"><a href="#Bugzilla-448"><span class="linenos"> 448</span></a>            <span class="n">major</span><span class="p">,</span> <span class="n">minor</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">version</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]]</span>
</span><span id="Bugzilla-449"><a href="#Bugzilla-449"><span class="linenos"> 449</span></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="Bugzilla-450"><a href="#Bugzilla-450"><span class="linenos"> 450</span></a>            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;version doesn&#39;t match expected format X.Y.Z, &quot;</span>
</span><span id="Bugzilla-451"><a href="#Bugzilla-451"><span class="linenos"> 451</span></a>                    <span class="s2">&quot;assuming 5.0&quot;</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="Bugzilla-452"><a href="#Bugzilla-452"><span class="linenos"> 452</span></a>            <span class="n">major</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="Bugzilla-453"><a href="#Bugzilla-453"><span class="linenos"> 453</span></a>            <span class="n">minor</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Bugzilla-454"><a href="#Bugzilla-454"><span class="linenos"> 454</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">version_parsed</span> <span class="o">=</span> <span class="p">(</span><span class="n">major</span><span class="p">,</span> <span class="n">minor</span><span class="p">)</span>
</span><span id="Bugzilla-455"><a href="#Bugzilla-455"><span class="linenos"> 455</span></a>
</span><span id="Bugzilla-456"><a href="#Bugzilla-456"><span class="linenos"> 456</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_get_backend_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>  <span class="c1"># pragma: no cover</span>
</span><span id="Bugzilla-457"><a href="#Bugzilla-457"><span class="linenos"> 457</span></a>        <span class="c1"># This is a hook for the test suite to do some mock hackery</span>
</span><span id="Bugzilla-458"><a href="#Bugzilla-458"><span class="linenos"> 458</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_force_rest</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_force_xmlrpc</span><span class="p">:</span>
</span><span id="Bugzilla-459"><a href="#Bugzilla-459"><span class="linenos"> 459</span></a>            <span class="k">raise</span> <span class="n">BugzillaError</span><span class="p">(</span>
</span><span id="Bugzilla-460"><a href="#Bugzilla-460"><span class="linenos"> 460</span></a>                <span class="s2">&quot;Cannot specify both force_rest and force_xmlrpc&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-461"><a href="#Bugzilla-461"><span class="linenos"> 461</span></a>
</span><span id="Bugzilla-462"><a href="#Bugzilla-462"><span class="linenos"> 462</span></a>        <span class="n">xmlurl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fix_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span><span id="Bugzilla-463"><a href="#Bugzilla-463"><span class="linenos"> 463</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_force_xmlrpc</span><span class="p">:</span>
</span><span id="Bugzilla-464"><a href="#Bugzilla-464"><span class="linenos"> 464</span></a>            <span class="k">return</span> <span class="n">_BackendXMLRPC</span><span class="p">,</span> <span class="n">xmlurl</span>
</span><span id="Bugzilla-465"><a href="#Bugzilla-465"><span class="linenos"> 465</span></a>
</span><span id="Bugzilla-466"><a href="#Bugzilla-466"><span class="linenos"> 466</span></a>        <span class="n">resturl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fix_url</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">force_rest</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_force_rest</span><span class="p">)</span>
</span><span id="Bugzilla-467"><a href="#Bugzilla-467"><span class="linenos"> 467</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_force_rest</span><span class="p">:</span>
</span><span id="Bugzilla-468"><a href="#Bugzilla-468"><span class="linenos"> 468</span></a>            <span class="k">return</span> <span class="n">_BackendREST</span><span class="p">,</span> <span class="n">resturl</span>
</span><span id="Bugzilla-469"><a href="#Bugzilla-469"><span class="linenos"> 469</span></a>
</span><span id="Bugzilla-470"><a href="#Bugzilla-470"><span class="linenos"> 470</span></a>        <span class="c1"># Simple heuristic if the original url has a path in it</span>
</span><span id="Bugzilla-471"><a href="#Bugzilla-471"><span class="linenos"> 471</span></a>        <span class="k">if</span> <span class="s2">&quot;/xmlrpc&quot;</span> <span class="ow">in</span> <span class="n">url</span><span class="p">:</span>
</span><span id="Bugzilla-472"><a href="#Bugzilla-472"><span class="linenos"> 472</span></a>            <span class="k">return</span> <span class="n">_BackendXMLRPC</span><span class="p">,</span> <span class="n">xmlurl</span>
</span><span id="Bugzilla-473"><a href="#Bugzilla-473"><span class="linenos"> 473</span></a>        <span class="k">if</span> <span class="s2">&quot;/rest&quot;</span> <span class="ow">in</span> <span class="n">url</span><span class="p">:</span>
</span><span id="Bugzilla-474"><a href="#Bugzilla-474"><span class="linenos"> 474</span></a>            <span class="k">return</span> <span class="n">_BackendREST</span><span class="p">,</span> <span class="n">resturl</span>
</span><span id="Bugzilla-475"><a href="#Bugzilla-475"><span class="linenos"> 475</span></a>
</span><span id="Bugzilla-476"><a href="#Bugzilla-476"><span class="linenos"> 476</span></a>        <span class="c1"># We were passed something like bugzilla.example.com but we</span>
</span><span id="Bugzilla-477"><a href="#Bugzilla-477"><span class="linenos"> 477</span></a>        <span class="c1"># aren&#39;t sure which method to use, try probing</span>
</span><span id="Bugzilla-478"><a href="#Bugzilla-478"><span class="linenos"> 478</span></a>        <span class="k">if</span> <span class="n">_BackendXMLRPC</span><span class="o">.</span><span class="n">probe</span><span class="p">(</span><span class="n">xmlurl</span><span class="p">):</span>
</span><span id="Bugzilla-479"><a href="#Bugzilla-479"><span class="linenos"> 479</span></a>            <span class="k">return</span> <span class="n">_BackendXMLRPC</span><span class="p">,</span> <span class="n">xmlurl</span>
</span><span id="Bugzilla-480"><a href="#Bugzilla-480"><span class="linenos"> 480</span></a>        <span class="k">if</span> <span class="n">_BackendREST</span><span class="o">.</span><span class="n">probe</span><span class="p">(</span><span class="n">resturl</span><span class="p">):</span>
</span><span id="Bugzilla-481"><a href="#Bugzilla-481"><span class="linenos"> 481</span></a>            <span class="k">return</span> <span class="n">_BackendREST</span><span class="p">,</span> <span class="n">resturl</span>
</span><span id="Bugzilla-482"><a href="#Bugzilla-482"><span class="linenos"> 482</span></a>
</span><span id="Bugzilla-483"><a href="#Bugzilla-483"><span class="linenos"> 483</span></a>        <span class="c1"># Otherwise fallback to XMLRPC default and let it fail</span>
</span><span id="Bugzilla-484"><a href="#Bugzilla-484"><span class="linenos"> 484</span></a>        <span class="k">return</span> <span class="n">_BackendXMLRPC</span><span class="p">,</span> <span class="n">xmlurl</span>
</span><span id="Bugzilla-485"><a href="#Bugzilla-485"><span class="linenos"> 485</span></a>
</span><span id="Bugzilla-486"><a href="#Bugzilla-486"><span class="linenos"> 486</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla-487"><a href="#Bugzilla-487"><span class="linenos"> 487</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-488"><a href="#Bugzilla-488"><span class="linenos"> 488</span></a><span class="sd">        Connect to the bugzilla instance with the given url. This is</span>
</span><span id="Bugzilla-489"><a href="#Bugzilla-489"><span class="linenos"> 489</span></a><span class="sd">        called by __init__ if a URL is passed. Or it can be called manually</span>
</span><span id="Bugzilla-490"><a href="#Bugzilla-490"><span class="linenos"> 490</span></a><span class="sd">        at any time with a passed URL.</span>
</span><span id="Bugzilla-491"><a href="#Bugzilla-491"><span class="linenos"> 491</span></a>
</span><span id="Bugzilla-492"><a href="#Bugzilla-492"><span class="linenos"> 492</span></a><span class="sd">        This will also read any available config files (see readconfig()),</span>
</span><span id="Bugzilla-493"><a href="#Bugzilla-493"><span class="linenos"> 493</span></a><span class="sd">        which may set &#39;user&#39; and &#39;password&#39;, and others.</span>
</span><span id="Bugzilla-494"><a href="#Bugzilla-494"><span class="linenos"> 494</span></a>
</span><span id="Bugzilla-495"><a href="#Bugzilla-495"><span class="linenos"> 495</span></a><span class="sd">        If &#39;user&#39; and &#39;password&#39; are both set, we&#39;ll run login(). Otherwise</span>
</span><span id="Bugzilla-496"><a href="#Bugzilla-496"><span class="linenos"> 496</span></a><span class="sd">        you&#39;ll have to login() yourself before some methods will work.</span>
</span><span id="Bugzilla-497"><a href="#Bugzilla-497"><span class="linenos"> 497</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-498"><a href="#Bugzilla-498"><span class="linenos"> 498</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">:</span>
</span><span id="Bugzilla-499"><a href="#Bugzilla-499"><span class="linenos"> 499</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</span><span id="Bugzilla-500"><a href="#Bugzilla-500"><span class="linenos"> 500</span></a>
</span><span id="Bugzilla-501"><a href="#Bugzilla-501"><span class="linenos"> 501</span></a>        <span class="n">url</span> <span class="o">=</span> <span class="n">url</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span>
</span><span id="Bugzilla-502"><a href="#Bugzilla-502"><span class="linenos"> 502</span></a>        <span class="n">backendclass</span><span class="p">,</span> <span class="n">newurl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_backend_class</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span><span id="Bugzilla-503"><a href="#Bugzilla-503"><span class="linenos"> 503</span></a>        <span class="k">if</span> <span class="n">url</span> <span class="o">!=</span> <span class="n">newurl</span><span class="p">:</span>
</span><span id="Bugzilla-504"><a href="#Bugzilla-504"><span class="linenos"> 504</span></a>            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Converted url=</span><span class="si">%s</span><span class="s2"> to fixed url=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">newurl</span><span class="p">)</span>
</span><span id="Bugzilla-505"><a href="#Bugzilla-505"><span class="linenos"> 505</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">newurl</span>
</span><span id="Bugzilla-506"><a href="#Bugzilla-506"><span class="linenos"> 506</span></a>        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Connecting with URL </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</span><span id="Bugzilla-507"><a href="#Bugzilla-507"><span class="linenos"> 507</span></a>
</span><span id="Bugzilla-508"><a href="#Bugzilla-508"><span class="linenos"> 508</span></a>        <span class="c1"># we&#39;ve changed URLs - reload config</span>
</span><span id="Bugzilla-509"><a href="#Bugzilla-509"><span class="linenos"> 509</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">readconfig</span><span class="p">(</span><span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="Bugzilla-510"><a href="#Bugzilla-510"><span class="linenos"> 510</span></a>
</span><span id="Bugzilla-511"><a href="#Bugzilla-511"><span class="linenos"> 511</span></a>        <span class="c1"># Detect if connecting to redhat bugzilla</span>
</span><span id="Bugzilla-512"><a href="#Bugzilla-512"><span class="linenos"> 512</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_init_class_from_url</span><span class="p">()</span>
</span><span id="Bugzilla-513"><a href="#Bugzilla-513"><span class="linenos"> 513</span></a>
</span><span id="Bugzilla-514"><a href="#Bugzilla-514"><span class="linenos"> 514</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_session</span> <span class="o">=</span> <span class="n">_BugzillaSession</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_agent</span><span class="p">,</span>
</span><span id="Bugzilla-515"><a href="#Bugzilla-515"><span class="linenos"> 515</span></a>                <span class="n">sslverify</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_sslverify</span><span class="p">,</span>
</span><span id="Bugzilla-516"><a href="#Bugzilla-516"><span class="linenos"> 516</span></a>                <span class="n">cert</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cert</span><span class="p">,</span>
</span><span id="Bugzilla-517"><a href="#Bugzilla-517"><span class="linenos"> 517</span></a>                <span class="n">tokencache</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_tokencache</span><span class="p">,</span>
</span><span id="Bugzilla-518"><a href="#Bugzilla-518"><span class="linenos"> 518</span></a>                <span class="n">api_key</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">api_key</span><span class="p">,</span>
</span><span id="Bugzilla-519"><a href="#Bugzilla-519"><span class="linenos"> 519</span></a>                <span class="n">is_redhat_bugzilla</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_redhat_bugzilla</span><span class="p">,</span>
</span><span id="Bugzilla-520"><a href="#Bugzilla-520"><span class="linenos"> 520</span></a>                <span class="n">requests_session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_user_requests_session</span><span class="p">)</span>
</span><span id="Bugzilla-521"><a href="#Bugzilla-521"><span class="linenos"> 521</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span> <span class="o">=</span> <span class="n">backendclass</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="Bugzilla-522"><a href="#Bugzilla-522"><span class="linenos"> 522</span></a>
</span><span id="Bugzilla-523"><a href="#Bugzilla-523"><span class="linenos"> 523</span></a>        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="p">):</span>
</span><span id="Bugzilla-524"><a href="#Bugzilla-524"><span class="linenos"> 524</span></a>            <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;user and password present - doing login()&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-525"><a href="#Bugzilla-525"><span class="linenos"> 525</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">()</span>
</span><span id="Bugzilla-526"><a href="#Bugzilla-526"><span class="linenos"> 526</span></a>
</span><span id="Bugzilla-527"><a href="#Bugzilla-527"><span class="linenos"> 527</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span><span class="p">:</span>
</span><span id="Bugzilla-528"><a href="#Bugzilla-528"><span class="linenos"> 528</span></a>            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;using API key&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-529"><a href="#Bugzilla-529"><span class="linenos"> 529</span></a>
</span><span id="Bugzilla-530"><a href="#Bugzilla-530"><span class="linenos"> 530</span></a>        <span class="n">version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bugzilla_version</span><span class="p">()[</span><span class="s2">&quot;version&quot;</span><span class="p">]</span>
</span><span id="Bugzilla-531"><a href="#Bugzilla-531"><span class="linenos"> 531</span></a>        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Bugzilla version string: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">version</span><span class="p">)</span>
</span><span id="Bugzilla-532"><a href="#Bugzilla-532"><span class="linenos"> 532</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_set_bz_version</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
</span><span id="Bugzilla-533"><a href="#Bugzilla-533"><span class="linenos"> 533</span></a>
</span><span id="Bugzilla-534"><a href="#Bugzilla-534"><span class="linenos"> 534</span></a>
</span><span id="Bugzilla-535"><a href="#Bugzilla-535"><span class="linenos"> 535</span></a>    <span class="nd">@property</span>
</span><span id="Bugzilla-536"><a href="#Bugzilla-536"><span class="linenos"> 536</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_proxy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-537"><a href="#Bugzilla-537"><span class="linenos"> 537</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-538"><a href="#Bugzilla-538"><span class="linenos"> 538</span></a><span class="sd">        Return an xmlrpc ServerProxy instance that will work seamlessly</span>
</span><span id="Bugzilla-539"><a href="#Bugzilla-539"><span class="linenos"> 539</span></a><span class="sd">        with bugzilla</span>
</span><span id="Bugzilla-540"><a href="#Bugzilla-540"><span class="linenos"> 540</span></a>
</span><span id="Bugzilla-541"><a href="#Bugzilla-541"><span class="linenos"> 541</span></a><span class="sd">        Some apps have historically accessed _proxy directly, like</span>
</span><span id="Bugzilla-542"><a href="#Bugzilla-542"><span class="linenos"> 542</span></a><span class="sd">        fedora infrastrucutre pieces. So we consider it part of the API</span>
</span><span id="Bugzilla-543"><a href="#Bugzilla-543"><span class="linenos"> 543</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-544"><a href="#Bugzilla-544"><span class="linenos"> 544</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">get_xmlrpc_proxy</span><span class="p">()</span>
</span><span id="Bugzilla-545"><a href="#Bugzilla-545"><span class="linenos"> 545</span></a>
</span><span id="Bugzilla-546"><a href="#Bugzilla-546"><span class="linenos"> 546</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_xmlrpc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-547"><a href="#Bugzilla-547"><span class="linenos"> 547</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-548"><a href="#Bugzilla-548"><span class="linenos"> 548</span></a><span class="sd">        :returns: True if using the XMLRPC API</span>
</span><span id="Bugzilla-549"><a href="#Bugzilla-549"><span class="linenos"> 549</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-550"><a href="#Bugzilla-550"><span class="linenos"> 550</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">is_xmlrpc</span><span class="p">()</span>
</span><span id="Bugzilla-551"><a href="#Bugzilla-551"><span class="linenos"> 551</span></a>
</span><span id="Bugzilla-552"><a href="#Bugzilla-552"><span class="linenos"> 552</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_rest</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-553"><a href="#Bugzilla-553"><span class="linenos"> 553</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-554"><a href="#Bugzilla-554"><span class="linenos"> 554</span></a><span class="sd">        :returns: True if using the REST API</span>
</span><span id="Bugzilla-555"><a href="#Bugzilla-555"><span class="linenos"> 555</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-556"><a href="#Bugzilla-556"><span class="linenos"> 556</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span>
</span><span id="Bugzilla-557"><a href="#Bugzilla-557"><span class="linenos"> 557</span></a>
</span><span id="Bugzilla-558"><a href="#Bugzilla-558"><span class="linenos"> 558</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_requests_session</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-559"><a href="#Bugzilla-559"><span class="linenos"> 559</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-560"><a href="#Bugzilla-560"><span class="linenos"> 560</span></a><span class="sd">        Give API users access to the Requests.session object we use for</span>
</span><span id="Bugzilla-561"><a href="#Bugzilla-561"><span class="linenos"> 561</span></a><span class="sd">        talking to the remote bugzilla instance.</span>
</span><span id="Bugzilla-562"><a href="#Bugzilla-562"><span class="linenos"> 562</span></a>
</span><span id="Bugzilla-563"><a href="#Bugzilla-563"><span class="linenos"> 563</span></a><span class="sd">        :returns: The Requests.session object backing the open connection.</span>
</span><span id="Bugzilla-564"><a href="#Bugzilla-564"><span class="linenos"> 564</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-565"><a href="#Bugzilla-565"><span class="linenos"> 565</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">get_requests_session</span><span class="p">()</span>
</span><span id="Bugzilla-566"><a href="#Bugzilla-566"><span class="linenos"> 566</span></a>
</span><span id="Bugzilla-567"><a href="#Bugzilla-567"><span class="linenos"> 567</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">disconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-568"><a href="#Bugzilla-568"><span class="linenos"> 568</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-569"><a href="#Bugzilla-569"><span class="linenos"> 569</span></a><span class="sd">        Disconnect from the given bugzilla instance.</span>
</span><span id="Bugzilla-570"><a href="#Bugzilla-570"><span class="linenos"> 570</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-571"><a href="#Bugzilla-571"><span class="linenos"> 571</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Bugzilla-572"><a href="#Bugzilla-572"><span class="linenos"> 572</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_session</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Bugzilla-573"><a href="#Bugzilla-573"><span class="linenos"> 573</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span> <span class="o">=</span> <span class="n">_BugzillaAPICache</span><span class="p">()</span>
</span><span id="Bugzilla-574"><a href="#Bugzilla-574"><span class="linenos"> 574</span></a>
</span><span id="Bugzilla-575"><a href="#Bugzilla-575"><span class="linenos"> 575</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">restrict_login</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla-576"><a href="#Bugzilla-576"><span class="linenos"> 576</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-577"><a href="#Bugzilla-577"><span class="linenos"> 577</span></a><span class="sd">        Attempt to log in using the given username and password. Subsequent</span>
</span><span id="Bugzilla-578"><a href="#Bugzilla-578"><span class="linenos"> 578</span></a><span class="sd">        method calls will use this username and password. Returns False if</span>
</span><span id="Bugzilla-579"><a href="#Bugzilla-579"><span class="linenos"> 579</span></a><span class="sd">        login fails, otherwise returns some kind of login info - typically</span>
</span><span id="Bugzilla-580"><a href="#Bugzilla-580"><span class="linenos"> 580</span></a><span class="sd">        either a numeric userid, or a dict of user info.</span>
</span><span id="Bugzilla-581"><a href="#Bugzilla-581"><span class="linenos"> 581</span></a>
</span><span id="Bugzilla-582"><a href="#Bugzilla-582"><span class="linenos"> 582</span></a><span class="sd">        If user is not set, the value of Bugzilla.user will be used. If *that*</span>
</span><span id="Bugzilla-583"><a href="#Bugzilla-583"><span class="linenos"> 583</span></a><span class="sd">        is not set, ValueError will be raised. If login fails, BugzillaError</span>
</span><span id="Bugzilla-584"><a href="#Bugzilla-584"><span class="linenos"> 584</span></a><span class="sd">        will be raised.</span>
</span><span id="Bugzilla-585"><a href="#Bugzilla-585"><span class="linenos"> 585</span></a>
</span><span id="Bugzilla-586"><a href="#Bugzilla-586"><span class="linenos"> 586</span></a><span class="sd">        The login session can be restricted to current user IP address</span>
</span><span id="Bugzilla-587"><a href="#Bugzilla-587"><span class="linenos"> 587</span></a><span class="sd">        with restrict_login argument. (Bugzilla 4.4+)</span>
</span><span id="Bugzilla-588"><a href="#Bugzilla-588"><span class="linenos"> 588</span></a>
</span><span id="Bugzilla-589"><a href="#Bugzilla-589"><span class="linenos"> 589</span></a><span class="sd">        This method will be called implicitly at the end of connect() if user</span>
</span><span id="Bugzilla-590"><a href="#Bugzilla-590"><span class="linenos"> 590</span></a><span class="sd">        and password are both set. So under most circumstances you won&#39;t need</span>
</span><span id="Bugzilla-591"><a href="#Bugzilla-591"><span class="linenos"> 591</span></a><span class="sd">        to call this yourself.</span>
</span><span id="Bugzilla-592"><a href="#Bugzilla-592"><span class="linenos"> 592</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-593"><a href="#Bugzilla-593"><span class="linenos"> 593</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span><span class="p">:</span>
</span><span id="Bugzilla-594"><a href="#Bugzilla-594"><span class="linenos"> 594</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;cannot login when using an API key&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-595"><a href="#Bugzilla-595"><span class="linenos"> 595</span></a>
</span><span id="Bugzilla-596"><a href="#Bugzilla-596"><span class="linenos"> 596</span></a>        <span class="k">if</span> <span class="n">user</span><span class="p">:</span>
</span><span id="Bugzilla-597"><a href="#Bugzilla-597"><span class="linenos"> 597</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">user</span>
</span><span id="Bugzilla-598"><a href="#Bugzilla-598"><span class="linenos"> 598</span></a>        <span class="k">if</span> <span class="n">password</span><span class="p">:</span>
</span><span id="Bugzilla-599"><a href="#Bugzilla-599"><span class="linenos"> 599</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="n">password</span>
</span><span id="Bugzilla-600"><a href="#Bugzilla-600"><span class="linenos"> 600</span></a>
</span><span id="Bugzilla-601"><a href="#Bugzilla-601"><span class="linenos"> 601</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="p">:</span>
</span><span id="Bugzilla-602"><a href="#Bugzilla-602"><span class="linenos"> 602</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;missing username&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-603"><a href="#Bugzilla-603"><span class="linenos"> 603</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="p">:</span>
</span><span id="Bugzilla-604"><a href="#Bugzilla-604"><span class="linenos"> 604</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;missing password&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-605"><a href="#Bugzilla-605"><span class="linenos"> 605</span></a>
</span><span id="Bugzilla-606"><a href="#Bugzilla-606"><span class="linenos"> 606</span></a>        <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;login&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="p">}</span>
</span><span id="Bugzilla-607"><a href="#Bugzilla-607"><span class="linenos"> 607</span></a>        <span class="k">if</span> <span class="n">restrict_login</span><span class="p">:</span>
</span><span id="Bugzilla-608"><a href="#Bugzilla-608"><span class="linenos"> 608</span></a>            <span class="n">payload</span><span class="p">[</span><span class="s1">&#39;restrict_login&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Bugzilla-609"><a href="#Bugzilla-609"><span class="linenos"> 609</span></a>        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;logging in with options </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">))</span>
</span><span id="Bugzilla-610"><a href="#Bugzilla-610"><span class="linenos"> 610</span></a>        <span class="n">payload</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">password</span>
</span><span id="Bugzilla-611"><a href="#Bugzilla-611"><span class="linenos"> 611</span></a>
</span><span id="Bugzilla-612"><a href="#Bugzilla-612"><span class="linenos"> 612</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Bugzilla-613"><a href="#Bugzilla-613"><span class="linenos"> 613</span></a>            <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">user_login</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
</span><span id="Bugzilla-614"><a href="#Bugzilla-614"><span class="linenos"> 614</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="Bugzilla-615"><a href="#Bugzilla-615"><span class="linenos"> 615</span></a>            <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;login succeeded for user=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
</span><span id="Bugzilla-616"><a href="#Bugzilla-616"><span class="linenos"> 616</span></a>            <span class="k">if</span> <span class="s2">&quot;token&quot;</span> <span class="ow">in</span> <span class="n">ret</span><span class="p">:</span>
</span><span id="Bugzilla-617"><a href="#Bugzilla-617"><span class="linenos"> 617</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_tokencache</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">ret</span><span class="p">[</span><span class="s2">&quot;token&quot;</span><span class="p">])</span>
</span><span id="Bugzilla-618"><a href="#Bugzilla-618"><span class="linenos"> 618</span></a>            <span class="k">return</span> <span class="n">ret</span>
</span><span id="Bugzilla-619"><a href="#Bugzilla-619"><span class="linenos"> 619</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="Bugzilla-620"><a href="#Bugzilla-620"><span class="linenos"> 620</span></a>            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Login exception: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="Bugzilla-621"><a href="#Bugzilla-621"><span class="linenos"> 621</span></a>            <span class="k">raise</span> <span class="n">BugzillaError</span><span class="p">(</span><span class="s2">&quot;Login failed: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span>
</span><span id="Bugzilla-622"><a href="#Bugzilla-622"><span class="linenos"> 622</span></a>                    <span class="n">BugzillaError</span><span class="o">.</span><span class="n">get_bugzilla_error_string</span><span class="p">(</span><span class="n">e</span><span class="p">))</span> <span class="kn">from</span><span class="w"> </span><span class="kc">None</span>
</span><span id="Bugzilla-623"><a href="#Bugzilla-623"><span class="linenos"> 623</span></a>
</span><span id="Bugzilla-624"><a href="#Bugzilla-624"><span class="linenos"> 624</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">interactive_save_api_key</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-625"><a href="#Bugzilla-625"><span class="linenos"> 625</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-626"><a href="#Bugzilla-626"><span class="linenos"> 626</span></a><span class="sd">        Helper method to interactively ask for an API key, verify it</span>
</span><span id="Bugzilla-627"><a href="#Bugzilla-627"><span class="linenos"> 627</span></a><span class="sd">        is valid, and save it to a bugzillarc file referenced via</span>
</span><span id="Bugzilla-628"><a href="#Bugzilla-628"><span class="linenos"> 628</span></a><span class="sd">        self.configpaths</span>
</span><span id="Bugzilla-629"><a href="#Bugzilla-629"><span class="linenos"> 629</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-630"><a href="#Bugzilla-630"><span class="linenos"> 630</span></a>        <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;API Key: &#39;</span><span class="p">)</span>
</span><span id="Bugzilla-631"><a href="#Bugzilla-631"><span class="linenos"> 631</span></a>        <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="Bugzilla-632"><a href="#Bugzilla-632"><span class="linenos"> 632</span></a>        <span class="n">api_key</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="Bugzilla-633"><a href="#Bugzilla-633"><span class="linenos"> 633</span></a>
</span><span id="Bugzilla-634"><a href="#Bugzilla-634"><span class="linenos"> 634</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</span><span id="Bugzilla-635"><a href="#Bugzilla-635"><span class="linenos"> 635</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="n">api_key</span>
</span><span id="Bugzilla-636"><a href="#Bugzilla-636"><span class="linenos"> 636</span></a>
</span><span id="Bugzilla-637"><a href="#Bugzilla-637"><span class="linenos"> 637</span></a>        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Checking API key... &#39;</span><span class="p">)</span>
</span><span id="Bugzilla-638"><a href="#Bugzilla-638"><span class="linenos"> 638</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span><span id="Bugzilla-639"><a href="#Bugzilla-639"><span class="linenos"> 639</span></a>
</span><span id="Bugzilla-640"><a href="#Bugzilla-640"><span class="linenos"> 640</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">logged_in</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
</span><span id="Bugzilla-641"><a href="#Bugzilla-641"><span class="linenos"> 641</span></a>            <span class="k">raise</span> <span class="n">BugzillaError</span><span class="p">(</span><span class="s2">&quot;Login with API_KEY failed&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-642"><a href="#Bugzilla-642"><span class="linenos"> 642</span></a>        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;API Key accepted&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-643"><a href="#Bugzilla-643"><span class="linenos"> 643</span></a>
</span><span id="Bugzilla-644"><a href="#Bugzilla-644"><span class="linenos"> 644</span></a>        <span class="n">wrote_filename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rcfile</span><span class="o">.</span><span class="n">save_api_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span><span class="p">)</span>
</span><span id="Bugzilla-645"><a href="#Bugzilla-645"><span class="linenos"> 645</span></a>        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;API key written to filename=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">wrote_filename</span><span class="p">)</span>
</span><span id="Bugzilla-646"><a href="#Bugzilla-646"><span class="linenos"> 646</span></a>
</span><span id="Bugzilla-647"><a href="#Bugzilla-647"><span class="linenos"> 647</span></a>        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Login successful.&quot;</span>
</span><span id="Bugzilla-648"><a href="#Bugzilla-648"><span class="linenos"> 648</span></a>        <span class="k">if</span> <span class="n">wrote_filename</span><span class="p">:</span>
</span><span id="Bugzilla-649"><a href="#Bugzilla-649"><span class="linenos"> 649</span></a>            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; API key written to </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">wrote_filename</span>
</span><span id="Bugzilla-650"><a href="#Bugzilla-650"><span class="linenos"> 650</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Bugzilla-651"><a href="#Bugzilla-651"><span class="linenos"> 651</span></a>
</span><span id="Bugzilla-652"><a href="#Bugzilla-652"><span class="linenos"> 652</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">interactive_login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="Bugzilla-653"><a href="#Bugzilla-653"><span class="linenos"> 653</span></a>                          <span class="n">restrict_login</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla-654"><a href="#Bugzilla-654"><span class="linenos"> 654</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-655"><a href="#Bugzilla-655"><span class="linenos"> 655</span></a><span class="sd">        Helper method to handle login for this bugzilla instance.</span>
</span><span id="Bugzilla-656"><a href="#Bugzilla-656"><span class="linenos"> 656</span></a>
</span><span id="Bugzilla-657"><a href="#Bugzilla-657"><span class="linenos"> 657</span></a><span class="sd">        :param user: bugzilla username. If not specified, prompt for it.</span>
</span><span id="Bugzilla-658"><a href="#Bugzilla-658"><span class="linenos"> 658</span></a><span class="sd">        :param password: bugzilla password. If not specified, prompt for it.</span>
</span><span id="Bugzilla-659"><a href="#Bugzilla-659"><span class="linenos"> 659</span></a><span class="sd">        :param force: Unused</span>
</span><span id="Bugzilla-660"><a href="#Bugzilla-660"><span class="linenos"> 660</span></a><span class="sd">        :param restrict_login: restricts session to IP address</span>
</span><span id="Bugzilla-661"><a href="#Bugzilla-661"><span class="linenos"> 661</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-662"><a href="#Bugzilla-662"><span class="linenos"> 662</span></a>        <span class="n">ignore</span> <span class="o">=</span> <span class="n">force</span>
</span><span id="Bugzilla-663"><a href="#Bugzilla-663"><span class="linenos"> 663</span></a>        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Calling interactive_login&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-664"><a href="#Bugzilla-664"><span class="linenos"> 664</span></a>
</span><span id="Bugzilla-665"><a href="#Bugzilla-665"><span class="linenos"> 665</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">user</span><span class="p">:</span>
</span><span id="Bugzilla-666"><a href="#Bugzilla-666"><span class="linenos"> 666</span></a>            <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Bugzilla Username: &#39;</span><span class="p">)</span>
</span><span id="Bugzilla-667"><a href="#Bugzilla-667"><span class="linenos"> 667</span></a>            <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="Bugzilla-668"><a href="#Bugzilla-668"><span class="linenos"> 668</span></a>            <span class="n">user</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="Bugzilla-669"><a href="#Bugzilla-669"><span class="linenos"> 669</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">password</span><span class="p">:</span>
</span><span id="Bugzilla-670"><a href="#Bugzilla-670"><span class="linenos"> 670</span></a>            <span class="n">password</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getpass</span><span class="p">(</span><span class="s1">&#39;Bugzilla Password: &#39;</span><span class="p">)</span>
</span><span id="Bugzilla-671"><a href="#Bugzilla-671"><span class="linenos"> 671</span></a>
</span><span id="Bugzilla-672"><a href="#Bugzilla-672"><span class="linenos"> 672</span></a>        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Logging in... &#39;</span><span class="p">)</span>
</span><span id="Bugzilla-673"><a href="#Bugzilla-673"><span class="linenos"> 673</span></a>        <span class="n">out</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">restrict_login</span><span class="p">)</span>
</span><span id="Bugzilla-674"><a href="#Bugzilla-674"><span class="linenos"> 674</span></a>        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Login successful.&quot;</span>
</span><span id="Bugzilla-675"><a href="#Bugzilla-675"><span class="linenos"> 675</span></a>        <span class="k">if</span> <span class="s2">&quot;token&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">out</span><span class="p">:</span>
</span><span id="Bugzilla-676"><a href="#Bugzilla-676"><span class="linenos"> 676</span></a>            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; However no token was returned.&quot;</span>
</span><span id="Bugzilla-677"><a href="#Bugzilla-677"><span class="linenos"> 677</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Bugzilla-678"><a href="#Bugzilla-678"><span class="linenos"> 678</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">tokenfile</span><span class="p">:</span>
</span><span id="Bugzilla-679"><a href="#Bugzilla-679"><span class="linenos"> 679</span></a>                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; Token not saved to disk.&quot;</span>
</span><span id="Bugzilla-680"><a href="#Bugzilla-680"><span class="linenos"> 680</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Bugzilla-681"><a href="#Bugzilla-681"><span class="linenos"> 681</span></a>                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; Token cache saved to </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">tokenfile</span>
</span><span id="Bugzilla-682"><a href="#Bugzilla-682"><span class="linenos"> 682</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_version</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mf">5.0</span><span class="p">:</span>
</span><span id="Bugzilla-683"><a href="#Bugzilla-683"><span class="linenos"> 683</span></a>                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Token usage is deprecated. &quot;</span>
</span><span id="Bugzilla-684"><a href="#Bugzilla-684"><span class="linenos"> 684</span></a>                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;Consider using bugzilla API keys instead. &quot;</span>
</span><span id="Bugzilla-685"><a href="#Bugzilla-685"><span class="linenos"> 685</span></a>                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;See `man bugzilla` for more details.&quot;</span>
</span><span id="Bugzilla-686"><a href="#Bugzilla-686"><span class="linenos"> 686</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Bugzilla-687"><a href="#Bugzilla-687"><span class="linenos"> 687</span></a>
</span><span id="Bugzilla-688"><a href="#Bugzilla-688"><span class="linenos"> 688</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">logout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-689"><a href="#Bugzilla-689"><span class="linenos"> 689</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-690"><a href="#Bugzilla-690"><span class="linenos"> 690</span></a><span class="sd">        Log out of bugzilla. Drops server connection and user info, and</span>
</span><span id="Bugzilla-691"><a href="#Bugzilla-691"><span class="linenos"> 691</span></a><span class="sd">        destroys authentication cache</span>
</span><span id="Bugzilla-692"><a href="#Bugzilla-692"><span class="linenos"> 692</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-693"><a href="#Bugzilla-693"><span class="linenos"> 693</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">user_logout</span><span class="p">()</span>
</span><span id="Bugzilla-694"><a href="#Bugzilla-694"><span class="linenos"> 694</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</span><span id="Bugzilla-695"><a href="#Bugzilla-695"><span class="linenos"> 695</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="Bugzilla-696"><a href="#Bugzilla-696"><span class="linenos"> 696</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="Bugzilla-697"><a href="#Bugzilla-697"><span class="linenos"> 697</span></a>
</span><span id="Bugzilla-698"><a href="#Bugzilla-698"><span class="linenos"> 698</span></a>    <span class="nd">@property</span>
</span><span id="Bugzilla-699"><a href="#Bugzilla-699"><span class="linenos"> 699</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">logged_in</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-700"><a href="#Bugzilla-700"><span class="linenos"> 700</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-701"><a href="#Bugzilla-701"><span class="linenos"> 701</span></a><span class="sd">        This is True if this instance is logged in else False.</span>
</span><span id="Bugzilla-702"><a href="#Bugzilla-702"><span class="linenos"> 702</span></a>
</span><span id="Bugzilla-703"><a href="#Bugzilla-703"><span class="linenos"> 703</span></a><span class="sd">        We test if this session is authenticated by calling the User.get()</span>
</span><span id="Bugzilla-704"><a href="#Bugzilla-704"><span class="linenos"> 704</span></a><span class="sd">        XMLRPC method with ids set. Logged-out users cannot pass the &#39;ids&#39;</span>
</span><span id="Bugzilla-705"><a href="#Bugzilla-705"><span class="linenos"> 705</span></a><span class="sd">        parameter and will result in a 505 error. If we tried to login with a</span>
</span><span id="Bugzilla-706"><a href="#Bugzilla-706"><span class="linenos"> 706</span></a><span class="sd">        token, but the token was incorrect or expired, the server returns a</span>
</span><span id="Bugzilla-707"><a href="#Bugzilla-707"><span class="linenos"> 707</span></a><span class="sd">        32000 error.</span>
</span><span id="Bugzilla-708"><a href="#Bugzilla-708"><span class="linenos"> 708</span></a>
</span><span id="Bugzilla-709"><a href="#Bugzilla-709"><span class="linenos"> 709</span></a><span class="sd">        For Bugzilla 5 and later, a new method, User.valid_login is available</span>
</span><span id="Bugzilla-710"><a href="#Bugzilla-710"><span class="linenos"> 710</span></a><span class="sd">        to test the validity of the token. However, this will require that the</span>
</span><span id="Bugzilla-711"><a href="#Bugzilla-711"><span class="linenos"> 711</span></a><span class="sd">        username be cached along with the token in order to work effectively in</span>
</span><span id="Bugzilla-712"><a href="#Bugzilla-712"><span class="linenos"> 712</span></a><span class="sd">        all scenarios and is not currently used. For more information, refer to</span>
</span><span id="Bugzilla-713"><a href="#Bugzilla-713"><span class="linenos"> 713</span></a><span class="sd">        the following url.</span>
</span><span id="Bugzilla-714"><a href="#Bugzilla-714"><span class="linenos"> 714</span></a>
</span><span id="Bugzilla-715"><a href="#Bugzilla-715"><span class="linenos"> 715</span></a><span class="sd">        http://bugzilla.readthedocs.org/en/latest/api/core/v1/user.html#valid-login</span>
</span><span id="Bugzilla-716"><a href="#Bugzilla-716"><span class="linenos"> 716</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-717"><a href="#Bugzilla-717"><span class="linenos"> 717</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Bugzilla-718"><a href="#Bugzilla-718"><span class="linenos"> 718</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">user_get</span><span class="p">({</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]})</span>
</span><span id="Bugzilla-719"><a href="#Bugzilla-719"><span class="linenos"> 719</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="Bugzilla-720"><a href="#Bugzilla-720"><span class="linenos"> 720</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="Bugzilla-721"><a href="#Bugzilla-721"><span class="linenos"> 721</span></a>            <span class="n">code</span> <span class="o">=</span> <span class="n">BugzillaError</span><span class="o">.</span><span class="n">get_bugzilla_error_code</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="Bugzilla-722"><a href="#Bugzilla-722"><span class="linenos"> 722</span></a>            <span class="k">if</span> <span class="n">code</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">505</span><span class="p">,</span> <span class="mi">32000</span><span class="p">]:</span>
</span><span id="Bugzilla-723"><a href="#Bugzilla-723"><span class="linenos"> 723</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="Bugzilla-724"><a href="#Bugzilla-724"><span class="linenos"> 724</span></a>            <span class="k">raise</span> <span class="n">e</span>
</span><span id="Bugzilla-725"><a href="#Bugzilla-725"><span class="linenos"> 725</span></a>
</span><span id="Bugzilla-726"><a href="#Bugzilla-726"><span class="linenos"> 726</span></a>
</span><span id="Bugzilla-727"><a href="#Bugzilla-727"><span class="linenos"> 727</span></a>    <span class="c1">######################</span>
</span><span id="Bugzilla-728"><a href="#Bugzilla-728"><span class="linenos"> 728</span></a>    <span class="c1"># Bugfields querying #</span>
</span><span id="Bugzilla-729"><a href="#Bugzilla-729"><span class="linenos"> 729</span></a>    <span class="c1">######################</span>
</span><span id="Bugzilla-730"><a href="#Bugzilla-730"><span class="linenos"> 730</span></a>
</span><span id="Bugzilla-731"><a href="#Bugzilla-731"><span class="linenos"> 731</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getbugfields</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force_refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla-732"><a href="#Bugzilla-732"><span class="linenos"> 732</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-733"><a href="#Bugzilla-733"><span class="linenos"> 733</span></a><span class="sd">        Calls getBugFields, which returns a list of fields in each bug</span>
</span><span id="Bugzilla-734"><a href="#Bugzilla-734"><span class="linenos"> 734</span></a><span class="sd">        for this bugzilla instance. This can be used to set the list of attrs</span>
</span><span id="Bugzilla-735"><a href="#Bugzilla-735"><span class="linenos"> 735</span></a><span class="sd">        on the Bug object.</span>
</span><span id="Bugzilla-736"><a href="#Bugzilla-736"><span class="linenos"> 736</span></a>
</span><span id="Bugzilla-737"><a href="#Bugzilla-737"><span class="linenos"> 737</span></a><span class="sd">        :param force_refresh: If True, overwrite the bugfield cache</span>
</span><span id="Bugzilla-738"><a href="#Bugzilla-738"><span class="linenos"> 738</span></a><span class="sd">            with these newly checked values.</span>
</span><span id="Bugzilla-739"><a href="#Bugzilla-739"><span class="linenos"> 739</span></a><span class="sd">        :param names: Only check for the passed bug field names</span>
</span><span id="Bugzilla-740"><a href="#Bugzilla-740"><span class="linenos"> 740</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-741"><a href="#Bugzilla-741"><span class="linenos"> 741</span></a>        <span class="k">def</span><span class="w"> </span><span class="nf">_fieldnames</span><span class="p">():</span>
</span><span id="Bugzilla-742"><a href="#Bugzilla-742"><span class="linenos"> 742</span></a>            <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;include_fields&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]}</span>
</span><span id="Bugzilla-743"><a href="#Bugzilla-743"><span class="linenos"> 743</span></a>            <span class="k">if</span> <span class="n">names</span><span class="p">:</span>
</span><span id="Bugzilla-744"><a href="#Bugzilla-744"><span class="linenos"> 744</span></a>                <span class="n">data</span><span class="p">[</span><span class="s2">&quot;names&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">names</span>
</span><span id="Bugzilla-745"><a href="#Bugzilla-745"><span class="linenos"> 745</span></a>            <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_fields</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="Bugzilla-746"><a href="#Bugzilla-746"><span class="linenos"> 746</span></a>            <span class="k">return</span> <span class="p">[</span><span class="n">f</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;fields&#39;</span><span class="p">]]</span>
</span><span id="Bugzilla-747"><a href="#Bugzilla-747"><span class="linenos"> 747</span></a>
</span><span id="Bugzilla-748"><a href="#Bugzilla-748"><span class="linenos"> 748</span></a>        <span class="k">if</span> <span class="n">force_refresh</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">bugfields</span><span class="p">:</span>
</span><span id="Bugzilla-749"><a href="#Bugzilla-749"><span class="linenos"> 749</span></a>            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Refreshing bugfields&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-750"><a href="#Bugzilla-750"><span class="linenos"> 750</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">bugfields</span> <span class="o">=</span> <span class="n">_fieldnames</span><span class="p">()</span>
</span><span id="Bugzilla-751"><a href="#Bugzilla-751"><span class="linenos"> 751</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">bugfields</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
</span><span id="Bugzilla-752"><a href="#Bugzilla-752"><span class="linenos"> 752</span></a>            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;bugfields = </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">bugfields</span><span class="p">)</span>
</span><span id="Bugzilla-753"><a href="#Bugzilla-753"><span class="linenos"> 753</span></a>
</span><span id="Bugzilla-754"><a href="#Bugzilla-754"><span class="linenos"> 754</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">bugfields</span>
</span><span id="Bugzilla-755"><a href="#Bugzilla-755"><span class="linenos"> 755</span></a>    <span class="n">bugfields</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">fget</span><span class="o">=</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">getbugfields</span><span class="p">(),</span>
</span><span id="Bugzilla-756"><a href="#Bugzilla-756"><span class="linenos"> 756</span></a>                         <span class="n">fdel</span><span class="o">=</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_bugfields&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
</span><span id="Bugzilla-757"><a href="#Bugzilla-757"><span class="linenos"> 757</span></a>
</span><span id="Bugzilla-758"><a href="#Bugzilla-758"><span class="linenos"> 758</span></a>
</span><span id="Bugzilla-759"><a href="#Bugzilla-759"><span class="linenos"> 759</span></a>    <span class="c1">####################</span>
</span><span id="Bugzilla-760"><a href="#Bugzilla-760"><span class="linenos"> 760</span></a>    <span class="c1"># Product querying #</span>
</span><span id="Bugzilla-761"><a href="#Bugzilla-761"><span class="linenos"> 761</span></a>    <span class="c1">####################</span>
</span><span id="Bugzilla-762"><a href="#Bugzilla-762"><span class="linenos"> 762</span></a>
</span><span id="Bugzilla-763"><a href="#Bugzilla-763"><span class="linenos"> 763</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">product_get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-764"><a href="#Bugzilla-764"><span class="linenos"> 764</span></a>                    <span class="n">include_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-765"><a href="#Bugzilla-765"><span class="linenos"> 765</span></a>                    <span class="n">ptype</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla-766"><a href="#Bugzilla-766"><span class="linenos"> 766</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-767"><a href="#Bugzilla-767"><span class="linenos"> 767</span></a><span class="sd">        Raw wrapper around Product.get</span>
</span><span id="Bugzilla-768"><a href="#Bugzilla-768"><span class="linenos"> 768</span></a><span class="sd">        https://bugzilla.readthedocs.io/en/latest/api/core/v1/product.html#get-product</span>
</span><span id="Bugzilla-769"><a href="#Bugzilla-769"><span class="linenos"> 769</span></a>
</span><span id="Bugzilla-770"><a href="#Bugzilla-770"><span class="linenos"> 770</span></a><span class="sd">        This does not perform any caching like other product API calls.</span>
</span><span id="Bugzilla-771"><a href="#Bugzilla-771"><span class="linenos"> 771</span></a><span class="sd">        If ids, names, or ptype is not specified, we default to</span>
</span><span id="Bugzilla-772"><a href="#Bugzilla-772"><span class="linenos"> 772</span></a><span class="sd">        ptype=accessible for historical reasons</span>
</span><span id="Bugzilla-773"><a href="#Bugzilla-773"><span class="linenos"> 773</span></a>
</span><span id="Bugzilla-774"><a href="#Bugzilla-774"><span class="linenos"> 774</span></a><span class="sd">        @ids: List of product IDs to lookup</span>
</span><span id="Bugzilla-775"><a href="#Bugzilla-775"><span class="linenos"> 775</span></a><span class="sd">        @names: List of product names to lookup</span>
</span><span id="Bugzilla-776"><a href="#Bugzilla-776"><span class="linenos"> 776</span></a><span class="sd">        @ptype: Either &#39;accessible&#39;, &#39;selectable&#39;, or &#39;enterable&#39;. If</span>
</span><span id="Bugzilla-777"><a href="#Bugzilla-777"><span class="linenos"> 777</span></a><span class="sd">            specified, we return data for all those</span>
</span><span id="Bugzilla-778"><a href="#Bugzilla-778"><span class="linenos"> 778</span></a><span class="sd">        @include_fields: Only include these fields in the output</span>
</span><span id="Bugzilla-779"><a href="#Bugzilla-779"><span class="linenos"> 779</span></a><span class="sd">        @exclude_fields: Do not include these fields in the output</span>
</span><span id="Bugzilla-780"><a href="#Bugzilla-780"><span class="linenos"> 780</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-781"><a href="#Bugzilla-781"><span class="linenos"> 781</span></a>        <span class="k">if</span> <span class="n">ids</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">names</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">ptype</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-782"><a href="#Bugzilla-782"><span class="linenos"> 782</span></a>            <span class="n">ptype</span> <span class="o">=</span> <span class="s2">&quot;accessible&quot;</span>
</span><span id="Bugzilla-783"><a href="#Bugzilla-783"><span class="linenos"> 783</span></a>
</span><span id="Bugzilla-784"><a href="#Bugzilla-784"><span class="linenos"> 784</span></a>        <span class="k">if</span> <span class="n">ptype</span><span class="p">:</span>
</span><span id="Bugzilla-785"><a href="#Bugzilla-785"><span class="linenos"> 785</span></a>            <span class="n">raw</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Bugzilla-786"><a href="#Bugzilla-786"><span class="linenos"> 786</span></a>            <span class="k">if</span> <span class="n">ptype</span> <span class="o">==</span> <span class="s2">&quot;accessible&quot;</span><span class="p">:</span>
</span><span id="Bugzilla-787"><a href="#Bugzilla-787"><span class="linenos"> 787</span></a>                <span class="n">raw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">product_get_accessible</span><span class="p">()</span>
</span><span id="Bugzilla-788"><a href="#Bugzilla-788"><span class="linenos"> 788</span></a>            <span class="k">elif</span> <span class="n">ptype</span> <span class="o">==</span> <span class="s2">&quot;enterable&quot;</span><span class="p">:</span>
</span><span id="Bugzilla-789"><a href="#Bugzilla-789"><span class="linenos"> 789</span></a>                <span class="n">raw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">product_get_enterable</span><span class="p">()</span>
</span><span id="Bugzilla-790"><a href="#Bugzilla-790"><span class="linenos"> 790</span></a>            <span class="k">elif</span> <span class="n">ptype</span> <span class="o">==</span> <span class="s2">&quot;selectable&quot;</span><span class="p">:</span>
</span><span id="Bugzilla-791"><a href="#Bugzilla-791"><span class="linenos"> 791</span></a>                <span class="n">raw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">product_get_selectable</span><span class="p">()</span>
</span><span id="Bugzilla-792"><a href="#Bugzilla-792"><span class="linenos"> 792</span></a>
</span><span id="Bugzilla-793"><a href="#Bugzilla-793"><span class="linenos"> 793</span></a>            <span class="k">if</span> <span class="n">raw</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-794"><a href="#Bugzilla-794"><span class="linenos"> 794</span></a>                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Unknown ptype=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">ptype</span><span class="p">)</span>
</span><span id="Bugzilla-795"><a href="#Bugzilla-795"><span class="linenos"> 795</span></a>            <span class="n">ids</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="s1">&#39;ids&#39;</span><span class="p">]</span>
</span><span id="Bugzilla-796"><a href="#Bugzilla-796"><span class="linenos"> 796</span></a>            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;For ptype=</span><span class="si">%s</span><span class="s2"> found ids=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ptype</span><span class="p">,</span> <span class="n">ids</span><span class="p">)</span>
</span><span id="Bugzilla-797"><a href="#Bugzilla-797"><span class="linenos"> 797</span></a>
</span><span id="Bugzilla-798"><a href="#Bugzilla-798"><span class="linenos"> 798</span></a>        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla-799"><a href="#Bugzilla-799"><span class="linenos"> 799</span></a>        <span class="k">if</span> <span class="n">ids</span><span class="p">:</span>
</span><span id="Bugzilla-800"><a href="#Bugzilla-800"><span class="linenos"> 800</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;ids&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span>
</span><span id="Bugzilla-801"><a href="#Bugzilla-801"><span class="linenos"> 801</span></a>        <span class="k">if</span> <span class="n">names</span><span class="p">:</span>
</span><span id="Bugzilla-802"><a href="#Bugzilla-802"><span class="linenos"> 802</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;names&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">names</span><span class="p">)</span>
</span><span id="Bugzilla-803"><a href="#Bugzilla-803"><span class="linenos"> 803</span></a>        <span class="k">if</span> <span class="n">include_fields</span><span class="p">:</span>
</span><span id="Bugzilla-804"><a href="#Bugzilla-804"><span class="linenos"> 804</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;include_fields&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">include_fields</span>
</span><span id="Bugzilla-805"><a href="#Bugzilla-805"><span class="linenos"> 805</span></a>        <span class="k">if</span> <span class="n">exclude_fields</span><span class="p">:</span>
</span><span id="Bugzilla-806"><a href="#Bugzilla-806"><span class="linenos"> 806</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;exclude_fields&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">exclude_fields</span>
</span><span id="Bugzilla-807"><a href="#Bugzilla-807"><span class="linenos"> 807</span></a>
</span><span id="Bugzilla-808"><a href="#Bugzilla-808"><span class="linenos"> 808</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">product_get</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Bugzilla-809"><a href="#Bugzilla-809"><span class="linenos"> 809</span></a>        <span class="k">return</span> <span class="n">ret</span><span class="p">[</span><span class="s1">&#39;products&#39;</span><span class="p">]</span>
</span><span id="Bugzilla-810"><a href="#Bugzilla-810"><span class="linenos"> 810</span></a>
</span><span id="Bugzilla-811"><a href="#Bugzilla-811"><span class="linenos"> 811</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">refresh_products</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Bugzilla-812"><a href="#Bugzilla-812"><span class="linenos"> 812</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-813"><a href="#Bugzilla-813"><span class="linenos"> 813</span></a><span class="sd">        Refresh a product&#39;s cached info. Basically calls product_get</span>
</span><span id="Bugzilla-814"><a href="#Bugzilla-814"><span class="linenos"> 814</span></a><span class="sd">        with the passed arguments, and tries to intelligently update</span>
</span><span id="Bugzilla-815"><a href="#Bugzilla-815"><span class="linenos"> 815</span></a><span class="sd">        our product cache.</span>
</span><span id="Bugzilla-816"><a href="#Bugzilla-816"><span class="linenos"> 816</span></a>
</span><span id="Bugzilla-817"><a href="#Bugzilla-817"><span class="linenos"> 817</span></a><span class="sd">        For example, if we already have cached info for product=foo,</span>
</span><span id="Bugzilla-818"><a href="#Bugzilla-818"><span class="linenos"> 818</span></a><span class="sd">        and you pass in names=[&quot;bar&quot;, &quot;baz&quot;], the new cache will have</span>
</span><span id="Bugzilla-819"><a href="#Bugzilla-819"><span class="linenos"> 819</span></a><span class="sd">        info for products foo, bar, baz. Individual product fields are</span>
</span><span id="Bugzilla-820"><a href="#Bugzilla-820"><span class="linenos"> 820</span></a><span class="sd">        also updated.</span>
</span><span id="Bugzilla-821"><a href="#Bugzilla-821"><span class="linenos"> 821</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-822"><a href="#Bugzilla-822"><span class="linenos"> 822</span></a>        <span class="k">for</span> <span class="n">product</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">product_get</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Bugzilla-823"><a href="#Bugzilla-823"><span class="linenos"> 823</span></a>            <span class="n">updated</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Bugzilla-824"><a href="#Bugzilla-824"><span class="linenos"> 824</span></a>            <span class="k">for</span> <span class="n">current</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">products</span><span class="p">[:]:</span>
</span><span id="Bugzilla-825"><a href="#Bugzilla-825"><span class="linenos"> 825</span></a>                <span class="k">if</span> <span class="p">(</span><span class="n">current</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">!=</span> <span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="ow">and</span>
</span><span id="Bugzilla-826"><a href="#Bugzilla-826"><span class="linenos"> 826</span></a>                    <span class="n">current</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">!=</span> <span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)):</span>
</span><span id="Bugzilla-827"><a href="#Bugzilla-827"><span class="linenos"> 827</span></a>                    <span class="k">continue</span>
</span><span id="Bugzilla-828"><a href="#Bugzilla-828"><span class="linenos"> 828</span></a>
</span><span id="Bugzilla-829"><a href="#Bugzilla-829"><span class="linenos"> 829</span></a>                <span class="n">_nested_update</span><span class="p">(</span><span class="n">current</span><span class="p">,</span> <span class="n">product</span><span class="p">)</span>
</span><span id="Bugzilla-830"><a href="#Bugzilla-830"><span class="linenos"> 830</span></a>                <span class="n">updated</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Bugzilla-831"><a href="#Bugzilla-831"><span class="linenos"> 831</span></a>                <span class="k">break</span>
</span><span id="Bugzilla-832"><a href="#Bugzilla-832"><span class="linenos"> 832</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">updated</span><span class="p">:</span>
</span><span id="Bugzilla-833"><a href="#Bugzilla-833"><span class="linenos"> 833</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">products</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">product</span><span class="p">)</span>
</span><span id="Bugzilla-834"><a href="#Bugzilla-834"><span class="linenos"> 834</span></a>
</span><span id="Bugzilla-835"><a href="#Bugzilla-835"><span class="linenos"> 835</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getproducts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force_refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Bugzilla-836"><a href="#Bugzilla-836"><span class="linenos"> 836</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-837"><a href="#Bugzilla-837"><span class="linenos"> 837</span></a><span class="sd">        Query all products and return the raw dict info. Takes all the</span>
</span><span id="Bugzilla-838"><a href="#Bugzilla-838"><span class="linenos"> 838</span></a><span class="sd">        same arguments as product_get.</span>
</span><span id="Bugzilla-839"><a href="#Bugzilla-839"><span class="linenos"> 839</span></a>
</span><span id="Bugzilla-840"><a href="#Bugzilla-840"><span class="linenos"> 840</span></a><span class="sd">        On first invocation this will contact bugzilla and internally</span>
</span><span id="Bugzilla-841"><a href="#Bugzilla-841"><span class="linenos"> 841</span></a><span class="sd">        cache the results. Subsequent getproducts calls or accesses to</span>
</span><span id="Bugzilla-842"><a href="#Bugzilla-842"><span class="linenos"> 842</span></a><span class="sd">        self.products will return this cached data only.</span>
</span><span id="Bugzilla-843"><a href="#Bugzilla-843"><span class="linenos"> 843</span></a>
</span><span id="Bugzilla-844"><a href="#Bugzilla-844"><span class="linenos"> 844</span></a><span class="sd">        :param force_refresh: force refreshing via refresh_products()</span>
</span><span id="Bugzilla-845"><a href="#Bugzilla-845"><span class="linenos"> 845</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-846"><a href="#Bugzilla-846"><span class="linenos"> 846</span></a>        <span class="k">if</span> <span class="n">force_refresh</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">products</span><span class="p">:</span>
</span><span id="Bugzilla-847"><a href="#Bugzilla-847"><span class="linenos"> 847</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">refresh_products</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Bugzilla-848"><a href="#Bugzilla-848"><span class="linenos"> 848</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">products</span>
</span><span id="Bugzilla-849"><a href="#Bugzilla-849"><span class="linenos"> 849</span></a>
</span><span id="Bugzilla-850"><a href="#Bugzilla-850"><span class="linenos"> 850</span></a>    <span class="n">products</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
</span><span id="Bugzilla-851"><a href="#Bugzilla-851"><span class="linenos"> 851</span></a>        <span class="n">fget</span><span class="o">=</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">getproducts</span><span class="p">(),</span>
</span><span id="Bugzilla-852"><a href="#Bugzilla-852"><span class="linenos"> 852</span></a>        <span class="n">fdel</span><span class="o">=</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_products&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
</span><span id="Bugzilla-853"><a href="#Bugzilla-853"><span class="linenos"> 853</span></a>        <span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Helper for accessing the products cache. If nothing &quot;</span>
</span><span id="Bugzilla-854"><a href="#Bugzilla-854"><span class="linenos"> 854</span></a>            <span class="s2">&quot;has been cached yet, this calls getproducts()&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-855"><a href="#Bugzilla-855"><span class="linenos"> 855</span></a>
</span><span id="Bugzilla-856"><a href="#Bugzilla-856"><span class="linenos"> 856</span></a>
</span><span id="Bugzilla-857"><a href="#Bugzilla-857"><span class="linenos"> 857</span></a>    <span class="c1">#######################</span>
</span><span id="Bugzilla-858"><a href="#Bugzilla-858"><span class="linenos"> 858</span></a>    <span class="c1"># components querying #</span>
</span><span id="Bugzilla-859"><a href="#Bugzilla-859"><span class="linenos"> 859</span></a>    <span class="c1">#######################</span>
</span><span id="Bugzilla-860"><a href="#Bugzilla-860"><span class="linenos"> 860</span></a>
</span><span id="Bugzilla-861"><a href="#Bugzilla-861"><span class="linenos"> 861</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_lookup_product_in_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">productname</span><span class="p">):</span>
</span><span id="Bugzilla-862"><a href="#Bugzilla-862"><span class="linenos"> 862</span></a>        <span class="n">prodstr</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">productname</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">productname</span> <span class="ow">or</span> <span class="kc">None</span>
</span><span id="Bugzilla-863"><a href="#Bugzilla-863"><span class="linenos"> 863</span></a>        <span class="n">prodint</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">productname</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span> <span class="n">productname</span> <span class="ow">or</span> <span class="kc">None</span>
</span><span id="Bugzilla-864"><a href="#Bugzilla-864"><span class="linenos"> 864</span></a>        <span class="k">for</span> <span class="n">proddict</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">products</span><span class="p">:</span>
</span><span id="Bugzilla-865"><a href="#Bugzilla-865"><span class="linenos"> 865</span></a>            <span class="k">if</span> <span class="n">prodstr</span> <span class="o">==</span> <span class="n">proddict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
</span><span id="Bugzilla-866"><a href="#Bugzilla-866"><span class="linenos"> 866</span></a>                <span class="k">return</span> <span class="n">proddict</span>
</span><span id="Bugzilla-867"><a href="#Bugzilla-867"><span class="linenos"> 867</span></a>            <span class="k">if</span> <span class="n">prodint</span> <span class="o">==</span> <span class="n">proddict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;nope&quot;</span><span class="p">):</span>
</span><span id="Bugzilla-868"><a href="#Bugzilla-868"><span class="linenos"> 868</span></a>                <span class="k">return</span> <span class="n">proddict</span>
</span><span id="Bugzilla-869"><a href="#Bugzilla-869"><span class="linenos"> 869</span></a>        <span class="k">return</span> <span class="p">{}</span>
</span><span id="Bugzilla-870"><a href="#Bugzilla-870"><span class="linenos"> 870</span></a>
</span><span id="Bugzilla-871"><a href="#Bugzilla-871"><span class="linenos"> 871</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getcomponentsdetails</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">product</span><span class="p">,</span> <span class="n">force_refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Bugzilla-872"><a href="#Bugzilla-872"><span class="linenos"> 872</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-873"><a href="#Bugzilla-873"><span class="linenos"> 873</span></a><span class="sd">        Wrapper around Product.get(include_fields=[&quot;components&quot;]),</span>
</span><span id="Bugzilla-874"><a href="#Bugzilla-874"><span class="linenos"> 874</span></a><span class="sd">        returning only the &quot;components&quot; data for the requested product,</span>
</span><span id="Bugzilla-875"><a href="#Bugzilla-875"><span class="linenos"> 875</span></a><span class="sd">        slightly reworked to a dict mapping of components.name: components,</span>
</span><span id="Bugzilla-876"><a href="#Bugzilla-876"><span class="linenos"> 876</span></a><span class="sd">        for historical reasons.</span>
</span><span id="Bugzilla-877"><a href="#Bugzilla-877"><span class="linenos"> 877</span></a>
</span><span id="Bugzilla-878"><a href="#Bugzilla-878"><span class="linenos"> 878</span></a><span class="sd">        This uses the product cache, but will update it if the product</span>
</span><span id="Bugzilla-879"><a href="#Bugzilla-879"><span class="linenos"> 879</span></a><span class="sd">        isn&#39;t found or &quot;components&quot; isn&#39;t cached for the product.</span>
</span><span id="Bugzilla-880"><a href="#Bugzilla-880"><span class="linenos"> 880</span></a>
</span><span id="Bugzilla-881"><a href="#Bugzilla-881"><span class="linenos"> 881</span></a><span class="sd">        In cases like bugzilla.redhat.com where there are tons of</span>
</span><span id="Bugzilla-882"><a href="#Bugzilla-882"><span class="linenos"> 882</span></a><span class="sd">        components for some products, this API will time out. You</span>
</span><span id="Bugzilla-883"><a href="#Bugzilla-883"><span class="linenos"> 883</span></a><span class="sd">        should use product_get instead.</span>
</span><span id="Bugzilla-884"><a href="#Bugzilla-884"><span class="linenos"> 884</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-885"><a href="#Bugzilla-885"><span class="linenos"> 885</span></a>        <span class="n">proddict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lookup_product_in_cache</span><span class="p">(</span><span class="n">product</span><span class="p">)</span>
</span><span id="Bugzilla-886"><a href="#Bugzilla-886"><span class="linenos"> 886</span></a>
</span><span id="Bugzilla-887"><a href="#Bugzilla-887"><span class="linenos"> 887</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">force_refresh</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">proddict</span> <span class="ow">or</span> <span class="s2">&quot;components&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">proddict</span><span class="p">):</span>
</span><span id="Bugzilla-888"><a href="#Bugzilla-888"><span class="linenos"> 888</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">refresh_products</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="n">product</span><span class="p">],</span>
</span><span id="Bugzilla-889"><a href="#Bugzilla-889"><span class="linenos"> 889</span></a>                                  <span class="n">include_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;components&quot;</span><span class="p">])</span>
</span><span id="Bugzilla-890"><a href="#Bugzilla-890"><span class="linenos"> 890</span></a>            <span class="n">proddict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lookup_product_in_cache</span><span class="p">(</span><span class="n">product</span><span class="p">)</span>
</span><span id="Bugzilla-891"><a href="#Bugzilla-891"><span class="linenos"> 891</span></a>
</span><span id="Bugzilla-892"><a href="#Bugzilla-892"><span class="linenos"> 892</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla-893"><a href="#Bugzilla-893"><span class="linenos"> 893</span></a>        <span class="k">for</span> <span class="n">compdict</span> <span class="ow">in</span> <span class="n">proddict</span><span class="p">[</span><span class="s2">&quot;components&quot;</span><span class="p">]:</span>
</span><span id="Bugzilla-894"><a href="#Bugzilla-894"><span class="linenos"> 894</span></a>            <span class="n">ret</span><span class="p">[</span><span class="n">compdict</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">compdict</span>
</span><span id="Bugzilla-895"><a href="#Bugzilla-895"><span class="linenos"> 895</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="Bugzilla-896"><a href="#Bugzilla-896"><span class="linenos"> 896</span></a>
</span><span id="Bugzilla-897"><a href="#Bugzilla-897"><span class="linenos"> 897</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getcomponentdetails</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">product</span><span class="p">,</span> <span class="n">component</span><span class="p">,</span> <span class="n">force_refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Bugzilla-898"><a href="#Bugzilla-898"><span class="linenos"> 898</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-899"><a href="#Bugzilla-899"><span class="linenos"> 899</span></a><span class="sd">        Helper for accessing a single component&#39;s info. This is a wrapper</span>
</span><span id="Bugzilla-900"><a href="#Bugzilla-900"><span class="linenos"> 900</span></a><span class="sd">        around getcomponentsdetails, see that for explanation</span>
</span><span id="Bugzilla-901"><a href="#Bugzilla-901"><span class="linenos"> 901</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-902"><a href="#Bugzilla-902"><span class="linenos"> 902</span></a>        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getcomponentsdetails</span><span class="p">(</span><span class="n">product</span><span class="p">,</span> <span class="n">force_refresh</span><span class="p">)</span>
</span><span id="Bugzilla-903"><a href="#Bugzilla-903"><span class="linenos"> 903</span></a>        <span class="k">return</span> <span class="n">d</span><span class="p">[</span><span class="n">component</span><span class="p">]</span>
</span><span id="Bugzilla-904"><a href="#Bugzilla-904"><span class="linenos"> 904</span></a>
</span><span id="Bugzilla-905"><a href="#Bugzilla-905"><span class="linenos"> 905</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getcomponents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">product</span><span class="p">,</span> <span class="n">force_refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Bugzilla-906"><a href="#Bugzilla-906"><span class="linenos"> 906</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-907"><a href="#Bugzilla-907"><span class="linenos"> 907</span></a><span class="sd">        Return a list of component names for the passed product.</span>
</span><span id="Bugzilla-908"><a href="#Bugzilla-908"><span class="linenos"> 908</span></a>
</span><span id="Bugzilla-909"><a href="#Bugzilla-909"><span class="linenos"> 909</span></a><span class="sd">        On first invocation the value is cached, and subsequent calls</span>
</span><span id="Bugzilla-910"><a href="#Bugzilla-910"><span class="linenos"> 910</span></a><span class="sd">        will return the cached data.</span>
</span><span id="Bugzilla-911"><a href="#Bugzilla-911"><span class="linenos"> 911</span></a>
</span><span id="Bugzilla-912"><a href="#Bugzilla-912"><span class="linenos"> 912</span></a><span class="sd">        :param force_refresh: Force refreshing the cache, and return</span>
</span><span id="Bugzilla-913"><a href="#Bugzilla-913"><span class="linenos"> 913</span></a><span class="sd">            the new data</span>
</span><span id="Bugzilla-914"><a href="#Bugzilla-914"><span class="linenos"> 914</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-915"><a href="#Bugzilla-915"><span class="linenos"> 915</span></a>        <span class="n">proddict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lookup_product_in_cache</span><span class="p">(</span><span class="n">product</span><span class="p">)</span>
</span><span id="Bugzilla-916"><a href="#Bugzilla-916"><span class="linenos"> 916</span></a>        <span class="n">product_id</span> <span class="o">=</span> <span class="n">proddict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="Bugzilla-917"><a href="#Bugzilla-917"><span class="linenos"> 917</span></a>
</span><span id="Bugzilla-918"><a href="#Bugzilla-918"><span class="linenos"> 918</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">force_refresh</span> <span class="ow">or</span> <span class="n">product_id</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span>
</span><span id="Bugzilla-919"><a href="#Bugzilla-919"><span class="linenos"> 919</span></a>            <span class="s2">&quot;components&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">proddict</span><span class="p">):</span>
</span><span id="Bugzilla-920"><a href="#Bugzilla-920"><span class="linenos"> 920</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">refresh_products</span><span class="p">(</span>
</span><span id="Bugzilla-921"><a href="#Bugzilla-921"><span class="linenos"> 921</span></a>                <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="n">product</span><span class="p">],</span>
</span><span id="Bugzilla-922"><a href="#Bugzilla-922"><span class="linenos"> 922</span></a>                <span class="n">include_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;components.name&quot;</span><span class="p">])</span>
</span><span id="Bugzilla-923"><a href="#Bugzilla-923"><span class="linenos"> 923</span></a>            <span class="n">proddict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lookup_product_in_cache</span><span class="p">(</span><span class="n">product</span><span class="p">)</span>
</span><span id="Bugzilla-924"><a href="#Bugzilla-924"><span class="linenos"> 924</span></a>            <span class="k">if</span> <span class="s2">&quot;id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">proddict</span><span class="p">:</span>
</span><span id="Bugzilla-925"><a href="#Bugzilla-925"><span class="linenos"> 925</span></a>                <span class="k">raise</span> <span class="n">BugzillaError</span><span class="p">(</span><span class="s2">&quot;Product &#39;</span><span class="si">%s</span><span class="s2">&#39; not found&quot;</span> <span class="o">%</span> <span class="n">product</span><span class="p">)</span>
</span><span id="Bugzilla-926"><a href="#Bugzilla-926"><span class="linenos"> 926</span></a>            <span class="n">product_id</span> <span class="o">=</span> <span class="n">proddict</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span>
</span><span id="Bugzilla-927"><a href="#Bugzilla-927"><span class="linenos"> 927</span></a>
</span><span id="Bugzilla-928"><a href="#Bugzilla-928"><span class="linenos"> 928</span></a>        <span class="k">if</span> <span class="n">product_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">component_names</span><span class="p">:</span>
</span><span id="Bugzilla-929"><a href="#Bugzilla-929"><span class="linenos"> 929</span></a>            <span class="n">names</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Bugzilla-930"><a href="#Bugzilla-930"><span class="linenos"> 930</span></a>            <span class="k">for</span> <span class="n">comp</span> <span class="ow">in</span> <span class="n">proddict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;components&quot;</span><span class="p">,</span> <span class="p">[]):</span>
</span><span id="Bugzilla-931"><a href="#Bugzilla-931"><span class="linenos"> 931</span></a>                <span class="n">name</span> <span class="o">=</span> <span class="n">comp</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-932"><a href="#Bugzilla-932"><span class="linenos"> 932</span></a>                <span class="k">if</span> <span class="n">name</span><span class="p">:</span>
</span><span id="Bugzilla-933"><a href="#Bugzilla-933"><span class="linenos"> 933</span></a>                    <span class="n">names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="Bugzilla-934"><a href="#Bugzilla-934"><span class="linenos"> 934</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">component_names</span><span class="p">[</span><span class="n">product_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">names</span>
</span><span id="Bugzilla-935"><a href="#Bugzilla-935"><span class="linenos"> 935</span></a>
</span><span id="Bugzilla-936"><a href="#Bugzilla-936"><span class="linenos"> 936</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">component_names</span><span class="p">[</span><span class="n">product_id</span><span class="p">]</span>
</span><span id="Bugzilla-937"><a href="#Bugzilla-937"><span class="linenos"> 937</span></a>
</span><span id="Bugzilla-938"><a href="#Bugzilla-938"><span class="linenos"> 938</span></a>
</span><span id="Bugzilla-939"><a href="#Bugzilla-939"><span class="linenos"> 939</span></a>    <span class="c1">############################</span>
</span><span id="Bugzilla-940"><a href="#Bugzilla-940"><span class="linenos"> 940</span></a>    <span class="c1"># component adding/editing #</span>
</span><span id="Bugzilla-941"><a href="#Bugzilla-941"><span class="linenos"> 941</span></a>    <span class="c1">############################</span>
</span><span id="Bugzilla-942"><a href="#Bugzilla-942"><span class="linenos"> 942</span></a>
</span><span id="Bugzilla-943"><a href="#Bugzilla-943"><span class="linenos"> 943</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_component_data_convert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Bugzilla-944"><a href="#Bugzilla-944"><span class="linenos"> 944</span></a>        <span class="c1"># Back compat for the old RH interface</span>
</span><span id="Bugzilla-945"><a href="#Bugzilla-945"><span class="linenos"> 945</span></a>        <span class="n">convert_fields</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="Bugzilla-946"><a href="#Bugzilla-946"><span class="linenos"> 946</span></a>            <span class="p">(</span><span class="s2">&quot;initialowner&quot;</span><span class="p">,</span> <span class="s2">&quot;default_assignee&quot;</span><span class="p">),</span>
</span><span id="Bugzilla-947"><a href="#Bugzilla-947"><span class="linenos"> 947</span></a>            <span class="p">(</span><span class="s2">&quot;initialqacontact&quot;</span><span class="p">,</span> <span class="s2">&quot;default_qa_contact&quot;</span><span class="p">),</span>
</span><span id="Bugzilla-948"><a href="#Bugzilla-948"><span class="linenos"> 948</span></a>            <span class="p">(</span><span class="s2">&quot;initialcclist&quot;</span><span class="p">,</span> <span class="s2">&quot;default_cc&quot;</span><span class="p">),</span>
</span><span id="Bugzilla-949"><a href="#Bugzilla-949"><span class="linenos"> 949</span></a>        <span class="p">]</span>
</span><span id="Bugzilla-950"><a href="#Bugzilla-950"><span class="linenos"> 950</span></a>        <span class="k">for</span> <span class="n">old</span><span class="p">,</span> <span class="n">new</span> <span class="ow">in</span> <span class="n">convert_fields</span><span class="p">:</span>
</span><span id="Bugzilla-951"><a href="#Bugzilla-951"><span class="linenos"> 951</span></a>            <span class="k">if</span> <span class="n">old</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
</span><span id="Bugzilla-952"><a href="#Bugzilla-952"><span class="linenos"> 952</span></a>                <span class="n">data</span><span class="p">[</span><span class="n">new</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">old</span><span class="p">)</span>
</span><span id="Bugzilla-953"><a href="#Bugzilla-953"><span class="linenos"> 953</span></a>
</span><span id="Bugzilla-954"><a href="#Bugzilla-954"><span class="linenos"> 954</span></a>        <span class="k">if</span> <span class="n">update</span><span class="p">:</span>
</span><span id="Bugzilla-955"><a href="#Bugzilla-955"><span class="linenos"> 955</span></a>            <span class="n">names</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;product&quot;</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;product&quot;</span><span class="p">),</span>
</span><span id="Bugzilla-956"><a href="#Bugzilla-956"><span class="linenos"> 956</span></a>                     <span class="s2">&quot;component&quot;</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;component&quot;</span><span class="p">)}</span>
</span><span id="Bugzilla-957"><a href="#Bugzilla-957"><span class="linenos"> 957</span></a>            <span class="n">updates</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla-958"><a href="#Bugzilla-958"><span class="linenos"> 958</span></a>            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
</span><span id="Bugzilla-959"><a href="#Bugzilla-959"><span class="linenos"> 959</span></a>                <span class="n">updates</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
</span><span id="Bugzilla-960"><a href="#Bugzilla-960"><span class="linenos"> 960</span></a>
</span><span id="Bugzilla-961"><a href="#Bugzilla-961"><span class="linenos"> 961</span></a>            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;names&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">names</span><span class="p">]</span>
</span><span id="Bugzilla-962"><a href="#Bugzilla-962"><span class="linenos"> 962</span></a>            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;updates&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">updates</span>
</span><span id="Bugzilla-963"><a href="#Bugzilla-963"><span class="linenos"> 963</span></a>
</span><span id="Bugzilla-964"><a href="#Bugzilla-964"><span class="linenos"> 964</span></a>
</span><span id="Bugzilla-965"><a href="#Bugzilla-965"><span class="linenos"> 965</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">addcomponent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
</span><span id="Bugzilla-966"><a href="#Bugzilla-966"><span class="linenos"> 966</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-967"><a href="#Bugzilla-967"><span class="linenos"> 967</span></a><span class="sd">        A method to create a component in Bugzilla. Takes a dict, with the</span>
</span><span id="Bugzilla-968"><a href="#Bugzilla-968"><span class="linenos"> 968</span></a><span class="sd">        following elements:</span>
</span><span id="Bugzilla-969"><a href="#Bugzilla-969"><span class="linenos"> 969</span></a>
</span><span id="Bugzilla-970"><a href="#Bugzilla-970"><span class="linenos"> 970</span></a><span class="sd">        product: The product to create the component in</span>
</span><span id="Bugzilla-971"><a href="#Bugzilla-971"><span class="linenos"> 971</span></a><span class="sd">        component: The name of the component to create</span>
</span><span id="Bugzilla-972"><a href="#Bugzilla-972"><span class="linenos"> 972</span></a><span class="sd">        description: A one sentence summary of the component</span>
</span><span id="Bugzilla-973"><a href="#Bugzilla-973"><span class="linenos"> 973</span></a><span class="sd">        default_assignee: The bugzilla login (email address) of the initial</span>
</span><span id="Bugzilla-974"><a href="#Bugzilla-974"><span class="linenos"> 974</span></a><span class="sd">                          owner of the component</span>
</span><span id="Bugzilla-975"><a href="#Bugzilla-975"><span class="linenos"> 975</span></a><span class="sd">        default_qa_contact (optional): The bugzilla login of the</span>
</span><span id="Bugzilla-976"><a href="#Bugzilla-976"><span class="linenos"> 976</span></a><span class="sd">                                       initial QA contact</span>
</span><span id="Bugzilla-977"><a href="#Bugzilla-977"><span class="linenos"> 977</span></a><span class="sd">        default_cc: (optional) The initial list of users to be CC&#39;ed on</span>
</span><span id="Bugzilla-978"><a href="#Bugzilla-978"><span class="linenos"> 978</span></a><span class="sd">                               new bugs for the component.</span>
</span><span id="Bugzilla-979"><a href="#Bugzilla-979"><span class="linenos"> 979</span></a><span class="sd">        is_active: (optional) If False, the component is hidden from</span>
</span><span id="Bugzilla-980"><a href="#Bugzilla-980"><span class="linenos"> 980</span></a><span class="sd">                              the component list when filing new bugs.</span>
</span><span id="Bugzilla-981"><a href="#Bugzilla-981"><span class="linenos"> 981</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-982"><a href="#Bugzilla-982"><span class="linenos"> 982</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="Bugzilla-983"><a href="#Bugzilla-983"><span class="linenos"> 983</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_component_data_convert</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="Bugzilla-984"><a href="#Bugzilla-984"><span class="linenos"> 984</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">component_create</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="Bugzilla-985"><a href="#Bugzilla-985"><span class="linenos"> 985</span></a>
</span><span id="Bugzilla-986"><a href="#Bugzilla-986"><span class="linenos"> 986</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">editcomponent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
</span><span id="Bugzilla-987"><a href="#Bugzilla-987"><span class="linenos"> 987</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-988"><a href="#Bugzilla-988"><span class="linenos"> 988</span></a><span class="sd">        A method to edit a component in Bugzilla. Takes a dict, with</span>
</span><span id="Bugzilla-989"><a href="#Bugzilla-989"><span class="linenos"> 989</span></a><span class="sd">        mandatory elements of product. component, and initialowner.</span>
</span><span id="Bugzilla-990"><a href="#Bugzilla-990"><span class="linenos"> 990</span></a><span class="sd">        All other elements are optional and use the same names as the</span>
</span><span id="Bugzilla-991"><a href="#Bugzilla-991"><span class="linenos"> 991</span></a><span class="sd">        addcomponent() method.</span>
</span><span id="Bugzilla-992"><a href="#Bugzilla-992"><span class="linenos"> 992</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-993"><a href="#Bugzilla-993"><span class="linenos"> 993</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="Bugzilla-994"><a href="#Bugzilla-994"><span class="linenos"> 994</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_component_data_convert</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="Bugzilla-995"><a href="#Bugzilla-995"><span class="linenos"> 995</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">component_update</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="Bugzilla-996"><a href="#Bugzilla-996"><span class="linenos"> 996</span></a>
</span><span id="Bugzilla-997"><a href="#Bugzilla-997"><span class="linenos"> 997</span></a>
</span><span id="Bugzilla-998"><a href="#Bugzilla-998"><span class="linenos"> 998</span></a>    <span class="c1">###################</span>
</span><span id="Bugzilla-999"><a href="#Bugzilla-999"><span class="linenos"> 999</span></a>    <span class="c1"># getbug* methods #</span>
</span><span id="Bugzilla-1000"><a href="#Bugzilla-1000"><span class="linenos">1000</span></a>    <span class="c1">###################</span>
</span><span id="Bugzilla-1001"><a href="#Bugzilla-1001"><span class="linenos">1001</span></a>
</span><span id="Bugzilla-1002"><a href="#Bugzilla-1002"><span class="linenos">1002</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_process_include_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">include_fields</span><span class="p">,</span> <span class="n">exclude_fields</span><span class="p">,</span>
</span><span id="Bugzilla-1003"><a href="#Bugzilla-1003"><span class="linenos">1003</span></a>                                <span class="n">extra_fields</span><span class="p">):</span>
</span><span id="Bugzilla-1004"><a href="#Bugzilla-1004"><span class="linenos">1004</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1005"><a href="#Bugzilla-1005"><span class="linenos">1005</span></a><span class="sd">        Internal helper to process include_fields lists</span>
</span><span id="Bugzilla-1006"><a href="#Bugzilla-1006"><span class="linenos">1006</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1007"><a href="#Bugzilla-1007"><span class="linenos">1007</span></a>        <span class="k">def</span><span class="w"> </span><span class="nf">_convert_fields</span><span class="p">(</span><span class="n">_in</span><span class="p">):</span>
</span><span id="Bugzilla-1008"><a href="#Bugzilla-1008"><span class="linenos">1008</span></a>            <span class="k">for</span> <span class="n">newname</span><span class="p">,</span> <span class="n">oldname</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_api_aliases</span><span class="p">():</span>
</span><span id="Bugzilla-1009"><a href="#Bugzilla-1009"><span class="linenos">1009</span></a>                <span class="k">if</span> <span class="n">oldname</span> <span class="ow">in</span> <span class="n">_in</span><span class="p">:</span>
</span><span id="Bugzilla-1010"><a href="#Bugzilla-1010"><span class="linenos">1010</span></a>                    <span class="n">_in</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">oldname</span><span class="p">)</span>
</span><span id="Bugzilla-1011"><a href="#Bugzilla-1011"><span class="linenos">1011</span></a>                    <span class="k">if</span> <span class="n">newname</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_in</span><span class="p">:</span>
</span><span id="Bugzilla-1012"><a href="#Bugzilla-1012"><span class="linenos">1012</span></a>                        <span class="n">_in</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newname</span><span class="p">)</span>
</span><span id="Bugzilla-1013"><a href="#Bugzilla-1013"><span class="linenos">1013</span></a>            <span class="k">return</span> <span class="n">_in</span>
</span><span id="Bugzilla-1014"><a href="#Bugzilla-1014"><span class="linenos">1014</span></a>
</span><span id="Bugzilla-1015"><a href="#Bugzilla-1015"><span class="linenos">1015</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla-1016"><a href="#Bugzilla-1016"><span class="linenos">1016</span></a>        <span class="k">if</span> <span class="n">include_fields</span><span class="p">:</span>
</span><span id="Bugzilla-1017"><a href="#Bugzilla-1017"><span class="linenos">1017</span></a>            <span class="n">include_fields</span> <span class="o">=</span> <span class="n">_convert_fields</span><span class="p">(</span><span class="n">include_fields</span><span class="p">)</span>
</span><span id="Bugzilla-1018"><a href="#Bugzilla-1018"><span class="linenos">1018</span></a>            <span class="k">if</span> <span class="s2">&quot;id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">include_fields</span><span class="p">:</span>
</span><span id="Bugzilla-1019"><a href="#Bugzilla-1019"><span class="linenos">1019</span></a>                <span class="n">include_fields</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-1020"><a href="#Bugzilla-1020"><span class="linenos">1020</span></a>            <span class="n">ret</span><span class="p">[</span><span class="s2">&quot;include_fields&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">include_fields</span>
</span><span id="Bugzilla-1021"><a href="#Bugzilla-1021"><span class="linenos">1021</span></a>        <span class="k">if</span> <span class="n">exclude_fields</span><span class="p">:</span>
</span><span id="Bugzilla-1022"><a href="#Bugzilla-1022"><span class="linenos">1022</span></a>            <span class="n">exclude_fields</span> <span class="o">=</span> <span class="n">_convert_fields</span><span class="p">(</span><span class="n">exclude_fields</span><span class="p">)</span>
</span><span id="Bugzilla-1023"><a href="#Bugzilla-1023"><span class="linenos">1023</span></a>            <span class="n">ret</span><span class="p">[</span><span class="s2">&quot;exclude_fields&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">exclude_fields</span>
</span><span id="Bugzilla-1024"><a href="#Bugzilla-1024"><span class="linenos">1024</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_supports_getbug_extra_fields</span><span class="p">():</span>
</span><span id="Bugzilla-1025"><a href="#Bugzilla-1025"><span class="linenos">1025</span></a>            <span class="k">if</span> <span class="n">extra_fields</span><span class="p">:</span>
</span><span id="Bugzilla-1026"><a href="#Bugzilla-1026"><span class="linenos">1026</span></a>                <span class="n">ret</span><span class="p">[</span><span class="s2">&quot;extra_fields&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_convert_fields</span><span class="p">(</span><span class="n">extra_fields</span><span class="p">)</span>
</span><span id="Bugzilla-1027"><a href="#Bugzilla-1027"><span class="linenos">1027</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="Bugzilla-1028"><a href="#Bugzilla-1028"><span class="linenos">1028</span></a>
</span><span id="Bugzilla-1029"><a href="#Bugzilla-1029"><span class="linenos">1029</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_get_bug_autorefresh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-1030"><a href="#Bugzilla-1030"><span class="linenos">1030</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1031"><a href="#Bugzilla-1031"><span class="linenos">1031</span></a><span class="sd">        This value is passed to Bug.autorefresh for all fetched bugs.</span>
</span><span id="Bugzilla-1032"><a href="#Bugzilla-1032"><span class="linenos">1032</span></a><span class="sd">        If True, and an uncached attribute is requested from a Bug,</span>
</span><span id="Bugzilla-1033"><a href="#Bugzilla-1033"><span class="linenos">1033</span></a><span class="sd">            the Bug will update its contents and try again.</span>
</span><span id="Bugzilla-1034"><a href="#Bugzilla-1034"><span class="linenos">1034</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1035"><a href="#Bugzilla-1035"><span class="linenos">1035</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bug_autorefresh</span>
</span><span id="Bugzilla-1036"><a href="#Bugzilla-1036"><span class="linenos">1036</span></a>
</span><span id="Bugzilla-1037"><a href="#Bugzilla-1037"><span class="linenos">1037</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_set_bug_autorefresh</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
</span><span id="Bugzilla-1038"><a href="#Bugzilla-1038"><span class="linenos">1038</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bug_autorefresh</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
</span><span id="Bugzilla-1039"><a href="#Bugzilla-1039"><span class="linenos">1039</span></a>    <span class="n">bug_autorefresh</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_bug_autorefresh</span><span class="p">,</span> <span class="n">_set_bug_autorefresh</span><span class="p">)</span>
</span><span id="Bugzilla-1040"><a href="#Bugzilla-1040"><span class="linenos">1040</span></a>
</span><span id="Bugzilla-1041"><a href="#Bugzilla-1041"><span class="linenos">1041</span></a>
</span><span id="Bugzilla-1042"><a href="#Bugzilla-1042"><span class="linenos">1042</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_getbug_extra_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-1043"><a href="#Bugzilla-1043"><span class="linenos">1043</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1044"><a href="#Bugzilla-1044"><span class="linenos">1044</span></a><span class="sd">        Extra fields that need to be explicitly</span>
</span><span id="Bugzilla-1045"><a href="#Bugzilla-1045"><span class="linenos">1045</span></a><span class="sd">        requested from Bug.get in order for the data to be returned.</span>
</span><span id="Bugzilla-1046"><a href="#Bugzilla-1046"><span class="linenos">1046</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1047"><a href="#Bugzilla-1047"><span class="linenos">1047</span></a>        <span class="n">rhbz_extra_fields</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="Bugzilla-1048"><a href="#Bugzilla-1048"><span class="linenos">1048</span></a>            <span class="s2">&quot;comments&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span>
</span><span id="Bugzilla-1049"><a href="#Bugzilla-1049"><span class="linenos">1049</span></a>            <span class="s2">&quot;external_bugs&quot;</span><span class="p">,</span> <span class="s2">&quot;flags&quot;</span><span class="p">,</span> <span class="s2">&quot;sub_components&quot;</span><span class="p">,</span>
</span><span id="Bugzilla-1050"><a href="#Bugzilla-1050"><span class="linenos">1050</span></a>            <span class="s2">&quot;tags&quot;</span><span class="p">,</span>
</span><span id="Bugzilla-1051"><a href="#Bugzilla-1051"><span class="linenos">1051</span></a>        <span class="p">]</span>
</span><span id="Bugzilla-1052"><a href="#Bugzilla-1052"><span class="linenos">1052</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_redhat_bugzilla</span><span class="p">:</span>
</span><span id="Bugzilla-1053"><a href="#Bugzilla-1053"><span class="linenos">1053</span></a>            <span class="k">return</span> <span class="n">rhbz_extra_fields</span>
</span><span id="Bugzilla-1054"><a href="#Bugzilla-1054"><span class="linenos">1054</span></a>        <span class="k">return</span> <span class="p">[]</span>
</span><span id="Bugzilla-1055"><a href="#Bugzilla-1055"><span class="linenos">1055</span></a>
</span><span id="Bugzilla-1056"><a href="#Bugzilla-1056"><span class="linenos">1056</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_supports_getbug_extra_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla-1057"><a href="#Bugzilla-1057"><span class="linenos">1057</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1058"><a href="#Bugzilla-1058"><span class="linenos">1058</span></a><span class="sd">        Return True if the bugzilla instance supports passing</span>
</span><span id="Bugzilla-1059"><a href="#Bugzilla-1059"><span class="linenos">1059</span></a><span class="sd">        extra_fields to getbug</span>
</span><span id="Bugzilla-1060"><a href="#Bugzilla-1060"><span class="linenos">1060</span></a>
</span><span id="Bugzilla-1061"><a href="#Bugzilla-1061"><span class="linenos">1061</span></a><span class="sd">        As of Dec 2012 it seems like only RH bugzilla actually has behavior</span>
</span><span id="Bugzilla-1062"><a href="#Bugzilla-1062"><span class="linenos">1062</span></a><span class="sd">        like this, for upstream bz it returns all info for every Bug.get()</span>
</span><span id="Bugzilla-1063"><a href="#Bugzilla-1063"><span class="linenos">1063</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1064"><a href="#Bugzilla-1064"><span class="linenos">1064</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_redhat_bugzilla</span>
</span><span id="Bugzilla-1065"><a href="#Bugzilla-1065"><span class="linenos">1065</span></a>
</span><span id="Bugzilla-1066"><a href="#Bugzilla-1066"><span class="linenos">1066</span></a>
</span><span id="Bugzilla-1067"><a href="#Bugzilla-1067"><span class="linenos">1067</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_getbugs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idlist</span><span class="p">,</span> <span class="n">permissive</span><span class="p">,</span>
</span><span id="Bugzilla-1068"><a href="#Bugzilla-1068"><span class="linenos">1068</span></a>            <span class="n">include_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extra_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla-1069"><a href="#Bugzilla-1069"><span class="linenos">1069</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1070"><a href="#Bugzilla-1070"><span class="linenos">1070</span></a><span class="sd">        Return a list of dicts of full bug info for each given bug id.</span>
</span><span id="Bugzilla-1071"><a href="#Bugzilla-1071"><span class="linenos">1071</span></a><span class="sd">        bug ids that couldn&#39;t be found will return None instead of a dict.</span>
</span><span id="Bugzilla-1072"><a href="#Bugzilla-1072"><span class="linenos">1072</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1073"><a href="#Bugzilla-1073"><span class="linenos">1073</span></a>        <span class="n">ids</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Bugzilla-1074"><a href="#Bugzilla-1074"><span class="linenos">1074</span></a>        <span class="n">aliases</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Bugzilla-1075"><a href="#Bugzilla-1075"><span class="linenos">1075</span></a>
</span><span id="Bugzilla-1076"><a href="#Bugzilla-1076"><span class="linenos">1076</span></a>        <span class="k">def</span><span class="w"> </span><span class="nf">_alias_or_int</span><span class="p">(</span><span class="n">_v</span><span class="p">):</span>
</span><span id="Bugzilla-1077"><a href="#Bugzilla-1077"><span class="linenos">1077</span></a>            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">_v</span><span class="p">)</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
</span><span id="Bugzilla-1078"><a href="#Bugzilla-1078"><span class="linenos">1078</span></a>                <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">_v</span><span class="p">),</span> <span class="kc">None</span>
</span><span id="Bugzilla-1079"><a href="#Bugzilla-1079"><span class="linenos">1079</span></a>            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">_v</span><span class="p">)</span>
</span><span id="Bugzilla-1080"><a href="#Bugzilla-1080"><span class="linenos">1080</span></a>
</span><span id="Bugzilla-1081"><a href="#Bugzilla-1081"><span class="linenos">1081</span></a>        <span class="k">for</span> <span class="n">idstr</span> <span class="ow">in</span> <span class="n">idlist</span><span class="p">:</span>
</span><span id="Bugzilla-1082"><a href="#Bugzilla-1082"><span class="linenos">1082</span></a>            <span class="n">idint</span><span class="p">,</span> <span class="n">alias</span> <span class="o">=</span> <span class="n">_alias_or_int</span><span class="p">(</span><span class="n">idstr</span><span class="p">)</span>
</span><span id="Bugzilla-1083"><a href="#Bugzilla-1083"><span class="linenos">1083</span></a>            <span class="k">if</span> <span class="n">alias</span><span class="p">:</span>
</span><span id="Bugzilla-1084"><a href="#Bugzilla-1084"><span class="linenos">1084</span></a>                <span class="n">aliases</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>
</span><span id="Bugzilla-1085"><a href="#Bugzilla-1085"><span class="linenos">1085</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Bugzilla-1086"><a href="#Bugzilla-1086"><span class="linenos">1086</span></a>                <span class="n">ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">idstr</span><span class="p">)</span>
</span><span id="Bugzilla-1087"><a href="#Bugzilla-1087"><span class="linenos">1087</span></a>
</span><span id="Bugzilla-1088"><a href="#Bugzilla-1088"><span class="linenos">1088</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">include_fields</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">aliases</span>
</span><span id="Bugzilla-1089"><a href="#Bugzilla-1089"><span class="linenos">1089</span></a>                <span class="ow">and</span> <span class="s2">&quot;alias&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">include_fields</span><span class="p">):</span>
</span><span id="Bugzilla-1090"><a href="#Bugzilla-1090"><span class="linenos">1090</span></a>            <span class="c1"># Extra field to prevent sorting (see below) from causing an error</span>
</span><span id="Bugzilla-1091"><a href="#Bugzilla-1091"><span class="linenos">1091</span></a>            <span class="n">include_fields</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;alias&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-1092"><a href="#Bugzilla-1092"><span class="linenos">1092</span></a>
</span><span id="Bugzilla-1093"><a href="#Bugzilla-1093"><span class="linenos">1093</span></a>        <span class="n">extra_fields</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">extra_fields</span> <span class="ow">or</span> <span class="p">[])</span>
</span><span id="Bugzilla-1094"><a href="#Bugzilla-1094"><span class="linenos">1094</span></a>        <span class="n">extra_fields</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getbug_extra_fields</span><span class="p">()</span>
</span><span id="Bugzilla-1095"><a href="#Bugzilla-1095"><span class="linenos">1095</span></a>
</span><span id="Bugzilla-1096"><a href="#Bugzilla-1096"><span class="linenos">1096</span></a>        <span class="n">getbugdata</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla-1097"><a href="#Bugzilla-1097"><span class="linenos">1097</span></a>        <span class="k">if</span> <span class="n">permissive</span><span class="p">:</span>
</span><span id="Bugzilla-1098"><a href="#Bugzilla-1098"><span class="linenos">1098</span></a>            <span class="n">getbugdata</span><span class="p">[</span><span class="s2">&quot;permissive&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="Bugzilla-1099"><a href="#Bugzilla-1099"><span class="linenos">1099</span></a>
</span><span id="Bugzilla-1100"><a href="#Bugzilla-1100"><span class="linenos">1100</span></a>        <span class="n">getbugdata</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_process_include_fields</span><span class="p">(</span>
</span><span id="Bugzilla-1101"><a href="#Bugzilla-1101"><span class="linenos">1101</span></a>            <span class="n">include_fields</span><span class="p">,</span> <span class="n">exclude_fields</span><span class="p">,</span> <span class="n">extra_fields</span><span class="p">))</span>
</span><span id="Bugzilla-1102"><a href="#Bugzilla-1102"><span class="linenos">1102</span></a>
</span><span id="Bugzilla-1103"><a href="#Bugzilla-1103"><span class="linenos">1103</span></a>        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_get</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="n">aliases</span><span class="p">,</span> <span class="n">getbugdata</span><span class="p">)</span>
</span><span id="Bugzilla-1104"><a href="#Bugzilla-1104"><span class="linenos">1104</span></a>
</span><span id="Bugzilla-1105"><a href="#Bugzilla-1105"><span class="linenos">1105</span></a>        <span class="c1"># Do some wrangling to ensure we return bugs in the same order</span>
</span><span id="Bugzilla-1106"><a href="#Bugzilla-1106"><span class="linenos">1106</span></a>        <span class="c1"># the were passed in, for historical reasons</span>
</span><span id="Bugzilla-1107"><a href="#Bugzilla-1107"><span class="linenos">1107</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Bugzilla-1108"><a href="#Bugzilla-1108"><span class="linenos">1108</span></a>        <span class="k">for</span> <span class="n">idval</span> <span class="ow">in</span> <span class="n">idlist</span><span class="p">:</span>
</span><span id="Bugzilla-1109"><a href="#Bugzilla-1109"><span class="linenos">1109</span></a>            <span class="n">idint</span><span class="p">,</span> <span class="n">alias</span> <span class="o">=</span> <span class="n">_alias_or_int</span><span class="p">(</span><span class="n">idval</span><span class="p">)</span>
</span><span id="Bugzilla-1110"><a href="#Bugzilla-1110"><span class="linenos">1110</span></a>            <span class="k">for</span> <span class="n">bugdict</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s2">&quot;bugs&quot;</span><span class="p">]:</span>
</span><span id="Bugzilla-1111"><a href="#Bugzilla-1111"><span class="linenos">1111</span></a>                <span class="k">if</span> <span class="n">idint</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">idint</span> <span class="o">!=</span> <span class="n">bugdict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla-1112"><a href="#Bugzilla-1112"><span class="linenos">1112</span></a>                    <span class="k">continue</span>
</span><span id="Bugzilla-1113"><a href="#Bugzilla-1113"><span class="linenos">1113</span></a>                <span class="n">aliaslist</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">bugdict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;alias&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[])</span>
</span><span id="Bugzilla-1114"><a href="#Bugzilla-1114"><span class="linenos">1114</span></a>                <span class="k">if</span> <span class="n">alias</span> <span class="ow">and</span> <span class="n">alias</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">aliaslist</span><span class="p">:</span>
</span><span id="Bugzilla-1115"><a href="#Bugzilla-1115"><span class="linenos">1115</span></a>                    <span class="k">continue</span>
</span><span id="Bugzilla-1116"><a href="#Bugzilla-1116"><span class="linenos">1116</span></a>
</span><span id="Bugzilla-1117"><a href="#Bugzilla-1117"><span class="linenos">1117</span></a>                <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bugdict</span><span class="p">)</span>
</span><span id="Bugzilla-1118"><a href="#Bugzilla-1118"><span class="linenos">1118</span></a>                <span class="k">break</span>
</span><span id="Bugzilla-1119"><a href="#Bugzilla-1119"><span class="linenos">1119</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="Bugzilla-1120"><a href="#Bugzilla-1120"><span class="linenos">1120</span></a>
</span><span id="Bugzilla-1121"><a href="#Bugzilla-1121"><span class="linenos">1121</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_getbug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objid</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Bugzilla-1122"><a href="#Bugzilla-1122"><span class="linenos">1122</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1123"><a href="#Bugzilla-1123"><span class="linenos">1123</span></a><span class="sd">        Thin wrapper around _getbugs to handle the slight argument tweaks</span>
</span><span id="Bugzilla-1124"><a href="#Bugzilla-1124"><span class="linenos">1124</span></a><span class="sd">        for fetching a single bug. The main bit is permissive=False, which</span>
</span><span id="Bugzilla-1125"><a href="#Bugzilla-1125"><span class="linenos">1125</span></a><span class="sd">        will tell bugzilla to raise an explicit error if we can&#39;t fetch</span>
</span><span id="Bugzilla-1126"><a href="#Bugzilla-1126"><span class="linenos">1126</span></a><span class="sd">        that bug.</span>
</span><span id="Bugzilla-1127"><a href="#Bugzilla-1127"><span class="linenos">1127</span></a>
</span><span id="Bugzilla-1128"><a href="#Bugzilla-1128"><span class="linenos">1128</span></a><span class="sd">        This logic is called from Bug() too</span>
</span><span id="Bugzilla-1129"><a href="#Bugzilla-1129"><span class="linenos">1129</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1130"><a href="#Bugzilla-1130"><span class="linenos">1130</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getbugs</span><span class="p">([</span><span class="n">objid</span><span class="p">],</span> <span class="n">permissive</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Bugzilla-1131"><a href="#Bugzilla-1131"><span class="linenos">1131</span></a>
</span><span id="Bugzilla-1132"><a href="#Bugzilla-1132"><span class="linenos">1132</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getbug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objid</span><span class="p">,</span>
</span><span id="Bugzilla-1133"><a href="#Bugzilla-1133"><span class="linenos">1133</span></a>               <span class="n">include_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extra_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla-1134"><a href="#Bugzilla-1134"><span class="linenos">1134</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1135"><a href="#Bugzilla-1135"><span class="linenos">1135</span></a><span class="sd">        Return a Bug object with the full complement of bug data</span>
</span><span id="Bugzilla-1136"><a href="#Bugzilla-1136"><span class="linenos">1136</span></a><span class="sd">        already loaded.</span>
</span><span id="Bugzilla-1137"><a href="#Bugzilla-1137"><span class="linenos">1137</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1138"><a href="#Bugzilla-1138"><span class="linenos">1138</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getbug</span><span class="p">(</span><span class="n">objid</span><span class="p">,</span>
</span><span id="Bugzilla-1139"><a href="#Bugzilla-1139"><span class="linenos">1139</span></a>            <span class="n">include_fields</span><span class="o">=</span><span class="n">include_fields</span><span class="p">,</span> <span class="n">exclude_fields</span><span class="o">=</span><span class="n">exclude_fields</span><span class="p">,</span>
</span><span id="Bugzilla-1140"><a href="#Bugzilla-1140"><span class="linenos">1140</span></a>            <span class="n">extra_fields</span><span class="o">=</span><span class="n">extra_fields</span><span class="p">)</span>
</span><span id="Bugzilla-1141"><a href="#Bugzilla-1141"><span class="linenos">1141</span></a>        <span class="k">return</span> <span class="n">Bug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dict</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">autorefresh</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bug_autorefresh</span><span class="p">)</span>
</span><span id="Bugzilla-1142"><a href="#Bugzilla-1142"><span class="linenos">1142</span></a>
</span><span id="Bugzilla-1143"><a href="#Bugzilla-1143"><span class="linenos">1143</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getbugs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idlist</span><span class="p">,</span>
</span><span id="Bugzilla-1144"><a href="#Bugzilla-1144"><span class="linenos">1144</span></a>                <span class="n">include_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extra_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1145"><a href="#Bugzilla-1145"><span class="linenos">1145</span></a>                <span class="n">permissive</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="Bugzilla-1146"><a href="#Bugzilla-1146"><span class="linenos">1146</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1147"><a href="#Bugzilla-1147"><span class="linenos">1147</span></a><span class="sd">        Return a list of Bug objects with the full complement of bug data</span>
</span><span id="Bugzilla-1148"><a href="#Bugzilla-1148"><span class="linenos">1148</span></a><span class="sd">        already loaded. If there&#39;s a problem getting the data for a given id,</span>
</span><span id="Bugzilla-1149"><a href="#Bugzilla-1149"><span class="linenos">1149</span></a><span class="sd">        the corresponding item in the returned list will be None.</span>
</span><span id="Bugzilla-1150"><a href="#Bugzilla-1150"><span class="linenos">1150</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1151"><a href="#Bugzilla-1151"><span class="linenos">1151</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getbugs</span><span class="p">(</span><span class="n">idlist</span><span class="p">,</span> <span class="n">include_fields</span><span class="o">=</span><span class="n">include_fields</span><span class="p">,</span>
</span><span id="Bugzilla-1152"><a href="#Bugzilla-1152"><span class="linenos">1152</span></a>            <span class="n">exclude_fields</span><span class="o">=</span><span class="n">exclude_fields</span><span class="p">,</span> <span class="n">extra_fields</span><span class="o">=</span><span class="n">extra_fields</span><span class="p">,</span>
</span><span id="Bugzilla-1153"><a href="#Bugzilla-1153"><span class="linenos">1153</span></a>            <span class="n">permissive</span><span class="o">=</span><span class="n">permissive</span><span class="p">)</span>
</span><span id="Bugzilla-1154"><a href="#Bugzilla-1154"><span class="linenos">1154</span></a>        <span class="k">return</span> <span class="p">[(</span><span class="n">b</span> <span class="ow">and</span> <span class="n">Bug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dict</span><span class="o">=</span><span class="n">b</span><span class="p">,</span>
</span><span id="Bugzilla-1155"><a href="#Bugzilla-1155"><span class="linenos">1155</span></a>                           <span class="n">autorefresh</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bug_autorefresh</span><span class="p">))</span> <span class="ow">or</span> <span class="kc">None</span>
</span><span id="Bugzilla-1156"><a href="#Bugzilla-1156"><span class="linenos">1156</span></a>                <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>
</span><span id="Bugzilla-1157"><a href="#Bugzilla-1157"><span class="linenos">1157</span></a>
</span><span id="Bugzilla-1158"><a href="#Bugzilla-1158"><span class="linenos">1158</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_comments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idlist</span><span class="p">):</span>
</span><span id="Bugzilla-1159"><a href="#Bugzilla-1159"><span class="linenos">1159</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1160"><a href="#Bugzilla-1160"><span class="linenos">1160</span></a><span class="sd">        Returns a dictionary of bugs and comments.  The comments key will</span>
</span><span id="Bugzilla-1161"><a href="#Bugzilla-1161"><span class="linenos">1161</span></a><span class="sd">        be empty.  See bugzilla docs for details</span>
</span><span id="Bugzilla-1162"><a href="#Bugzilla-1162"><span class="linenos">1162</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1163"><a href="#Bugzilla-1163"><span class="linenos">1163</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_comments</span><span class="p">(</span><span class="n">idlist</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="Bugzilla-1164"><a href="#Bugzilla-1164"><span class="linenos">1164</span></a>
</span><span id="Bugzilla-1165"><a href="#Bugzilla-1165"><span class="linenos">1165</span></a>
</span><span id="Bugzilla-1166"><a href="#Bugzilla-1166"><span class="linenos">1166</span></a>    <span class="c1">#################</span>
</span><span id="Bugzilla-1167"><a href="#Bugzilla-1167"><span class="linenos">1167</span></a>    <span class="c1"># query methods #</span>
</span><span id="Bugzilla-1168"><a href="#Bugzilla-1168"><span class="linenos">1168</span></a>    <span class="c1">#################</span>
</span><span id="Bugzilla-1169"><a href="#Bugzilla-1169"><span class="linenos">1169</span></a>
</span><span id="Bugzilla-1170"><a href="#Bugzilla-1170"><span class="linenos">1170</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">build_query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
</span><span id="Bugzilla-1171"><a href="#Bugzilla-1171"><span class="linenos">1171</span></a>                    <span class="n">product</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1172"><a href="#Bugzilla-1172"><span class="linenos">1172</span></a>                    <span class="n">component</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1173"><a href="#Bugzilla-1173"><span class="linenos">1173</span></a>                    <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1174"><a href="#Bugzilla-1174"><span class="linenos">1174</span></a>                    <span class="n">long_desc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1175"><a href="#Bugzilla-1175"><span class="linenos">1175</span></a>                    <span class="n">bug_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1176"><a href="#Bugzilla-1176"><span class="linenos">1176</span></a>                    <span class="n">short_desc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1177"><a href="#Bugzilla-1177"><span class="linenos">1177</span></a>                    <span class="n">cc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1178"><a href="#Bugzilla-1178"><span class="linenos">1178</span></a>                    <span class="n">assigned_to</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1179"><a href="#Bugzilla-1179"><span class="linenos">1179</span></a>                    <span class="n">reporter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1180"><a href="#Bugzilla-1180"><span class="linenos">1180</span></a>                    <span class="n">qa_contact</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1181"><a href="#Bugzilla-1181"><span class="linenos">1181</span></a>                    <span class="n">status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1182"><a href="#Bugzilla-1182"><span class="linenos">1182</span></a>                    <span class="n">blocked</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1183"><a href="#Bugzilla-1183"><span class="linenos">1183</span></a>                    <span class="n">dependson</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1184"><a href="#Bugzilla-1184"><span class="linenos">1184</span></a>                    <span class="n">keywords</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1185"><a href="#Bugzilla-1185"><span class="linenos">1185</span></a>                    <span class="n">keywords_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1186"><a href="#Bugzilla-1186"><span class="linenos">1186</span></a>                    <span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1187"><a href="#Bugzilla-1187"><span class="linenos">1187</span></a>                    <span class="n">url_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1188"><a href="#Bugzilla-1188"><span class="linenos">1188</span></a>                    <span class="n">status_whiteboard</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1189"><a href="#Bugzilla-1189"><span class="linenos">1189</span></a>                    <span class="n">status_whiteboard_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1190"><a href="#Bugzilla-1190"><span class="linenos">1190</span></a>                    <span class="n">fixed_in</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1191"><a href="#Bugzilla-1191"><span class="linenos">1191</span></a>                    <span class="n">fixed_in_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1192"><a href="#Bugzilla-1192"><span class="linenos">1192</span></a>                    <span class="n">flag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1193"><a href="#Bugzilla-1193"><span class="linenos">1193</span></a>                    <span class="n">alias</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1194"><a href="#Bugzilla-1194"><span class="linenos">1194</span></a>                    <span class="n">qa_whiteboard</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1195"><a href="#Bugzilla-1195"><span class="linenos">1195</span></a>                    <span class="n">devel_whiteboard</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1196"><a href="#Bugzilla-1196"><span class="linenos">1196</span></a>                    <span class="n">bug_severity</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1197"><a href="#Bugzilla-1197"><span class="linenos">1197</span></a>                    <span class="n">priority</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1198"><a href="#Bugzilla-1198"><span class="linenos">1198</span></a>                    <span class="n">target_release</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1199"><a href="#Bugzilla-1199"><span class="linenos">1199</span></a>                    <span class="n">target_milestone</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1200"><a href="#Bugzilla-1200"><span class="linenos">1200</span></a>                    <span class="n">emailtype</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1201"><a href="#Bugzilla-1201"><span class="linenos">1201</span></a>                    <span class="n">include_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1202"><a href="#Bugzilla-1202"><span class="linenos">1202</span></a>                    <span class="n">quicksearch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1203"><a href="#Bugzilla-1203"><span class="linenos">1203</span></a>                    <span class="n">savedsearch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1204"><a href="#Bugzilla-1204"><span class="linenos">1204</span></a>                    <span class="n">savedsearch_sharer_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1205"><a href="#Bugzilla-1205"><span class="linenos">1205</span></a>                    <span class="n">sub_component</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1206"><a href="#Bugzilla-1206"><span class="linenos">1206</span></a>                    <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1207"><a href="#Bugzilla-1207"><span class="linenos">1207</span></a>                    <span class="n">exclude_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1208"><a href="#Bugzilla-1208"><span class="linenos">1208</span></a>                    <span class="n">extra_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1209"><a href="#Bugzilla-1209"><span class="linenos">1209</span></a>                    <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1210"><a href="#Bugzilla-1210"><span class="linenos">1210</span></a>                    <span class="n">resolution</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla-1211"><a href="#Bugzilla-1211"><span class="linenos">1211</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1212"><a href="#Bugzilla-1212"><span class="linenos">1212</span></a><span class="sd">        Build a query string from passed arguments. Will handle</span>
</span><span id="Bugzilla-1213"><a href="#Bugzilla-1213"><span class="linenos">1213</span></a><span class="sd">        query parameter differences between various bugzilla versions.</span>
</span><span id="Bugzilla-1214"><a href="#Bugzilla-1214"><span class="linenos">1214</span></a>
</span><span id="Bugzilla-1215"><a href="#Bugzilla-1215"><span class="linenos">1215</span></a><span class="sd">        Most of the parameters should be self-explanatory. However,</span>
</span><span id="Bugzilla-1216"><a href="#Bugzilla-1216"><span class="linenos">1216</span></a><span class="sd">        if you want to perform a complex query, and easy way is to</span>
</span><span id="Bugzilla-1217"><a href="#Bugzilla-1217"><span class="linenos">1217</span></a><span class="sd">        create it with the bugzilla web UI, copy the entire URL it</span>
</span><span id="Bugzilla-1218"><a href="#Bugzilla-1218"><span class="linenos">1218</span></a><span class="sd">        generates, and pass it to the static method</span>
</span><span id="Bugzilla-1219"><a href="#Bugzilla-1219"><span class="linenos">1219</span></a>
</span><span id="Bugzilla-1220"><a href="#Bugzilla-1220"><span class="linenos">1220</span></a><span class="sd">        Bugzilla.url_to_query</span>
</span><span id="Bugzilla-1221"><a href="#Bugzilla-1221"><span class="linenos">1221</span></a>
</span><span id="Bugzilla-1222"><a href="#Bugzilla-1222"><span class="linenos">1222</span></a><span class="sd">        Then pass the output to Bugzilla.query()</span>
</span><span id="Bugzilla-1223"><a href="#Bugzilla-1223"><span class="linenos">1223</span></a>
</span><span id="Bugzilla-1224"><a href="#Bugzilla-1224"><span class="linenos">1224</span></a><span class="sd">        For details about the specific argument formats, see the bugzilla docs:</span>
</span><span id="Bugzilla-1225"><a href="#Bugzilla-1225"><span class="linenos">1225</span></a><span class="sd">        https://bugzilla.readthedocs.io/en/latest/api/core/v1/bug.html#search-bugs</span>
</span><span id="Bugzilla-1226"><a href="#Bugzilla-1226"><span class="linenos">1226</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1227"><a href="#Bugzilla-1227"><span class="linenos">1227</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Bugzilla-1228"><a href="#Bugzilla-1228"><span class="linenos">1228</span></a>            <span class="s2">&quot;alias&quot;</span><span class="p">:</span> <span class="n">alias</span><span class="p">,</span>
</span><span id="Bugzilla-1229"><a href="#Bugzilla-1229"><span class="linenos">1229</span></a>            <span class="s2">&quot;product&quot;</span><span class="p">:</span> <span class="n">listify</span><span class="p">(</span><span class="n">product</span><span class="p">),</span>
</span><span id="Bugzilla-1230"><a href="#Bugzilla-1230"><span class="linenos">1230</span></a>            <span class="s2">&quot;component&quot;</span><span class="p">:</span> <span class="n">listify</span><span class="p">(</span><span class="n">component</span><span class="p">),</span>
</span><span id="Bugzilla-1231"><a href="#Bugzilla-1231"><span class="linenos">1231</span></a>            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="n">version</span><span class="p">,</span>
</span><span id="Bugzilla-1232"><a href="#Bugzilla-1232"><span class="linenos">1232</span></a>            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">bug_id</span><span class="p">,</span>
</span><span id="Bugzilla-1233"><a href="#Bugzilla-1233"><span class="linenos">1233</span></a>            <span class="s2">&quot;short_desc&quot;</span><span class="p">:</span> <span class="n">short_desc</span><span class="p">,</span>
</span><span id="Bugzilla-1234"><a href="#Bugzilla-1234"><span class="linenos">1234</span></a>            <span class="s2">&quot;bug_status&quot;</span><span class="p">:</span> <span class="n">status</span><span class="p">,</span>
</span><span id="Bugzilla-1235"><a href="#Bugzilla-1235"><span class="linenos">1235</span></a>            <span class="s2">&quot;bug_severity&quot;</span><span class="p">:</span> <span class="n">bug_severity</span><span class="p">,</span>
</span><span id="Bugzilla-1236"><a href="#Bugzilla-1236"><span class="linenos">1236</span></a>            <span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="n">priority</span><span class="p">,</span>
</span><span id="Bugzilla-1237"><a href="#Bugzilla-1237"><span class="linenos">1237</span></a>            <span class="s2">&quot;target_release&quot;</span><span class="p">:</span> <span class="n">target_release</span><span class="p">,</span>
</span><span id="Bugzilla-1238"><a href="#Bugzilla-1238"><span class="linenos">1238</span></a>            <span class="s2">&quot;target_milestone&quot;</span><span class="p">:</span> <span class="n">target_milestone</span><span class="p">,</span>
</span><span id="Bugzilla-1239"><a href="#Bugzilla-1239"><span class="linenos">1239</span></a>            <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="n">listify</span><span class="p">(</span><span class="n">tags</span><span class="p">),</span>
</span><span id="Bugzilla-1240"><a href="#Bugzilla-1240"><span class="linenos">1240</span></a>            <span class="s2">&quot;quicksearch&quot;</span><span class="p">:</span> <span class="n">quicksearch</span><span class="p">,</span>
</span><span id="Bugzilla-1241"><a href="#Bugzilla-1241"><span class="linenos">1241</span></a>            <span class="s2">&quot;savedsearch&quot;</span><span class="p">:</span> <span class="n">savedsearch</span><span class="p">,</span>
</span><span id="Bugzilla-1242"><a href="#Bugzilla-1242"><span class="linenos">1242</span></a>            <span class="s2">&quot;sharer_id&quot;</span><span class="p">:</span> <span class="n">savedsearch_sharer_id</span><span class="p">,</span>
</span><span id="Bugzilla-1243"><a href="#Bugzilla-1243"><span class="linenos">1243</span></a>            <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span>
</span><span id="Bugzilla-1244"><a href="#Bugzilla-1244"><span class="linenos">1244</span></a>            <span class="s2">&quot;resolution&quot;</span><span class="p">:</span> <span class="n">resolution</span><span class="p">,</span>
</span><span id="Bugzilla-1245"><a href="#Bugzilla-1245"><span class="linenos">1245</span></a>
</span><span id="Bugzilla-1246"><a href="#Bugzilla-1246"><span class="linenos">1246</span></a>            <span class="c1"># RH extensions... don&#39;t add any more. See comment below</span>
</span><span id="Bugzilla-1247"><a href="#Bugzilla-1247"><span class="linenos">1247</span></a>            <span class="s2">&quot;sub_components&quot;</span><span class="p">:</span> <span class="n">listify</span><span class="p">(</span><span class="n">sub_component</span><span class="p">),</span>
</span><span id="Bugzilla-1248"><a href="#Bugzilla-1248"><span class="linenos">1248</span></a>        <span class="p">}</span>
</span><span id="Bugzilla-1249"><a href="#Bugzilla-1249"><span class="linenos">1249</span></a>
</span><span id="Bugzilla-1250"><a href="#Bugzilla-1250"><span class="linenos">1250</span></a>        <span class="k">def</span><span class="w"> </span><span class="nf">add_bool</span><span class="p">(</span><span class="n">bzkey</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">,</span> <span class="n">booltype</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla-1251"><a href="#Bugzilla-1251"><span class="linenos">1251</span></a>            <span class="n">value</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="Bugzilla-1252"><a href="#Bugzilla-1252"><span class="linenos">1252</span></a>            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-1253"><a href="#Bugzilla-1253"><span class="linenos">1253</span></a>                <span class="k">return</span> <span class="n">bool_id</span>
</span><span id="Bugzilla-1254"><a href="#Bugzilla-1254"><span class="linenos">1254</span></a>
</span><span id="Bugzilla-1255"><a href="#Bugzilla-1255"><span class="linenos">1255</span></a>            <span class="n">query</span><span class="p">[</span><span class="s2">&quot;query_format&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;advanced&quot;</span>
</span><span id="Bugzilla-1256"><a href="#Bugzilla-1256"><span class="linenos">1256</span></a>            <span class="k">for</span> <span class="n">boolval</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
</span><span id="Bugzilla-1257"><a href="#Bugzilla-1257"><span class="linenos">1257</span></a>                <span class="k">def</span><span class="w"> </span><span class="nf">make_bool_str</span><span class="p">(</span><span class="n">prefix</span><span class="p">):</span>
</span><span id="Bugzilla-1258"><a href="#Bugzilla-1258"><span class="linenos">1258</span></a>                    <span class="c1"># pylint: disable=cell-var-from-loop</span>
</span><span id="Bugzilla-1259"><a href="#Bugzilla-1259"><span class="linenos">1259</span></a>                    <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s%i</span><span class="s2">-0-0&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">)</span>
</span><span id="Bugzilla-1260"><a href="#Bugzilla-1260"><span class="linenos">1260</span></a>
</span><span id="Bugzilla-1261"><a href="#Bugzilla-1261"><span class="linenos">1261</span></a>                <span class="n">query</span><span class="p">[</span><span class="n">make_bool_str</span><span class="p">(</span><span class="s2">&quot;field&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">bzkey</span>
</span><span id="Bugzilla-1262"><a href="#Bugzilla-1262"><span class="linenos">1262</span></a>                <span class="n">query</span><span class="p">[</span><span class="n">make_bool_str</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">boolval</span>
</span><span id="Bugzilla-1263"><a href="#Bugzilla-1263"><span class="linenos">1263</span></a>                <span class="n">query</span><span class="p">[</span><span class="n">make_bool_str</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">booltype</span> <span class="ow">or</span> <span class="s2">&quot;substring&quot;</span>
</span><span id="Bugzilla-1264"><a href="#Bugzilla-1264"><span class="linenos">1264</span></a>
</span><span id="Bugzilla-1265"><a href="#Bugzilla-1265"><span class="linenos">1265</span></a>                <span class="n">bool_id</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="Bugzilla-1266"><a href="#Bugzilla-1266"><span class="linenos">1266</span></a>            <span class="k">return</span> <span class="n">bool_id</span>
</span><span id="Bugzilla-1267"><a href="#Bugzilla-1267"><span class="linenos">1267</span></a>
</span><span id="Bugzilla-1268"><a href="#Bugzilla-1268"><span class="linenos">1268</span></a>        <span class="c1"># RH extensions that we have to maintain here for back compat,</span>
</span><span id="Bugzilla-1269"><a href="#Bugzilla-1269"><span class="linenos">1269</span></a>        <span class="c1"># but all future custom fields should be specified via</span>
</span><span id="Bugzilla-1270"><a href="#Bugzilla-1270"><span class="linenos">1270</span></a>        <span class="c1"># cli --field option, or via extending the query dict() manually.</span>
</span><span id="Bugzilla-1271"><a href="#Bugzilla-1271"><span class="linenos">1271</span></a>        <span class="c1"># No more supporting custom fields in this API</span>
</span><span id="Bugzilla-1272"><a href="#Bugzilla-1272"><span class="linenos">1272</span></a>        <span class="n">bool_id</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Bugzilla-1273"><a href="#Bugzilla-1273"><span class="linenos">1273</span></a>        <span class="n">bool_id</span> <span class="o">=</span> <span class="n">add_bool</span><span class="p">(</span><span class="s2">&quot;keywords&quot;</span><span class="p">,</span> <span class="n">keywords</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">,</span> <span class="n">keywords_type</span><span class="p">)</span>
</span><span id="Bugzilla-1274"><a href="#Bugzilla-1274"><span class="linenos">1274</span></a>        <span class="n">bool_id</span> <span class="o">=</span> <span class="n">add_bool</span><span class="p">(</span><span class="s2">&quot;blocked&quot;</span><span class="p">,</span> <span class="n">blocked</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">)</span>
</span><span id="Bugzilla-1275"><a href="#Bugzilla-1275"><span class="linenos">1275</span></a>        <span class="n">bool_id</span> <span class="o">=</span> <span class="n">add_bool</span><span class="p">(</span><span class="s2">&quot;dependson&quot;</span><span class="p">,</span> <span class="n">dependson</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">)</span>
</span><span id="Bugzilla-1276"><a href="#Bugzilla-1276"><span class="linenos">1276</span></a>        <span class="n">bool_id</span> <span class="o">=</span> <span class="n">add_bool</span><span class="p">(</span><span class="s2">&quot;bug_file_loc&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">,</span> <span class="n">url_type</span><span class="p">)</span>
</span><span id="Bugzilla-1277"><a href="#Bugzilla-1277"><span class="linenos">1277</span></a>        <span class="n">bool_id</span> <span class="o">=</span> <span class="n">add_bool</span><span class="p">(</span><span class="s2">&quot;cf_fixed_in&quot;</span><span class="p">,</span> <span class="n">fixed_in</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">,</span> <span class="n">fixed_in_type</span><span class="p">)</span>
</span><span id="Bugzilla-1278"><a href="#Bugzilla-1278"><span class="linenos">1278</span></a>        <span class="n">bool_id</span> <span class="o">=</span> <span class="n">add_bool</span><span class="p">(</span><span class="s2">&quot;flagtypes.name&quot;</span><span class="p">,</span> <span class="n">flag</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">)</span>
</span><span id="Bugzilla-1279"><a href="#Bugzilla-1279"><span class="linenos">1279</span></a>        <span class="n">bool_id</span> <span class="o">=</span> <span class="n">add_bool</span><span class="p">(</span><span class="s2">&quot;status_whiteboard&quot;</span><span class="p">,</span>
</span><span id="Bugzilla-1280"><a href="#Bugzilla-1280"><span class="linenos">1280</span></a>                           <span class="n">status_whiteboard</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">,</span> <span class="n">status_whiteboard_type</span><span class="p">)</span>
</span><span id="Bugzilla-1281"><a href="#Bugzilla-1281"><span class="linenos">1281</span></a>        <span class="n">bool_id</span> <span class="o">=</span> <span class="n">add_bool</span><span class="p">(</span><span class="s2">&quot;cf_qa_whiteboard&quot;</span><span class="p">,</span> <span class="n">qa_whiteboard</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">)</span>
</span><span id="Bugzilla-1282"><a href="#Bugzilla-1282"><span class="linenos">1282</span></a>        <span class="n">bool_id</span> <span class="o">=</span> <span class="n">add_bool</span><span class="p">(</span><span class="s2">&quot;cf_devel_whiteboard&quot;</span><span class="p">,</span> <span class="n">devel_whiteboard</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">)</span>
</span><span id="Bugzilla-1283"><a href="#Bugzilla-1283"><span class="linenos">1283</span></a>
</span><span id="Bugzilla-1284"><a href="#Bugzilla-1284"><span class="linenos">1284</span></a>        <span class="k">def</span><span class="w"> </span><span class="nf">add_email</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="Bugzilla-1285"><a href="#Bugzilla-1285"><span class="linenos">1285</span></a>            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-1286"><a href="#Bugzilla-1286"><span class="linenos">1286</span></a>                <span class="k">return</span> <span class="n">count</span>
</span><span id="Bugzilla-1287"><a href="#Bugzilla-1287"><span class="linenos">1287</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">emailtype</span><span class="p">:</span>
</span><span id="Bugzilla-1288"><a href="#Bugzilla-1288"><span class="linenos">1288</span></a>                <span class="n">query</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Bugzilla-1289"><a href="#Bugzilla-1289"><span class="linenos">1289</span></a>                <span class="k">return</span> <span class="n">count</span>
</span><span id="Bugzilla-1290"><a href="#Bugzilla-1290"><span class="linenos">1290</span></a>
</span><span id="Bugzilla-1291"><a href="#Bugzilla-1291"><span class="linenos">1291</span></a>            <span class="n">query</span><span class="p">[</span><span class="s2">&quot;query_format&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;advanced&quot;</span>
</span><span id="Bugzilla-1292"><a href="#Bugzilla-1292"><span class="linenos">1292</span></a>            <span class="n">query</span><span class="p">[</span><span class="s1">&#39;email</span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">count</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Bugzilla-1293"><a href="#Bugzilla-1293"><span class="linenos">1293</span></a>            <span class="n">query</span><span class="p">[</span><span class="s1">&#39;email</span><span class="si">%s%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">count</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Bugzilla-1294"><a href="#Bugzilla-1294"><span class="linenos">1294</span></a>            <span class="n">query</span><span class="p">[</span><span class="s1">&#39;emailtype</span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">count</span><span class="p">]</span> <span class="o">=</span> <span class="n">emailtype</span>
</span><span id="Bugzilla-1295"><a href="#Bugzilla-1295"><span class="linenos">1295</span></a>            <span class="k">return</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="Bugzilla-1296"><a href="#Bugzilla-1296"><span class="linenos">1296</span></a>
</span><span id="Bugzilla-1297"><a href="#Bugzilla-1297"><span class="linenos">1297</span></a>        <span class="n">email_count</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="Bugzilla-1298"><a href="#Bugzilla-1298"><span class="linenos">1298</span></a>        <span class="n">email_count</span> <span class="o">=</span> <span class="n">add_email</span><span class="p">(</span><span class="s2">&quot;cc&quot;</span><span class="p">,</span> <span class="n">cc</span><span class="p">,</span> <span class="n">email_count</span><span class="p">)</span>
</span><span id="Bugzilla-1299"><a href="#Bugzilla-1299"><span class="linenos">1299</span></a>        <span class="n">email_count</span> <span class="o">=</span> <span class="n">add_email</span><span class="p">(</span><span class="s2">&quot;assigned_to&quot;</span><span class="p">,</span> <span class="n">assigned_to</span><span class="p">,</span> <span class="n">email_count</span><span class="p">)</span>
</span><span id="Bugzilla-1300"><a href="#Bugzilla-1300"><span class="linenos">1300</span></a>        <span class="n">email_count</span> <span class="o">=</span> <span class="n">add_email</span><span class="p">(</span><span class="s2">&quot;reporter&quot;</span><span class="p">,</span> <span class="n">reporter</span><span class="p">,</span> <span class="n">email_count</span><span class="p">)</span>
</span><span id="Bugzilla-1301"><a href="#Bugzilla-1301"><span class="linenos">1301</span></a>        <span class="n">email_count</span> <span class="o">=</span> <span class="n">add_email</span><span class="p">(</span><span class="s2">&quot;qa_contact&quot;</span><span class="p">,</span> <span class="n">qa_contact</span><span class="p">,</span> <span class="n">email_count</span><span class="p">)</span>
</span><span id="Bugzilla-1302"><a href="#Bugzilla-1302"><span class="linenos">1302</span></a>
</span><span id="Bugzilla-1303"><a href="#Bugzilla-1303"><span class="linenos">1303</span></a>        <span class="k">if</span> <span class="n">long_desc</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-1304"><a href="#Bugzilla-1304"><span class="linenos">1304</span></a>            <span class="n">query</span><span class="p">[</span><span class="s2">&quot;query_format&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;advanced&quot;</span>
</span><span id="Bugzilla-1305"><a href="#Bugzilla-1305"><span class="linenos">1305</span></a>            <span class="n">query</span><span class="p">[</span><span class="s2">&quot;longdesc&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">long_desc</span>
</span><span id="Bugzilla-1306"><a href="#Bugzilla-1306"><span class="linenos">1306</span></a>            <span class="n">query</span><span class="p">[</span><span class="s2">&quot;longdesc_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;allwordssubstr&quot;</span>
</span><span id="Bugzilla-1307"><a href="#Bugzilla-1307"><span class="linenos">1307</span></a>
</span><span id="Bugzilla-1308"><a href="#Bugzilla-1308"><span class="linenos">1308</span></a>        <span class="c1"># &#39;include_fields&#39; only available for Bugzilla4+</span>
</span><span id="Bugzilla-1309"><a href="#Bugzilla-1309"><span class="linenos">1309</span></a>        <span class="c1"># &#39;extra_fields&#39; is an RHBZ extension</span>
</span><span id="Bugzilla-1310"><a href="#Bugzilla-1310"><span class="linenos">1310</span></a>        <span class="n">query</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_process_include_fields</span><span class="p">(</span>
</span><span id="Bugzilla-1311"><a href="#Bugzilla-1311"><span class="linenos">1311</span></a>            <span class="n">include_fields</span><span class="p">,</span> <span class="n">exclude_fields</span><span class="p">,</span> <span class="n">extra_fields</span><span class="p">))</span>
</span><span id="Bugzilla-1312"><a href="#Bugzilla-1312"><span class="linenos">1312</span></a>
</span><span id="Bugzilla-1313"><a href="#Bugzilla-1313"><span class="linenos">1313</span></a>        <span class="c1"># Strip out None elements in the dict</span>
</span><span id="Bugzilla-1314"><a href="#Bugzilla-1314"><span class="linenos">1314</span></a>        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">query</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Bugzilla-1315"><a href="#Bugzilla-1315"><span class="linenos">1315</span></a>            <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-1316"><a href="#Bugzilla-1316"><span class="linenos">1316</span></a>                <span class="k">del</span> <span class="n">query</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
</span><span id="Bugzilla-1317"><a href="#Bugzilla-1317"><span class="linenos">1317</span></a>
</span><span id="Bugzilla-1318"><a href="#Bugzilla-1318"><span class="linenos">1318</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pre_translation</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</span><span id="Bugzilla-1319"><a href="#Bugzilla-1319"><span class="linenos">1319</span></a>        <span class="k">return</span> <span class="n">query</span>
</span><span id="Bugzilla-1320"><a href="#Bugzilla-1320"><span class="linenos">1320</span></a>
</span><span id="Bugzilla-1321"><a href="#Bugzilla-1321"><span class="linenos">1321</span></a>
</span><span id="Bugzilla-1322"><a href="#Bugzilla-1322"><span class="linenos">1322</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">query_return_extra</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">):</span>
</span><span id="Bugzilla-1323"><a href="#Bugzilla-1323"><span class="linenos">1323</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1324"><a href="#Bugzilla-1324"><span class="linenos">1324</span></a><span class="sd">        Same as `query()`, but the return value is altered to be</span>
</span><span id="Bugzilla-1325"><a href="#Bugzilla-1325"><span class="linenos">1325</span></a><span class="sd">        (buglist, values), where `values` is raw dictionary output from</span>
</span><span id="Bugzilla-1326"><a href="#Bugzilla-1326"><span class="linenos">1326</span></a><span class="sd">        the API call, excluding the bug content. For example this may</span>
</span><span id="Bugzilla-1327"><a href="#Bugzilla-1327"><span class="linenos">1327</span></a><span class="sd">        include a `limit` value if the bugzilla instance puts an implied</span>
</span><span id="Bugzilla-1328"><a href="#Bugzilla-1328"><span class="linenos">1328</span></a><span class="sd">        limit on returned result numbers.</span>
</span><span id="Bugzilla-1329"><a href="#Bugzilla-1329"><span class="linenos">1329</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1330"><a href="#Bugzilla-1330"><span class="linenos">1330</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Bugzilla-1331"><a href="#Bugzilla-1331"><span class="linenos">1331</span></a>            <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_search</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</span><span id="Bugzilla-1332"><a href="#Bugzilla-1332"><span class="linenos">1332</span></a>            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;bug_search returned:</span><span class="se">\n</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">))</span>
</span><span id="Bugzilla-1333"><a href="#Bugzilla-1333"><span class="linenos">1333</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="Bugzilla-1334"><a href="#Bugzilla-1334"><span class="linenos">1334</span></a>            <span class="c1"># Try to give a hint in the error message if url_to_query</span>
</span><span id="Bugzilla-1335"><a href="#Bugzilla-1335"><span class="linenos">1335</span></a>            <span class="c1"># isn&#39;t supported by this bugzilla instance</span>
</span><span id="Bugzilla-1336"><a href="#Bugzilla-1336"><span class="linenos">1336</span></a>            <span class="k">if</span> <span class="p">(</span><span class="s2">&quot;query_format&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="ow">or</span>
</span><span id="Bugzilla-1337"><a href="#Bugzilla-1337"><span class="linenos">1337</span></a>                <span class="ow">not</span> <span class="n">BugzillaError</span><span class="o">.</span><span class="n">get_bugzilla_error_code</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="ow">or</span>
</span><span id="Bugzilla-1338"><a href="#Bugzilla-1338"><span class="linenos">1338</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_get_version</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mf">5.0</span><span class="p">):</span>
</span><span id="Bugzilla-1339"><a href="#Bugzilla-1339"><span class="linenos">1339</span></a>                <span class="k">raise</span>
</span><span id="Bugzilla-1340"><a href="#Bugzilla-1340"><span class="linenos">1340</span></a>            <span class="k">raise</span> <span class="n">BugzillaError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s2">Your bugzilla instance does not &quot;</span>
</span><span id="Bugzilla-1341"><a href="#Bugzilla-1341"><span class="linenos">1341</span></a>                <span class="s2">&quot;appear to support API queries derived from bugzilla &quot;</span>
</span><span id="Bugzilla-1342"><a href="#Bugzilla-1342"><span class="linenos">1342</span></a>                <span class="s2">&quot;web URL queries.&quot;</span> <span class="o">%</span> <span class="n">e</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="kc">None</span>
</span><span id="Bugzilla-1343"><a href="#Bugzilla-1343"><span class="linenos">1343</span></a>
</span><span id="Bugzilla-1344"><a href="#Bugzilla-1344"><span class="linenos">1344</span></a>        <span class="n">rawbugs</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;bugs&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-1345"><a href="#Bugzilla-1345"><span class="linenos">1345</span></a>        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Query returned </span><span class="si">%s</span><span class="s2"> bugs&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">rawbugs</span><span class="p">))</span>
</span><span id="Bugzilla-1346"><a href="#Bugzilla-1346"><span class="linenos">1346</span></a>        <span class="n">bugs</span> <span class="o">=</span> <span class="p">[</span><span class="n">Bug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dict</span><span class="o">=</span><span class="n">b</span><span class="p">,</span>
</span><span id="Bugzilla-1347"><a href="#Bugzilla-1347"><span class="linenos">1347</span></a>                <span class="n">autorefresh</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bug_autorefresh</span><span class="p">)</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">rawbugs</span><span class="p">]</span>
</span><span id="Bugzilla-1348"><a href="#Bugzilla-1348"><span class="linenos">1348</span></a>
</span><span id="Bugzilla-1349"><a href="#Bugzilla-1349"><span class="linenos">1349</span></a>        <span class="k">return</span> <span class="n">bugs</span><span class="p">,</span> <span class="n">r</span>
</span><span id="Bugzilla-1350"><a href="#Bugzilla-1350"><span class="linenos">1350</span></a>
</span><span id="Bugzilla-1351"><a href="#Bugzilla-1351"><span class="linenos">1351</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">):</span>
</span><span id="Bugzilla-1352"><a href="#Bugzilla-1352"><span class="linenos">1352</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1353"><a href="#Bugzilla-1353"><span class="linenos">1353</span></a><span class="sd">        Pass search terms to bugzilla and and return a list of matching</span>
</span><span id="Bugzilla-1354"><a href="#Bugzilla-1354"><span class="linenos">1354</span></a><span class="sd">        Bug objects.</span>
</span><span id="Bugzilla-1355"><a href="#Bugzilla-1355"><span class="linenos">1355</span></a>
</span><span id="Bugzilla-1356"><a href="#Bugzilla-1356"><span class="linenos">1356</span></a><span class="sd">        See `build_query` for more details about constructing the</span>
</span><span id="Bugzilla-1357"><a href="#Bugzilla-1357"><span class="linenos">1357</span></a><span class="sd">        `query` dict parameter.</span>
</span><span id="Bugzilla-1358"><a href="#Bugzilla-1358"><span class="linenos">1358</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1359"><a href="#Bugzilla-1359"><span class="linenos">1359</span></a>        <span class="n">bugs</span><span class="p">,</span> <span class="n">dummy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query_return_extra</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</span><span id="Bugzilla-1360"><a href="#Bugzilla-1360"><span class="linenos">1360</span></a>        <span class="k">return</span> <span class="n">bugs</span>
</span><span id="Bugzilla-1361"><a href="#Bugzilla-1361"><span class="linenos">1361</span></a>
</span><span id="Bugzilla-1362"><a href="#Bugzilla-1362"><span class="linenos">1362</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">pre_translation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">):</span>
</span><span id="Bugzilla-1363"><a href="#Bugzilla-1363"><span class="linenos">1363</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1364"><a href="#Bugzilla-1364"><span class="linenos">1364</span></a><span class="sd">        In order to keep the API the same, Bugzilla4 needs to process the</span>
</span><span id="Bugzilla-1365"><a href="#Bugzilla-1365"><span class="linenos">1365</span></a><span class="sd">        query and the result. This also applies to the refresh() function</span>
</span><span id="Bugzilla-1366"><a href="#Bugzilla-1366"><span class="linenos">1366</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1367"><a href="#Bugzilla-1367"><span class="linenos">1367</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_redhat_bugzilla</span><span class="p">:</span>
</span><span id="Bugzilla-1368"><a href="#Bugzilla-1368"><span class="linenos">1368</span></a>            <span class="n">_RHBugzillaConverters</span><span class="o">.</span><span class="n">pre_translation</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</span><span id="Bugzilla-1369"><a href="#Bugzilla-1369"><span class="linenos">1369</span></a>            <span class="n">query</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_process_include_fields</span><span class="p">(</span>
</span><span id="Bugzilla-1370"><a href="#Bugzilla-1370"><span class="linenos">1370</span></a>                <span class="n">query</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_fields&quot;</span><span class="p">,</span> <span class="p">[]),</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
</span><span id="Bugzilla-1371"><a href="#Bugzilla-1371"><span class="linenos">1371</span></a>
</span><span id="Bugzilla-1372"><a href="#Bugzilla-1372"><span class="linenos">1372</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">post_translation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">bug</span><span class="p">):</span>
</span><span id="Bugzilla-1373"><a href="#Bugzilla-1373"><span class="linenos">1373</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1374"><a href="#Bugzilla-1374"><span class="linenos">1374</span></a><span class="sd">        In order to keep the API the same, Bugzilla4 needs to process the</span>
</span><span id="Bugzilla-1375"><a href="#Bugzilla-1375"><span class="linenos">1375</span></a><span class="sd">        query and the result. This also applies to the refresh() function</span>
</span><span id="Bugzilla-1376"><a href="#Bugzilla-1376"><span class="linenos">1376</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1377"><a href="#Bugzilla-1377"><span class="linenos">1377</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_redhat_bugzilla</span><span class="p">:</span>
</span><span id="Bugzilla-1378"><a href="#Bugzilla-1378"><span class="linenos">1378</span></a>            <span class="n">_RHBugzillaConverters</span><span class="o">.</span><span class="n">post_translation</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">bug</span><span class="p">)</span>
</span><span id="Bugzilla-1379"><a href="#Bugzilla-1379"><span class="linenos">1379</span></a>
</span><span id="Bugzilla-1380"><a href="#Bugzilla-1380"><span class="linenos">1380</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">bugs_history_raw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bug_ids</span><span class="p">):</span>
</span><span id="Bugzilla-1381"><a href="#Bugzilla-1381"><span class="linenos">1381</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1382"><a href="#Bugzilla-1382"><span class="linenos">1382</span></a><span class="sd">        Experimental. Gets the history of changes for</span>
</span><span id="Bugzilla-1383"><a href="#Bugzilla-1383"><span class="linenos">1383</span></a><span class="sd">        particular bugs in the database.</span>
</span><span id="Bugzilla-1384"><a href="#Bugzilla-1384"><span class="linenos">1384</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1385"><a href="#Bugzilla-1385"><span class="linenos">1385</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_history</span><span class="p">(</span><span class="n">bug_ids</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="Bugzilla-1386"><a href="#Bugzilla-1386"><span class="linenos">1386</span></a>
</span><span id="Bugzilla-1387"><a href="#Bugzilla-1387"><span class="linenos">1387</span></a>
</span><span id="Bugzilla-1388"><a href="#Bugzilla-1388"><span class="linenos">1388</span></a>    <span class="c1">#######################################</span>
</span><span id="Bugzilla-1389"><a href="#Bugzilla-1389"><span class="linenos">1389</span></a>    <span class="c1"># Methods for modifying existing bugs #</span>
</span><span id="Bugzilla-1390"><a href="#Bugzilla-1390"><span class="linenos">1390</span></a>    <span class="c1">#######################################</span>
</span><span id="Bugzilla-1391"><a href="#Bugzilla-1391"><span class="linenos">1391</span></a>
</span><span id="Bugzilla-1392"><a href="#Bugzilla-1392"><span class="linenos">1392</span></a>    <span class="c1"># Bug() also has individual methods for many ops, like setassignee()</span>
</span><span id="Bugzilla-1393"><a href="#Bugzilla-1393"><span class="linenos">1393</span></a>
</span><span id="Bugzilla-1394"><a href="#Bugzilla-1394"><span class="linenos">1394</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_bugs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="n">updates</span><span class="p">):</span>
</span><span id="Bugzilla-1395"><a href="#Bugzilla-1395"><span class="linenos">1395</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1396"><a href="#Bugzilla-1396"><span class="linenos">1396</span></a><span class="sd">        A thin wrapper around bugzilla Bug.update(). Used to update all</span>
</span><span id="Bugzilla-1397"><a href="#Bugzilla-1397"><span class="linenos">1397</span></a><span class="sd">        values of an existing bug report, as well as add comments.</span>
</span><span id="Bugzilla-1398"><a href="#Bugzilla-1398"><span class="linenos">1398</span></a>
</span><span id="Bugzilla-1399"><a href="#Bugzilla-1399"><span class="linenos">1399</span></a><span class="sd">        The dictionary passed to this function should be generated with</span>
</span><span id="Bugzilla-1400"><a href="#Bugzilla-1400"><span class="linenos">1400</span></a><span class="sd">        build_update(), otherwise we cannot guarantee back compatibility.</span>
</span><span id="Bugzilla-1401"><a href="#Bugzilla-1401"><span class="linenos">1401</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1402"><a href="#Bugzilla-1402"><span class="linenos">1402</span></a>        <span class="n">tmp</span> <span class="o">=</span> <span class="n">updates</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="Bugzilla-1403"><a href="#Bugzilla-1403"><span class="linenos">1403</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_update</span><span class="p">(</span><span class="n">listify</span><span class="p">(</span><span class="n">ids</span><span class="p">),</span> <span class="n">tmp</span><span class="p">)</span>
</span><span id="Bugzilla-1404"><a href="#Bugzilla-1404"><span class="linenos">1404</span></a>
</span><span id="Bugzilla-1405"><a href="#Bugzilla-1405"><span class="linenos">1405</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_tags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idlist</span><span class="p">,</span> <span class="n">tags_add</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags_remove</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla-1406"><a href="#Bugzilla-1406"><span class="linenos">1406</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1407"><a href="#Bugzilla-1407"><span class="linenos">1407</span></a><span class="sd">        Updates the &#39;tags&#39; field for a bug.</span>
</span><span id="Bugzilla-1408"><a href="#Bugzilla-1408"><span class="linenos">1408</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1409"><a href="#Bugzilla-1409"><span class="linenos">1409</span></a>        <span class="n">tags</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla-1410"><a href="#Bugzilla-1410"><span class="linenos">1410</span></a>        <span class="k">if</span> <span class="n">tags_add</span><span class="p">:</span>
</span><span id="Bugzilla-1411"><a href="#Bugzilla-1411"><span class="linenos">1411</span></a>            <span class="n">tags</span><span class="p">[</span><span class="s2">&quot;add&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">tags_add</span><span class="p">)</span>
</span><span id="Bugzilla-1412"><a href="#Bugzilla-1412"><span class="linenos">1412</span></a>        <span class="k">if</span> <span class="n">tags_remove</span><span class="p">:</span>
</span><span id="Bugzilla-1413"><a href="#Bugzilla-1413"><span class="linenos">1413</span></a>            <span class="n">tags</span><span class="p">[</span><span class="s2">&quot;remove&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">tags_remove</span><span class="p">)</span>
</span><span id="Bugzilla-1414"><a href="#Bugzilla-1414"><span class="linenos">1414</span></a>
</span><span id="Bugzilla-1415"><a href="#Bugzilla-1415"><span class="linenos">1415</span></a>        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Bugzilla-1416"><a href="#Bugzilla-1416"><span class="linenos">1416</span></a>            <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="n">tags</span><span class="p">,</span>
</span><span id="Bugzilla-1417"><a href="#Bugzilla-1417"><span class="linenos">1417</span></a>        <span class="p">}</span>
</span><span id="Bugzilla-1418"><a href="#Bugzilla-1418"><span class="linenos">1418</span></a>
</span><span id="Bugzilla-1419"><a href="#Bugzilla-1419"><span class="linenos">1419</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_update_tags</span><span class="p">(</span><span class="n">listify</span><span class="p">(</span><span class="n">idlist</span><span class="p">),</span> <span class="n">d</span><span class="p">)</span>
</span><span id="Bugzilla-1420"><a href="#Bugzilla-1420"><span class="linenos">1420</span></a>
</span><span id="Bugzilla-1421"><a href="#Bugzilla-1421"><span class="linenos">1421</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_flags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idlist</span><span class="p">,</span> <span class="n">flags</span><span class="p">):</span>
</span><span id="Bugzilla-1422"><a href="#Bugzilla-1422"><span class="linenos">1422</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1423"><a href="#Bugzilla-1423"><span class="linenos">1423</span></a><span class="sd">        A thin back compat wrapper around build_update(flags=X)</span>
</span><span id="Bugzilla-1424"><a href="#Bugzilla-1424"><span class="linenos">1424</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1425"><a href="#Bugzilla-1425"><span class="linenos">1425</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_bugs</span><span class="p">(</span><span class="n">idlist</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_update</span><span class="p">(</span><span class="n">flags</span><span class="o">=</span><span class="n">flags</span><span class="p">))</span>
</span><span id="Bugzilla-1426"><a href="#Bugzilla-1426"><span class="linenos">1426</span></a>
</span><span id="Bugzilla-1427"><a href="#Bugzilla-1427"><span class="linenos">1427</span></a>
</span><span id="Bugzilla-1428"><a href="#Bugzilla-1428"><span class="linenos">1428</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">build_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
</span><span id="Bugzilla-1429"><a href="#Bugzilla-1429"><span class="linenos">1429</span></a>                     <span class="n">alias</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1430"><a href="#Bugzilla-1430"><span class="linenos">1430</span></a>                     <span class="n">assigned_to</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1431"><a href="#Bugzilla-1431"><span class="linenos">1431</span></a>                     <span class="n">blocks_add</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1432"><a href="#Bugzilla-1432"><span class="linenos">1432</span></a>                     <span class="n">blocks_remove</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1433"><a href="#Bugzilla-1433"><span class="linenos">1433</span></a>                     <span class="n">blocks_set</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1434"><a href="#Bugzilla-1434"><span class="linenos">1434</span></a>                     <span class="n">depends_on_add</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1435"><a href="#Bugzilla-1435"><span class="linenos">1435</span></a>                     <span class="n">depends_on_remove</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1436"><a href="#Bugzilla-1436"><span class="linenos">1436</span></a>                     <span class="n">depends_on_set</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1437"><a href="#Bugzilla-1437"><span class="linenos">1437</span></a>                     <span class="n">cc_add</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1438"><a href="#Bugzilla-1438"><span class="linenos">1438</span></a>                     <span class="n">cc_remove</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1439"><a href="#Bugzilla-1439"><span class="linenos">1439</span></a>                     <span class="n">is_cc_accessible</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1440"><a href="#Bugzilla-1440"><span class="linenos">1440</span></a>                     <span class="n">comment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1441"><a href="#Bugzilla-1441"><span class="linenos">1441</span></a>                     <span class="n">comment_private</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1442"><a href="#Bugzilla-1442"><span class="linenos">1442</span></a>                     <span class="n">component</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1443"><a href="#Bugzilla-1443"><span class="linenos">1443</span></a>                     <span class="n">deadline</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1444"><a href="#Bugzilla-1444"><span class="linenos">1444</span></a>                     <span class="n">dupe_of</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1445"><a href="#Bugzilla-1445"><span class="linenos">1445</span></a>                     <span class="n">estimated_time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1446"><a href="#Bugzilla-1446"><span class="linenos">1446</span></a>                     <span class="n">groups_add</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1447"><a href="#Bugzilla-1447"><span class="linenos">1447</span></a>                     <span class="n">groups_remove</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1448"><a href="#Bugzilla-1448"><span class="linenos">1448</span></a>                     <span class="n">keywords_add</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1449"><a href="#Bugzilla-1449"><span class="linenos">1449</span></a>                     <span class="n">keywords_remove</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1450"><a href="#Bugzilla-1450"><span class="linenos">1450</span></a>                     <span class="n">keywords_set</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1451"><a href="#Bugzilla-1451"><span class="linenos">1451</span></a>                     <span class="n">op_sys</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1452"><a href="#Bugzilla-1452"><span class="linenos">1452</span></a>                     <span class="n">platform</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1453"><a href="#Bugzilla-1453"><span class="linenos">1453</span></a>                     <span class="n">priority</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1454"><a href="#Bugzilla-1454"><span class="linenos">1454</span></a>                     <span class="n">product</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1455"><a href="#Bugzilla-1455"><span class="linenos">1455</span></a>                     <span class="n">qa_contact</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1456"><a href="#Bugzilla-1456"><span class="linenos">1456</span></a>                     <span class="n">is_creator_accessible</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1457"><a href="#Bugzilla-1457"><span class="linenos">1457</span></a>                     <span class="n">remaining_time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1458"><a href="#Bugzilla-1458"><span class="linenos">1458</span></a>                     <span class="n">reset_assigned_to</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1459"><a href="#Bugzilla-1459"><span class="linenos">1459</span></a>                     <span class="n">reset_qa_contact</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1460"><a href="#Bugzilla-1460"><span class="linenos">1460</span></a>                     <span class="n">resolution</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1461"><a href="#Bugzilla-1461"><span class="linenos">1461</span></a>                     <span class="n">see_also_add</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1462"><a href="#Bugzilla-1462"><span class="linenos">1462</span></a>                     <span class="n">see_also_remove</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1463"><a href="#Bugzilla-1463"><span class="linenos">1463</span></a>                     <span class="n">severity</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1464"><a href="#Bugzilla-1464"><span class="linenos">1464</span></a>                     <span class="n">status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1465"><a href="#Bugzilla-1465"><span class="linenos">1465</span></a>                     <span class="n">summary</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1466"><a href="#Bugzilla-1466"><span class="linenos">1466</span></a>                     <span class="n">target_milestone</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1467"><a href="#Bugzilla-1467"><span class="linenos">1467</span></a>                     <span class="n">target_release</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1468"><a href="#Bugzilla-1468"><span class="linenos">1468</span></a>                     <span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1469"><a href="#Bugzilla-1469"><span class="linenos">1469</span></a>                     <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1470"><a href="#Bugzilla-1470"><span class="linenos">1470</span></a>                     <span class="n">whiteboard</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1471"><a href="#Bugzilla-1471"><span class="linenos">1471</span></a>                     <span class="n">work_time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1472"><a href="#Bugzilla-1472"><span class="linenos">1472</span></a>                     <span class="n">fixed_in</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1473"><a href="#Bugzilla-1473"><span class="linenos">1473</span></a>                     <span class="n">qa_whiteboard</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1474"><a href="#Bugzilla-1474"><span class="linenos">1474</span></a>                     <span class="n">devel_whiteboard</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1475"><a href="#Bugzilla-1475"><span class="linenos">1475</span></a>                     <span class="n">internal_whiteboard</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1476"><a href="#Bugzilla-1476"><span class="linenos">1476</span></a>                     <span class="n">sub_component</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1477"><a href="#Bugzilla-1477"><span class="linenos">1477</span></a>                     <span class="n">flags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1478"><a href="#Bugzilla-1478"><span class="linenos">1478</span></a>                     <span class="n">comment_tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1479"><a href="#Bugzilla-1479"><span class="linenos">1479</span></a>                     <span class="n">minor_update</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla-1480"><a href="#Bugzilla-1480"><span class="linenos">1480</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1481"><a href="#Bugzilla-1481"><span class="linenos">1481</span></a><span class="sd">        Returns a python dict() with properly formatted parameters to</span>
</span><span id="Bugzilla-1482"><a href="#Bugzilla-1482"><span class="linenos">1482</span></a><span class="sd">        pass to update_bugs(). See bugzilla documentation for the format</span>
</span><span id="Bugzilla-1483"><a href="#Bugzilla-1483"><span class="linenos">1483</span></a><span class="sd">        of the individual fields:</span>
</span><span id="Bugzilla-1484"><a href="#Bugzilla-1484"><span class="linenos">1484</span></a>
</span><span id="Bugzilla-1485"><a href="#Bugzilla-1485"><span class="linenos">1485</span></a><span class="sd">        https://bugzilla.readthedocs.io/en/latest/api/core/v1/bug.html#create-bug</span>
</span><span id="Bugzilla-1486"><a href="#Bugzilla-1486"><span class="linenos">1486</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1487"><a href="#Bugzilla-1487"><span class="linenos">1487</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla-1488"><a href="#Bugzilla-1488"><span class="linenos">1488</span></a>        <span class="n">rhbzret</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla-1489"><a href="#Bugzilla-1489"><span class="linenos">1489</span></a>
</span><span id="Bugzilla-1490"><a href="#Bugzilla-1490"><span class="linenos">1490</span></a>        <span class="c1"># These are only supported for rhbugzilla</span>
</span><span id="Bugzilla-1491"><a href="#Bugzilla-1491"><span class="linenos">1491</span></a>        <span class="c1">#</span>
</span><span id="Bugzilla-1492"><a href="#Bugzilla-1492"><span class="linenos">1492</span></a>        <span class="c1"># This should not be extended any more.</span>
</span><span id="Bugzilla-1493"><a href="#Bugzilla-1493"><span class="linenos">1493</span></a>        <span class="c1"># If people want to handle custom fields, manually extend the</span>
</span><span id="Bugzilla-1494"><a href="#Bugzilla-1494"><span class="linenos">1494</span></a>        <span class="c1"># returned dictionary.</span>
</span><span id="Bugzilla-1495"><a href="#Bugzilla-1495"><span class="linenos">1495</span></a>        <span class="n">rhbzargs</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Bugzilla-1496"><a href="#Bugzilla-1496"><span class="linenos">1496</span></a>            <span class="s2">&quot;fixed_in&quot;</span><span class="p">:</span> <span class="n">fixed_in</span><span class="p">,</span>
</span><span id="Bugzilla-1497"><a href="#Bugzilla-1497"><span class="linenos">1497</span></a>            <span class="s2">&quot;devel_whiteboard&quot;</span><span class="p">:</span> <span class="n">devel_whiteboard</span><span class="p">,</span>
</span><span id="Bugzilla-1498"><a href="#Bugzilla-1498"><span class="linenos">1498</span></a>            <span class="s2">&quot;qa_whiteboard&quot;</span><span class="p">:</span> <span class="n">qa_whiteboard</span><span class="p">,</span>
</span><span id="Bugzilla-1499"><a href="#Bugzilla-1499"><span class="linenos">1499</span></a>            <span class="s2">&quot;internal_whiteboard&quot;</span><span class="p">:</span> <span class="n">internal_whiteboard</span><span class="p">,</span>
</span><span id="Bugzilla-1500"><a href="#Bugzilla-1500"><span class="linenos">1500</span></a>            <span class="s2">&quot;sub_component&quot;</span><span class="p">:</span> <span class="n">sub_component</span><span class="p">,</span>
</span><span id="Bugzilla-1501"><a href="#Bugzilla-1501"><span class="linenos">1501</span></a>        <span class="p">}</span>
</span><span id="Bugzilla-1502"><a href="#Bugzilla-1502"><span class="linenos">1502</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_redhat_bugzilla</span><span class="p">:</span>
</span><span id="Bugzilla-1503"><a href="#Bugzilla-1503"><span class="linenos">1503</span></a>            <span class="n">rhbzret</span> <span class="o">=</span> <span class="n">_RHBugzillaConverters</span><span class="o">.</span><span class="n">convert_build_update</span><span class="p">(</span>
</span><span id="Bugzilla-1504"><a href="#Bugzilla-1504"><span class="linenos">1504</span></a>                <span class="n">component</span><span class="o">=</span><span class="n">component</span><span class="p">,</span> <span class="o">**</span><span class="n">rhbzargs</span><span class="p">)</span>
</span><span id="Bugzilla-1505"><a href="#Bugzilla-1505"><span class="linenos">1505</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Bugzilla-1506"><a href="#Bugzilla-1506"><span class="linenos">1506</span></a>            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">rhbzargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Bugzilla-1507"><a href="#Bugzilla-1507"><span class="linenos">1507</span></a>                <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-1508"><a href="#Bugzilla-1508"><span class="linenos">1508</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;bugzilla instance does not support &quot;</span>
</span><span id="Bugzilla-1509"><a href="#Bugzilla-1509"><span class="linenos">1509</span></a>                                     <span class="s2">&quot;updating &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="n">key</span><span class="p">)</span>
</span><span id="Bugzilla-1510"><a href="#Bugzilla-1510"><span class="linenos">1510</span></a>
</span><span id="Bugzilla-1511"><a href="#Bugzilla-1511"><span class="linenos">1511</span></a>        <span class="k">def</span><span class="w"> </span><span class="nf">s</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">convert</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla-1512"><a href="#Bugzilla-1512"><span class="linenos">1512</span></a>            <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-1513"><a href="#Bugzilla-1513"><span class="linenos">1513</span></a>                <span class="k">return</span>
</span><span id="Bugzilla-1514"><a href="#Bugzilla-1514"><span class="linenos">1514</span></a>            <span class="k">if</span> <span class="n">convert</span><span class="p">:</span>
</span><span id="Bugzilla-1515"><a href="#Bugzilla-1515"><span class="linenos">1515</span></a>                <span class="n">val</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
</span><span id="Bugzilla-1516"><a href="#Bugzilla-1516"><span class="linenos">1516</span></a>            <span class="n">ret</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>
</span><span id="Bugzilla-1517"><a href="#Bugzilla-1517"><span class="linenos">1517</span></a>
</span><span id="Bugzilla-1518"><a href="#Bugzilla-1518"><span class="linenos">1518</span></a>        <span class="k">def</span><span class="w"> </span><span class="nf">add_dict</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">add</span><span class="p">,</span> <span class="n">remove</span><span class="p">,</span> <span class="n">_set</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla-1519"><a href="#Bugzilla-1519"><span class="linenos">1519</span></a>            <span class="k">if</span> <span class="n">add</span> <span class="ow">is</span> <span class="n">remove</span> <span class="ow">is</span> <span class="n">_set</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-1520"><a href="#Bugzilla-1520"><span class="linenos">1520</span></a>                <span class="k">return</span>
</span><span id="Bugzilla-1521"><a href="#Bugzilla-1521"><span class="linenos">1521</span></a>
</span><span id="Bugzilla-1522"><a href="#Bugzilla-1522"><span class="linenos">1522</span></a>            <span class="n">newdict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla-1523"><a href="#Bugzilla-1523"><span class="linenos">1523</span></a>            <span class="k">if</span> <span class="n">add</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-1524"><a href="#Bugzilla-1524"><span class="linenos">1524</span></a>                <span class="n">newdict</span><span class="p">[</span><span class="s2">&quot;add&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">add</span><span class="p">)</span>
</span><span id="Bugzilla-1525"><a href="#Bugzilla-1525"><span class="linenos">1525</span></a>            <span class="k">if</span> <span class="n">remove</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-1526"><a href="#Bugzilla-1526"><span class="linenos">1526</span></a>                <span class="n">newdict</span><span class="p">[</span><span class="s2">&quot;remove&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">remove</span><span class="p">)</span>
</span><span id="Bugzilla-1527"><a href="#Bugzilla-1527"><span class="linenos">1527</span></a>            <span class="k">if</span> <span class="n">_set</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-1528"><a href="#Bugzilla-1528"><span class="linenos">1528</span></a>                <span class="n">newdict</span><span class="p">[</span><span class="s2">&quot;set&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">_set</span><span class="p">)</span>
</span><span id="Bugzilla-1529"><a href="#Bugzilla-1529"><span class="linenos">1529</span></a>            <span class="n">ret</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">newdict</span>
</span><span id="Bugzilla-1530"><a href="#Bugzilla-1530"><span class="linenos">1530</span></a>
</span><span id="Bugzilla-1531"><a href="#Bugzilla-1531"><span class="linenos">1531</span></a>
</span><span id="Bugzilla-1532"><a href="#Bugzilla-1532"><span class="linenos">1532</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;alias&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span>
</span><span id="Bugzilla-1533"><a href="#Bugzilla-1533"><span class="linenos">1533</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;assigned_to&quot;</span><span class="p">,</span> <span class="n">assigned_to</span><span class="p">)</span>
</span><span id="Bugzilla-1534"><a href="#Bugzilla-1534"><span class="linenos">1534</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;is_cc_accessible&quot;</span><span class="p">,</span> <span class="n">is_cc_accessible</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>
</span><span id="Bugzilla-1535"><a href="#Bugzilla-1535"><span class="linenos">1535</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;component&quot;</span><span class="p">,</span> <span class="n">component</span><span class="p">)</span>
</span><span id="Bugzilla-1536"><a href="#Bugzilla-1536"><span class="linenos">1536</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;deadline&quot;</span><span class="p">,</span> <span class="n">deadline</span><span class="p">)</span>
</span><span id="Bugzilla-1537"><a href="#Bugzilla-1537"><span class="linenos">1537</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;dupe_of&quot;</span><span class="p">,</span> <span class="n">dupe_of</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
</span><span id="Bugzilla-1538"><a href="#Bugzilla-1538"><span class="linenos">1538</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;estimated_time&quot;</span><span class="p">,</span> <span class="n">estimated_time</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
</span><span id="Bugzilla-1539"><a href="#Bugzilla-1539"><span class="linenos">1539</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;op_sys&quot;</span><span class="p">,</span> <span class="n">op_sys</span><span class="p">)</span>
</span><span id="Bugzilla-1540"><a href="#Bugzilla-1540"><span class="linenos">1540</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;platform&quot;</span><span class="p">,</span> <span class="n">platform</span><span class="p">)</span>
</span><span id="Bugzilla-1541"><a href="#Bugzilla-1541"><span class="linenos">1541</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;priority&quot;</span><span class="p">,</span> <span class="n">priority</span><span class="p">)</span>
</span><span id="Bugzilla-1542"><a href="#Bugzilla-1542"><span class="linenos">1542</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;product&quot;</span><span class="p">,</span> <span class="n">product</span><span class="p">)</span>
</span><span id="Bugzilla-1543"><a href="#Bugzilla-1543"><span class="linenos">1543</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;qa_contact&quot;</span><span class="p">,</span> <span class="n">qa_contact</span><span class="p">)</span>
</span><span id="Bugzilla-1544"><a href="#Bugzilla-1544"><span class="linenos">1544</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;is_creator_accessible&quot;</span><span class="p">,</span> <span class="n">is_creator_accessible</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>
</span><span id="Bugzilla-1545"><a href="#Bugzilla-1545"><span class="linenos">1545</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;remaining_time&quot;</span><span class="p">,</span> <span class="n">remaining_time</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
</span><span id="Bugzilla-1546"><a href="#Bugzilla-1546"><span class="linenos">1546</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;reset_assigned_to&quot;</span><span class="p">,</span> <span class="n">reset_assigned_to</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>
</span><span id="Bugzilla-1547"><a href="#Bugzilla-1547"><span class="linenos">1547</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;reset_qa_contact&quot;</span><span class="p">,</span> <span class="n">reset_qa_contact</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>
</span><span id="Bugzilla-1548"><a href="#Bugzilla-1548"><span class="linenos">1548</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;resolution&quot;</span><span class="p">,</span> <span class="n">resolution</span><span class="p">)</span>
</span><span id="Bugzilla-1549"><a href="#Bugzilla-1549"><span class="linenos">1549</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;severity&quot;</span><span class="p">,</span> <span class="n">severity</span><span class="p">)</span>
</span><span id="Bugzilla-1550"><a href="#Bugzilla-1550"><span class="linenos">1550</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="n">status</span><span class="p">)</span>
</span><span id="Bugzilla-1551"><a href="#Bugzilla-1551"><span class="linenos">1551</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;summary&quot;</span><span class="p">,</span> <span class="n">summary</span><span class="p">)</span>
</span><span id="Bugzilla-1552"><a href="#Bugzilla-1552"><span class="linenos">1552</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;target_milestone&quot;</span><span class="p">,</span> <span class="n">target_milestone</span><span class="p">)</span>
</span><span id="Bugzilla-1553"><a href="#Bugzilla-1553"><span class="linenos">1553</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;target_release&quot;</span><span class="p">,</span> <span class="n">target_release</span><span class="p">)</span>
</span><span id="Bugzilla-1554"><a href="#Bugzilla-1554"><span class="linenos">1554</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;url&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</span><span id="Bugzilla-1555"><a href="#Bugzilla-1555"><span class="linenos">1555</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">,</span> <span class="n">version</span><span class="p">)</span>
</span><span id="Bugzilla-1556"><a href="#Bugzilla-1556"><span class="linenos">1556</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;whiteboard&quot;</span><span class="p">,</span> <span class="n">whiteboard</span><span class="p">)</span>
</span><span id="Bugzilla-1557"><a href="#Bugzilla-1557"><span class="linenos">1557</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;work_time&quot;</span><span class="p">,</span> <span class="n">work_time</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
</span><span id="Bugzilla-1558"><a href="#Bugzilla-1558"><span class="linenos">1558</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;flags&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
</span><span id="Bugzilla-1559"><a href="#Bugzilla-1559"><span class="linenos">1559</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;comment_tags&quot;</span><span class="p">,</span> <span class="n">comment_tags</span><span class="p">,</span> <span class="n">listify</span><span class="p">)</span>
</span><span id="Bugzilla-1560"><a href="#Bugzilla-1560"><span class="linenos">1560</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;minor_update&quot;</span><span class="p">,</span> <span class="n">minor_update</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>
</span><span id="Bugzilla-1561"><a href="#Bugzilla-1561"><span class="linenos">1561</span></a>
</span><span id="Bugzilla-1562"><a href="#Bugzilla-1562"><span class="linenos">1562</span></a>        <span class="n">add_dict</span><span class="p">(</span><span class="s2">&quot;blocks&quot;</span><span class="p">,</span> <span class="n">blocks_add</span><span class="p">,</span> <span class="n">blocks_remove</span><span class="p">,</span> <span class="n">blocks_set</span><span class="p">)</span>
</span><span id="Bugzilla-1563"><a href="#Bugzilla-1563"><span class="linenos">1563</span></a>        <span class="n">add_dict</span><span class="p">(</span><span class="s2">&quot;depends_on&quot;</span><span class="p">,</span> <span class="n">depends_on_add</span><span class="p">,</span> <span class="n">depends_on_remove</span><span class="p">,</span> <span class="n">depends_on_set</span><span class="p">)</span>
</span><span id="Bugzilla-1564"><a href="#Bugzilla-1564"><span class="linenos">1564</span></a>        <span class="n">add_dict</span><span class="p">(</span><span class="s2">&quot;cc&quot;</span><span class="p">,</span> <span class="n">cc_add</span><span class="p">,</span> <span class="n">cc_remove</span><span class="p">)</span>
</span><span id="Bugzilla-1565"><a href="#Bugzilla-1565"><span class="linenos">1565</span></a>        <span class="n">add_dict</span><span class="p">(</span><span class="s2">&quot;groups&quot;</span><span class="p">,</span> <span class="n">groups_add</span><span class="p">,</span> <span class="n">groups_remove</span><span class="p">)</span>
</span><span id="Bugzilla-1566"><a href="#Bugzilla-1566"><span class="linenos">1566</span></a>        <span class="n">add_dict</span><span class="p">(</span><span class="s2">&quot;keywords&quot;</span><span class="p">,</span> <span class="n">keywords_add</span><span class="p">,</span> <span class="n">keywords_remove</span><span class="p">,</span> <span class="n">keywords_set</span><span class="p">)</span>
</span><span id="Bugzilla-1567"><a href="#Bugzilla-1567"><span class="linenos">1567</span></a>        <span class="n">add_dict</span><span class="p">(</span><span class="s2">&quot;see_also&quot;</span><span class="p">,</span> <span class="n">see_also_add</span><span class="p">,</span> <span class="n">see_also_remove</span><span class="p">)</span>
</span><span id="Bugzilla-1568"><a href="#Bugzilla-1568"><span class="linenos">1568</span></a>
</span><span id="Bugzilla-1569"><a href="#Bugzilla-1569"><span class="linenos">1569</span></a>        <span class="k">if</span> <span class="n">comment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-1570"><a href="#Bugzilla-1570"><span class="linenos">1570</span></a>            <span class="n">ret</span><span class="p">[</span><span class="s2">&quot;comment&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="n">comment</span><span class="p">}</span>
</span><span id="Bugzilla-1571"><a href="#Bugzilla-1571"><span class="linenos">1571</span></a>            <span class="k">if</span> <span class="n">comment_private</span><span class="p">:</span>
</span><span id="Bugzilla-1572"><a href="#Bugzilla-1572"><span class="linenos">1572</span></a>                <span class="n">ret</span><span class="p">[</span><span class="s2">&quot;comment&quot;</span><span class="p">][</span><span class="s2">&quot;is_private&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">comment_private</span>
</span><span id="Bugzilla-1573"><a href="#Bugzilla-1573"><span class="linenos">1573</span></a>
</span><span id="Bugzilla-1574"><a href="#Bugzilla-1574"><span class="linenos">1574</span></a>        <span class="n">ret</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">rhbzret</span><span class="p">)</span>
</span><span id="Bugzilla-1575"><a href="#Bugzilla-1575"><span class="linenos">1575</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="Bugzilla-1576"><a href="#Bugzilla-1576"><span class="linenos">1576</span></a>
</span><span id="Bugzilla-1577"><a href="#Bugzilla-1577"><span class="linenos">1577</span></a>
</span><span id="Bugzilla-1578"><a href="#Bugzilla-1578"><span class="linenos">1578</span></a>    <span class="c1">########################################</span>
</span><span id="Bugzilla-1579"><a href="#Bugzilla-1579"><span class="linenos">1579</span></a>    <span class="c1"># Methods for working with attachments #</span>
</span><span id="Bugzilla-1580"><a href="#Bugzilla-1580"><span class="linenos">1580</span></a>    <span class="c1">########################################</span>
</span><span id="Bugzilla-1581"><a href="#Bugzilla-1581"><span class="linenos">1581</span></a>
</span><span id="Bugzilla-1582"><a href="#Bugzilla-1582"><span class="linenos">1582</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">attachfile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idlist</span><span class="p">,</span> <span class="n">attachfile</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Bugzilla-1583"><a href="#Bugzilla-1583"><span class="linenos">1583</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1584"><a href="#Bugzilla-1584"><span class="linenos">1584</span></a><span class="sd">        Attach a file to the given bug IDs. Returns the ID of the attachment</span>
</span><span id="Bugzilla-1585"><a href="#Bugzilla-1585"><span class="linenos">1585</span></a><span class="sd">        or raises XMLRPC Fault if something goes wrong.</span>
</span><span id="Bugzilla-1586"><a href="#Bugzilla-1586"><span class="linenos">1586</span></a>
</span><span id="Bugzilla-1587"><a href="#Bugzilla-1587"><span class="linenos">1587</span></a><span class="sd">        attachfile may be a filename (which will be opened) or a file-like</span>
</span><span id="Bugzilla-1588"><a href="#Bugzilla-1588"><span class="linenos">1588</span></a><span class="sd">        object, which must provide a &#39;read&#39; method. If it&#39;s not one of these,</span>
</span><span id="Bugzilla-1589"><a href="#Bugzilla-1589"><span class="linenos">1589</span></a><span class="sd">        this method will raise a TypeError.</span>
</span><span id="Bugzilla-1590"><a href="#Bugzilla-1590"><span class="linenos">1590</span></a><span class="sd">        description is the short description of this attachment.</span>
</span><span id="Bugzilla-1591"><a href="#Bugzilla-1591"><span class="linenos">1591</span></a>
</span><span id="Bugzilla-1592"><a href="#Bugzilla-1592"><span class="linenos">1592</span></a><span class="sd">        Optional keyword args are as follows:</span>
</span><span id="Bugzilla-1593"><a href="#Bugzilla-1593"><span class="linenos">1593</span></a><span class="sd">            file_name:  this will be used as the filename for the attachment.</span>
</span><span id="Bugzilla-1594"><a href="#Bugzilla-1594"><span class="linenos">1594</span></a><span class="sd">                       REQUIRED if attachfile is a file-like object with no</span>
</span><span id="Bugzilla-1595"><a href="#Bugzilla-1595"><span class="linenos">1595</span></a><span class="sd">                       &#39;name&#39; attribute, otherwise the filename or .name</span>
</span><span id="Bugzilla-1596"><a href="#Bugzilla-1596"><span class="linenos">1596</span></a><span class="sd">                       attribute will be used.</span>
</span><span id="Bugzilla-1597"><a href="#Bugzilla-1597"><span class="linenos">1597</span></a><span class="sd">            comment:   An optional comment about this attachment.</span>
</span><span id="Bugzilla-1598"><a href="#Bugzilla-1598"><span class="linenos">1598</span></a><span class="sd">            is_private: Set to True if the attachment should be marked private.</span>
</span><span id="Bugzilla-1599"><a href="#Bugzilla-1599"><span class="linenos">1599</span></a><span class="sd">            is_patch:   Set to True if the attachment is a patch.</span>
</span><span id="Bugzilla-1600"><a href="#Bugzilla-1600"><span class="linenos">1600</span></a><span class="sd">            content_type: The mime-type of the attached file. Defaults to</span>
</span><span id="Bugzilla-1601"><a href="#Bugzilla-1601"><span class="linenos">1601</span></a><span class="sd">                          application/octet-stream if not set. NOTE that text</span>
</span><span id="Bugzilla-1602"><a href="#Bugzilla-1602"><span class="linenos">1602</span></a><span class="sd">                          files will *not* be viewable in bugzilla unless you</span>
</span><span id="Bugzilla-1603"><a href="#Bugzilla-1603"><span class="linenos">1603</span></a><span class="sd">                          remember to set this to text/plain. So remember that!</span>
</span><span id="Bugzilla-1604"><a href="#Bugzilla-1604"><span class="linenos">1604</span></a>
</span><span id="Bugzilla-1605"><a href="#Bugzilla-1605"><span class="linenos">1605</span></a><span class="sd">        Returns the list of attachment ids that were added. If only one</span>
</span><span id="Bugzilla-1606"><a href="#Bugzilla-1606"><span class="linenos">1606</span></a><span class="sd">        attachment was added, we return the single int ID for back compat</span>
</span><span id="Bugzilla-1607"><a href="#Bugzilla-1607"><span class="linenos">1607</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1608"><a href="#Bugzilla-1608"><span class="linenos">1608</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attachfile</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="Bugzilla-1609"><a href="#Bugzilla-1609"><span class="linenos">1609</span></a>            <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">attachfile</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-1610"><a href="#Bugzilla-1610"><span class="linenos">1610</span></a>        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">attachfile</span><span class="p">,</span> <span class="s1">&#39;read&#39;</span><span class="p">):</span>
</span><span id="Bugzilla-1611"><a href="#Bugzilla-1611"><span class="linenos">1611</span></a>            <span class="n">f</span> <span class="o">=</span> <span class="n">attachfile</span>
</span><span id="Bugzilla-1612"><a href="#Bugzilla-1612"><span class="linenos">1612</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Bugzilla-1613"><a href="#Bugzilla-1613"><span class="linenos">1613</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;attachfile must be filename or file-like object&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-1614"><a href="#Bugzilla-1614"><span class="linenos">1614</span></a>
</span><span id="Bugzilla-1615"><a href="#Bugzilla-1615"><span class="linenos">1615</span></a>        <span class="c1"># Back compat</span>
</span><span id="Bugzilla-1616"><a href="#Bugzilla-1616"><span class="linenos">1616</span></a>        <span class="k">if</span> <span class="s2">&quot;contenttype&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="Bugzilla-1617"><a href="#Bugzilla-1617"><span class="linenos">1617</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;content_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;contenttype&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-1618"><a href="#Bugzilla-1618"><span class="linenos">1618</span></a>        <span class="k">if</span> <span class="s2">&quot;ispatch&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="Bugzilla-1619"><a href="#Bugzilla-1619"><span class="linenos">1619</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;is_patch&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;ispatch&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-1620"><a href="#Bugzilla-1620"><span class="linenos">1620</span></a>        <span class="k">if</span> <span class="s2">&quot;isprivate&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="Bugzilla-1621"><a href="#Bugzilla-1621"><span class="linenos">1621</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;is_private&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;isprivate&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-1622"><a href="#Bugzilla-1622"><span class="linenos">1622</span></a>        <span class="k">if</span> <span class="s2">&quot;filename&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="Bugzilla-1623"><a href="#Bugzilla-1623"><span class="linenos">1623</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;file_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;filename&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-1624"><a href="#Bugzilla-1624"><span class="linenos">1624</span></a>
</span><span id="Bugzilla-1625"><a href="#Bugzilla-1625"><span class="linenos">1625</span></a>        <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;summary&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">description</span>
</span><span id="Bugzilla-1626"><a href="#Bugzilla-1626"><span class="linenos">1626</span></a>
</span><span id="Bugzilla-1627"><a href="#Bugzilla-1627"><span class="linenos">1627</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span id="Bugzilla-1628"><a href="#Bugzilla-1628"><span class="linenos">1628</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>  <span class="c1"># pragma: no cover</span>
</span><span id="Bugzilla-1629"><a href="#Bugzilla-1629"><span class="linenos">1629</span></a>            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">getpreferredencoding</span><span class="p">())</span>
</span><span id="Bugzilla-1630"><a href="#Bugzilla-1630"><span class="linenos">1630</span></a>
</span><span id="Bugzilla-1631"><a href="#Bugzilla-1631"><span class="linenos">1631</span></a>        <span class="k">if</span> <span class="s1">&#39;file_name&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">):</span>
</span><span id="Bugzilla-1632"><a href="#Bugzilla-1632"><span class="linenos">1632</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;file_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</span><span id="Bugzilla-1633"><a href="#Bugzilla-1633"><span class="linenos">1633</span></a>        <span class="k">if</span> <span class="s1">&#39;content_type&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="Bugzilla-1634"><a href="#Bugzilla-1634"><span class="linenos">1634</span></a>            <span class="n">ctype</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Bugzilla-1635"><a href="#Bugzilla-1635"><span class="linenos">1635</span></a>            <span class="k">if</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;file_name&#39;</span><span class="p">]:</span>
</span><span id="Bugzilla-1636"><a href="#Bugzilla-1636"><span class="linenos">1636</span></a>                <span class="n">ctype</span> <span class="o">=</span> <span class="n">mimetypes</span><span class="o">.</span><span class="n">guess_type</span><span class="p">(</span>
</span><span id="Bugzilla-1637"><a href="#Bugzilla-1637"><span class="linenos">1637</span></a>                    <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;file_name&#39;</span><span class="p">],</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Bugzilla-1638"><a href="#Bugzilla-1638"><span class="linenos">1638</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;content_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctype</span> <span class="ow">or</span> <span class="s1">&#39;application/octet-stream&#39;</span>
</span><span id="Bugzilla-1639"><a href="#Bugzilla-1639"><span class="linenos">1639</span></a>
</span><span id="Bugzilla-1640"><a href="#Bugzilla-1640"><span class="linenos">1640</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_attachment_create</span><span class="p">(</span>
</span><span id="Bugzilla-1641"><a href="#Bugzilla-1641"><span class="linenos">1641</span></a>            <span class="n">listify</span><span class="p">(</span><span class="n">idlist</span><span class="p">),</span> <span class="n">data</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
</span><span id="Bugzilla-1642"><a href="#Bugzilla-1642"><span class="linenos">1642</span></a>
</span><span id="Bugzilla-1643"><a href="#Bugzilla-1643"><span class="linenos">1643</span></a>        <span class="k">if</span> <span class="s2">&quot;attachments&quot;</span> <span class="ow">in</span> <span class="n">ret</span><span class="p">:</span>
</span><span id="Bugzilla-1644"><a href="#Bugzilla-1644"><span class="linenos">1644</span></a>            <span class="c1"># Up to BZ 4.2</span>
</span><span id="Bugzilla-1645"><a href="#Bugzilla-1645"><span class="linenos">1645</span></a>            <span class="n">ret</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ret</span><span class="p">[</span><span class="s2">&quot;attachments&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>
</span><span id="Bugzilla-1646"><a href="#Bugzilla-1646"><span class="linenos">1646</span></a>        <span class="k">elif</span> <span class="s2">&quot;ids&quot;</span> <span class="ow">in</span> <span class="n">ret</span><span class="p">:</span>
</span><span id="Bugzilla-1647"><a href="#Bugzilla-1647"><span class="linenos">1647</span></a>            <span class="c1"># BZ 4.4+</span>
</span><span id="Bugzilla-1648"><a href="#Bugzilla-1648"><span class="linenos">1648</span></a>            <span class="n">ret</span> <span class="o">=</span> <span class="n">ret</span><span class="p">[</span><span class="s2">&quot;ids&quot;</span><span class="p">]</span>
</span><span id="Bugzilla-1649"><a href="#Bugzilla-1649"><span class="linenos">1649</span></a>
</span><span id="Bugzilla-1650"><a href="#Bugzilla-1650"><span class="linenos">1650</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ret</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Bugzilla-1651"><a href="#Bugzilla-1651"><span class="linenos">1651</span></a>            <span class="n">ret</span> <span class="o">=</span> <span class="n">ret</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Bugzilla-1652"><a href="#Bugzilla-1652"><span class="linenos">1652</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="Bugzilla-1653"><a href="#Bugzilla-1653"><span class="linenos">1653</span></a>
</span><span id="Bugzilla-1654"><a href="#Bugzilla-1654"><span class="linenos">1654</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">openattachment_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attachment_dict</span><span class="p">):</span>
</span><span id="Bugzilla-1655"><a href="#Bugzilla-1655"><span class="linenos">1655</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1656"><a href="#Bugzilla-1656"><span class="linenos">1656</span></a><span class="sd">        Helper for turning passed API attachment dictionary into a</span>
</span><span id="Bugzilla-1657"><a href="#Bugzilla-1657"><span class="linenos">1657</span></a><span class="sd">        filelike object</span>
</span><span id="Bugzilla-1658"><a href="#Bugzilla-1658"><span class="linenos">1658</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1659"><a href="#Bugzilla-1659"><span class="linenos">1659</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">BytesIO</span><span class="p">()</span>
</span><span id="Bugzilla-1660"><a href="#Bugzilla-1660"><span class="linenos">1660</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="n">attachment_dict</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
</span><span id="Bugzilla-1661"><a href="#Bugzilla-1661"><span class="linenos">1661</span></a>
</span><span id="Bugzilla-1662"><a href="#Bugzilla-1662"><span class="linenos">1662</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">):</span>
</span><span id="Bugzilla-1663"><a href="#Bugzilla-1663"><span class="linenos">1663</span></a>            <span class="c1"># This is for xmlrpc Binary</span>
</span><span id="Bugzilla-1664"><a href="#Bugzilla-1664"><span class="linenos">1664</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">data</span>  <span class="c1"># pragma: no cover</span>
</span><span id="Bugzilla-1665"><a href="#Bugzilla-1665"><span class="linenos">1665</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Bugzilla-1666"><a href="#Bugzilla-1666"><span class="linenos">1666</span></a>            <span class="kn">import</span><span class="w"> </span><span class="nn">base64</span>
</span><span id="Bugzilla-1667"><a href="#Bugzilla-1667"><span class="linenos">1667</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="Bugzilla-1668"><a href="#Bugzilla-1668"><span class="linenos">1668</span></a>
</span><span id="Bugzilla-1669"><a href="#Bugzilla-1669"><span class="linenos">1669</span></a>        <span class="n">ret</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</span><span id="Bugzilla-1670"><a href="#Bugzilla-1670"><span class="linenos">1670</span></a>        <span class="n">ret</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">attachment_dict</span><span class="p">[</span><span class="s2">&quot;file_name&quot;</span><span class="p">]</span>
</span><span id="Bugzilla-1671"><a href="#Bugzilla-1671"><span class="linenos">1671</span></a>        <span class="n">ret</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="Bugzilla-1672"><a href="#Bugzilla-1672"><span class="linenos">1672</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="Bugzilla-1673"><a href="#Bugzilla-1673"><span class="linenos">1673</span></a>
</span><span id="Bugzilla-1674"><a href="#Bugzilla-1674"><span class="linenos">1674</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">openattachment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attachid</span><span class="p">):</span>
</span><span id="Bugzilla-1675"><a href="#Bugzilla-1675"><span class="linenos">1675</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1676"><a href="#Bugzilla-1676"><span class="linenos">1676</span></a><span class="sd">        Get the contents of the attachment with the given attachment ID.</span>
</span><span id="Bugzilla-1677"><a href="#Bugzilla-1677"><span class="linenos">1677</span></a><span class="sd">        Returns a file-like object.</span>
</span><span id="Bugzilla-1678"><a href="#Bugzilla-1678"><span class="linenos">1678</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1679"><a href="#Bugzilla-1679"><span class="linenos">1679</span></a>        <span class="n">attachments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attachments</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">attachid</span><span class="p">)</span>
</span><span id="Bugzilla-1680"><a href="#Bugzilla-1680"><span class="linenos">1680</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="n">attachments</span><span class="p">[</span><span class="s2">&quot;attachments&quot;</span><span class="p">][</span><span class="nb">str</span><span class="p">(</span><span class="n">attachid</span><span class="p">)]</span>
</span><span id="Bugzilla-1681"><a href="#Bugzilla-1681"><span class="linenos">1681</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">openattachment_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="Bugzilla-1682"><a href="#Bugzilla-1682"><span class="linenos">1682</span></a>
</span><span id="Bugzilla-1683"><a href="#Bugzilla-1683"><span class="linenos">1683</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">updateattachmentflags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bugid</span><span class="p">,</span> <span class="n">attachid</span><span class="p">,</span> <span class="n">flagname</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Bugzilla-1684"><a href="#Bugzilla-1684"><span class="linenos">1684</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1685"><a href="#Bugzilla-1685"><span class="linenos">1685</span></a><span class="sd">        Updates a flag for the given attachment ID.</span>
</span><span id="Bugzilla-1686"><a href="#Bugzilla-1686"><span class="linenos">1686</span></a><span class="sd">        Optional keyword args are:</span>
</span><span id="Bugzilla-1687"><a href="#Bugzilla-1687"><span class="linenos">1687</span></a><span class="sd">            status:    new status for the flag (&#39;-&#39;, &#39;+&#39;, &#39;?&#39;, &#39;X&#39;)</span>
</span><span id="Bugzilla-1688"><a href="#Bugzilla-1688"><span class="linenos">1688</span></a><span class="sd">            requestee: new requestee for the flag</span>
</span><span id="Bugzilla-1689"><a href="#Bugzilla-1689"><span class="linenos">1689</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1690"><a href="#Bugzilla-1690"><span class="linenos">1690</span></a>        <span class="c1"># Bug ID was used for the original custom redhat API, no longer</span>
</span><span id="Bugzilla-1691"><a href="#Bugzilla-1691"><span class="linenos">1691</span></a>        <span class="c1"># needed though</span>
</span><span id="Bugzilla-1692"><a href="#Bugzilla-1692"><span class="linenos">1692</span></a>        <span class="n">ignore</span> <span class="o">=</span> <span class="n">bugid</span>
</span><span id="Bugzilla-1693"><a href="#Bugzilla-1693"><span class="linenos">1693</span></a>
</span><span id="Bugzilla-1694"><a href="#Bugzilla-1694"><span class="linenos">1694</span></a>        <span class="n">flags</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">flagname</span><span class="p">}</span>
</span><span id="Bugzilla-1695"><a href="#Bugzilla-1695"><span class="linenos">1695</span></a>        <span class="n">flags</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Bugzilla-1696"><a href="#Bugzilla-1696"><span class="linenos">1696</span></a>        <span class="n">attachment_ids</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">attachid</span><span class="p">)]</span>
</span><span id="Bugzilla-1697"><a href="#Bugzilla-1697"><span class="linenos">1697</span></a>        <span class="n">update</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;flags&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">flags</span><span class="p">]}</span>
</span><span id="Bugzilla-1698"><a href="#Bugzilla-1698"><span class="linenos">1698</span></a>
</span><span id="Bugzilla-1699"><a href="#Bugzilla-1699"><span class="linenos">1699</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_attachment_update</span><span class="p">(</span><span class="n">attachment_ids</span><span class="p">,</span> <span class="n">update</span><span class="p">)</span>
</span><span id="Bugzilla-1700"><a href="#Bugzilla-1700"><span class="linenos">1700</span></a>
</span><span id="Bugzilla-1701"><a href="#Bugzilla-1701"><span class="linenos">1701</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_attachments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="n">attachment_ids</span><span class="p">,</span>
</span><span id="Bugzilla-1702"><a href="#Bugzilla-1702"><span class="linenos">1702</span></a>                        <span class="n">include_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla-1703"><a href="#Bugzilla-1703"><span class="linenos">1703</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1704"><a href="#Bugzilla-1704"><span class="linenos">1704</span></a><span class="sd">        Wrapper for Bug.attachments. One of ids or attachment_ids is required</span>
</span><span id="Bugzilla-1705"><a href="#Bugzilla-1705"><span class="linenos">1705</span></a>
</span><span id="Bugzilla-1706"><a href="#Bugzilla-1706"><span class="linenos">1706</span></a><span class="sd">        :param ids: Get attachments for this bug ID</span>
</span><span id="Bugzilla-1707"><a href="#Bugzilla-1707"><span class="linenos">1707</span></a><span class="sd">        :param attachment_ids: Specific attachment ID to get</span>
</span><span id="Bugzilla-1708"><a href="#Bugzilla-1708"><span class="linenos">1708</span></a>
</span><span id="Bugzilla-1709"><a href="#Bugzilla-1709"><span class="linenos">1709</span></a><span class="sd">        https://bugzilla.readthedocs.io/en/latest/api/core/v1/attachment.html#get-attachment</span>
</span><span id="Bugzilla-1710"><a href="#Bugzilla-1710"><span class="linenos">1710</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1711"><a href="#Bugzilla-1711"><span class="linenos">1711</span></a>        <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla-1712"><a href="#Bugzilla-1712"><span class="linenos">1712</span></a>        <span class="k">if</span> <span class="n">include_fields</span><span class="p">:</span>
</span><span id="Bugzilla-1713"><a href="#Bugzilla-1713"><span class="linenos">1713</span></a>            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;include_fields&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">include_fields</span><span class="p">)</span>
</span><span id="Bugzilla-1714"><a href="#Bugzilla-1714"><span class="linenos">1714</span></a>        <span class="k">if</span> <span class="n">exclude_fields</span><span class="p">:</span>
</span><span id="Bugzilla-1715"><a href="#Bugzilla-1715"><span class="linenos">1715</span></a>            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;exclude_fields&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">exclude_fields</span><span class="p">)</span>
</span><span id="Bugzilla-1716"><a href="#Bugzilla-1716"><span class="linenos">1716</span></a>
</span><span id="Bugzilla-1717"><a href="#Bugzilla-1717"><span class="linenos">1717</span></a>        <span class="k">if</span> <span class="n">attachment_ids</span><span class="p">:</span>
</span><span id="Bugzilla-1718"><a href="#Bugzilla-1718"><span class="linenos">1718</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_attachment_get</span><span class="p">(</span><span class="n">attachment_ids</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
</span><span id="Bugzilla-1719"><a href="#Bugzilla-1719"><span class="linenos">1719</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_attachment_get_all</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
</span><span id="Bugzilla-1720"><a href="#Bugzilla-1720"><span class="linenos">1720</span></a>
</span><span id="Bugzilla-1721"><a href="#Bugzilla-1721"><span class="linenos">1721</span></a>
</span><span id="Bugzilla-1722"><a href="#Bugzilla-1722"><span class="linenos">1722</span></a>    <span class="c1">#####################</span>
</span><span id="Bugzilla-1723"><a href="#Bugzilla-1723"><span class="linenos">1723</span></a>    <span class="c1"># createbug methods #</span>
</span><span id="Bugzilla-1724"><a href="#Bugzilla-1724"><span class="linenos">1724</span></a>    <span class="c1">#####################</span>
</span><span id="Bugzilla-1725"><a href="#Bugzilla-1725"><span class="linenos">1725</span></a>
</span><span id="Bugzilla-1726"><a href="#Bugzilla-1726"><span class="linenos">1726</span></a>    <span class="n">createbug_required</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;product&#39;</span><span class="p">,</span> <span class="s1">&#39;component&#39;</span><span class="p">,</span> <span class="s1">&#39;summary&#39;</span><span class="p">,</span> <span class="s1">&#39;version&#39;</span><span class="p">,</span>
</span><span id="Bugzilla-1727"><a href="#Bugzilla-1727"><span class="linenos">1727</span></a>                          <span class="s1">&#39;description&#39;</span><span class="p">)</span>
</span><span id="Bugzilla-1728"><a href="#Bugzilla-1728"><span class="linenos">1728</span></a>
</span><span id="Bugzilla-1729"><a href="#Bugzilla-1729"><span class="linenos">1729</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">build_createbug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
</span><span id="Bugzilla-1730"><a href="#Bugzilla-1730"><span class="linenos">1730</span></a>        <span class="n">product</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1731"><a href="#Bugzilla-1731"><span class="linenos">1731</span></a>        <span class="n">component</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1732"><a href="#Bugzilla-1732"><span class="linenos">1732</span></a>        <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1733"><a href="#Bugzilla-1733"><span class="linenos">1733</span></a>        <span class="n">summary</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1734"><a href="#Bugzilla-1734"><span class="linenos">1734</span></a>        <span class="n">description</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1735"><a href="#Bugzilla-1735"><span class="linenos">1735</span></a>        <span class="n">comment_private</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1736"><a href="#Bugzilla-1736"><span class="linenos">1736</span></a>        <span class="n">blocks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1737"><a href="#Bugzilla-1737"><span class="linenos">1737</span></a>        <span class="n">cc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1738"><a href="#Bugzilla-1738"><span class="linenos">1738</span></a>        <span class="n">assigned_to</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1739"><a href="#Bugzilla-1739"><span class="linenos">1739</span></a>        <span class="n">keywords</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1740"><a href="#Bugzilla-1740"><span class="linenos">1740</span></a>        <span class="n">depends_on</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1741"><a href="#Bugzilla-1741"><span class="linenos">1741</span></a>        <span class="n">groups</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1742"><a href="#Bugzilla-1742"><span class="linenos">1742</span></a>        <span class="n">op_sys</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1743"><a href="#Bugzilla-1743"><span class="linenos">1743</span></a>        <span class="n">platform</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1744"><a href="#Bugzilla-1744"><span class="linenos">1744</span></a>        <span class="n">priority</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1745"><a href="#Bugzilla-1745"><span class="linenos">1745</span></a>        <span class="n">qa_contact</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1746"><a href="#Bugzilla-1746"><span class="linenos">1746</span></a>        <span class="n">resolution</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1747"><a href="#Bugzilla-1747"><span class="linenos">1747</span></a>        <span class="n">severity</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1748"><a href="#Bugzilla-1748"><span class="linenos">1748</span></a>        <span class="n">status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1749"><a href="#Bugzilla-1749"><span class="linenos">1749</span></a>        <span class="n">target_milestone</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1750"><a href="#Bugzilla-1750"><span class="linenos">1750</span></a>        <span class="n">target_release</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1751"><a href="#Bugzilla-1751"><span class="linenos">1751</span></a>        <span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1752"><a href="#Bugzilla-1752"><span class="linenos">1752</span></a>        <span class="n">sub_component</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1753"><a href="#Bugzilla-1753"><span class="linenos">1753</span></a>        <span class="n">alias</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-1754"><a href="#Bugzilla-1754"><span class="linenos">1754</span></a>        <span class="n">comment_tags</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla-1755"><a href="#Bugzilla-1755"><span class="linenos">1755</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1756"><a href="#Bugzilla-1756"><span class="linenos">1756</span></a><span class="sd">        Returns a python dict() with properly formatted parameters to</span>
</span><span id="Bugzilla-1757"><a href="#Bugzilla-1757"><span class="linenos">1757</span></a><span class="sd">        pass to createbug(). See bugzilla documentation for the format</span>
</span><span id="Bugzilla-1758"><a href="#Bugzilla-1758"><span class="linenos">1758</span></a><span class="sd">        of the individual fields:</span>
</span><span id="Bugzilla-1759"><a href="#Bugzilla-1759"><span class="linenos">1759</span></a>
</span><span id="Bugzilla-1760"><a href="#Bugzilla-1760"><span class="linenos">1760</span></a><span class="sd">        https://bugzilla.readthedocs.io/en/latest/api/core/v1/bug.html#update-bug</span>
</span><span id="Bugzilla-1761"><a href="#Bugzilla-1761"><span class="linenos">1761</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1762"><a href="#Bugzilla-1762"><span class="linenos">1762</span></a>
</span><span id="Bugzilla-1763"><a href="#Bugzilla-1763"><span class="linenos">1763</span></a>        <span class="n">localdict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla-1764"><a href="#Bugzilla-1764"><span class="linenos">1764</span></a>        <span class="k">if</span> <span class="n">blocks</span><span class="p">:</span>
</span><span id="Bugzilla-1765"><a href="#Bugzilla-1765"><span class="linenos">1765</span></a>            <span class="n">localdict</span><span class="p">[</span><span class="s2">&quot;blocks&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">blocks</span><span class="p">)</span>
</span><span id="Bugzilla-1766"><a href="#Bugzilla-1766"><span class="linenos">1766</span></a>        <span class="k">if</span> <span class="n">cc</span><span class="p">:</span>
</span><span id="Bugzilla-1767"><a href="#Bugzilla-1767"><span class="linenos">1767</span></a>            <span class="n">localdict</span><span class="p">[</span><span class="s2">&quot;cc&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">cc</span><span class="p">)</span>
</span><span id="Bugzilla-1768"><a href="#Bugzilla-1768"><span class="linenos">1768</span></a>        <span class="k">if</span> <span class="n">depends_on</span><span class="p">:</span>
</span><span id="Bugzilla-1769"><a href="#Bugzilla-1769"><span class="linenos">1769</span></a>            <span class="n">localdict</span><span class="p">[</span><span class="s2">&quot;depends_on&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">depends_on</span><span class="p">)</span>
</span><span id="Bugzilla-1770"><a href="#Bugzilla-1770"><span class="linenos">1770</span></a>        <span class="k">if</span> <span class="n">groups</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-1771"><a href="#Bugzilla-1771"><span class="linenos">1771</span></a>            <span class="n">localdict</span><span class="p">[</span><span class="s2">&quot;groups&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">groups</span><span class="p">)</span>
</span><span id="Bugzilla-1772"><a href="#Bugzilla-1772"><span class="linenos">1772</span></a>        <span class="k">if</span> <span class="n">keywords</span><span class="p">:</span>
</span><span id="Bugzilla-1773"><a href="#Bugzilla-1773"><span class="linenos">1773</span></a>            <span class="n">localdict</span><span class="p">[</span><span class="s2">&quot;keywords&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">keywords</span><span class="p">)</span>
</span><span id="Bugzilla-1774"><a href="#Bugzilla-1774"><span class="linenos">1774</span></a>        <span class="k">if</span> <span class="n">description</span><span class="p">:</span>
</span><span id="Bugzilla-1775"><a href="#Bugzilla-1775"><span class="linenos">1775</span></a>            <span class="n">localdict</span><span class="p">[</span><span class="s2">&quot;description&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">description</span>
</span><span id="Bugzilla-1776"><a href="#Bugzilla-1776"><span class="linenos">1776</span></a>            <span class="k">if</span> <span class="n">comment_private</span><span class="p">:</span>
</span><span id="Bugzilla-1777"><a href="#Bugzilla-1777"><span class="linenos">1777</span></a>                <span class="n">localdict</span><span class="p">[</span><span class="s2">&quot;comment_is_private&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Bugzilla-1778"><a href="#Bugzilla-1778"><span class="linenos">1778</span></a>
</span><span id="Bugzilla-1779"><a href="#Bugzilla-1779"><span class="linenos">1779</span></a>        <span class="c1"># Most of the machinery and formatting here is the same as</span>
</span><span id="Bugzilla-1780"><a href="#Bugzilla-1780"><span class="linenos">1780</span></a>        <span class="c1"># build_update, so reuse that as much as possible</span>
</span><span id="Bugzilla-1781"><a href="#Bugzilla-1781"><span class="linenos">1781</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_update</span><span class="p">(</span><span class="n">product</span><span class="o">=</span><span class="n">product</span><span class="p">,</span> <span class="n">component</span><span class="o">=</span><span class="n">component</span><span class="p">,</span>
</span><span id="Bugzilla-1782"><a href="#Bugzilla-1782"><span class="linenos">1782</span></a>                <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span> <span class="n">summary</span><span class="o">=</span><span class="n">summary</span><span class="p">,</span> <span class="n">op_sys</span><span class="o">=</span><span class="n">op_sys</span><span class="p">,</span>
</span><span id="Bugzilla-1783"><a href="#Bugzilla-1783"><span class="linenos">1783</span></a>                <span class="n">platform</span><span class="o">=</span><span class="n">platform</span><span class="p">,</span> <span class="n">priority</span><span class="o">=</span><span class="n">priority</span><span class="p">,</span> <span class="n">qa_contact</span><span class="o">=</span><span class="n">qa_contact</span><span class="p">,</span>
</span><span id="Bugzilla-1784"><a href="#Bugzilla-1784"><span class="linenos">1784</span></a>                <span class="n">resolution</span><span class="o">=</span><span class="n">resolution</span><span class="p">,</span> <span class="n">severity</span><span class="o">=</span><span class="n">severity</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
</span><span id="Bugzilla-1785"><a href="#Bugzilla-1785"><span class="linenos">1785</span></a>                <span class="n">target_milestone</span><span class="o">=</span><span class="n">target_milestone</span><span class="p">,</span>
</span><span id="Bugzilla-1786"><a href="#Bugzilla-1786"><span class="linenos">1786</span></a>                <span class="n">target_release</span><span class="o">=</span><span class="n">target_release</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
</span><span id="Bugzilla-1787"><a href="#Bugzilla-1787"><span class="linenos">1787</span></a>                <span class="n">assigned_to</span><span class="o">=</span><span class="n">assigned_to</span><span class="p">,</span> <span class="n">sub_component</span><span class="o">=</span><span class="n">sub_component</span><span class="p">,</span>
</span><span id="Bugzilla-1788"><a href="#Bugzilla-1788"><span class="linenos">1788</span></a>                <span class="n">alias</span><span class="o">=</span><span class="n">alias</span><span class="p">,</span> <span class="n">comment_tags</span><span class="o">=</span><span class="n">comment_tags</span><span class="p">)</span>
</span><span id="Bugzilla-1789"><a href="#Bugzilla-1789"><span class="linenos">1789</span></a>
</span><span id="Bugzilla-1790"><a href="#Bugzilla-1790"><span class="linenos">1790</span></a>        <span class="n">ret</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">localdict</span><span class="p">)</span>
</span><span id="Bugzilla-1791"><a href="#Bugzilla-1791"><span class="linenos">1791</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="Bugzilla-1792"><a href="#Bugzilla-1792"><span class="linenos">1792</span></a>
</span><span id="Bugzilla-1793"><a href="#Bugzilla-1793"><span class="linenos">1793</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_validate_createbug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Bugzilla-1794"><a href="#Bugzilla-1794"><span class="linenos">1794</span></a>        <span class="c1"># Previous API required users specifying keyword args that mapped</span>
</span><span id="Bugzilla-1795"><a href="#Bugzilla-1795"><span class="linenos">1795</span></a>        <span class="c1"># to the XMLRPC arg names. Maintain that bad compat, but also allow</span>
</span><span id="Bugzilla-1796"><a href="#Bugzilla-1796"><span class="linenos">1796</span></a>        <span class="c1"># receiving a single dictionary like query() does</span>
</span><span id="Bugzilla-1797"><a href="#Bugzilla-1797"><span class="linenos">1797</span></a>        <span class="k">if</span> <span class="n">kwargs</span> <span class="ow">and</span> <span class="n">args</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
</span><span id="Bugzilla-1798"><a href="#Bugzilla-1798"><span class="linenos">1798</span></a>            <span class="k">raise</span> <span class="n">BugzillaError</span><span class="p">(</span><span class="s2">&quot;createbug: cannot specify positional &quot;</span>
</span><span id="Bugzilla-1799"><a href="#Bugzilla-1799"><span class="linenos">1799</span></a>                                <span class="s2">&quot;args=</span><span class="si">%s</span><span class="s2"> with kwargs=</span><span class="si">%s</span><span class="s2">, must be one or the &quot;</span>
</span><span id="Bugzilla-1800"><a href="#Bugzilla-1800"><span class="linenos">1800</span></a>                                <span class="s2">&quot;other.&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">))</span>
</span><span id="Bugzilla-1801"><a href="#Bugzilla-1801"><span class="linenos">1801</span></a>        <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
</span><span id="Bugzilla-1802"><a href="#Bugzilla-1802"><span class="linenos">1802</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="Bugzilla-1803"><a href="#Bugzilla-1803"><span class="linenos">1803</span></a>                <span class="k">raise</span> <span class="n">BugzillaError</span><span class="p">(</span>  <span class="c1"># pragma: no cover</span>
</span><span id="Bugzilla-1804"><a href="#Bugzilla-1804"><span class="linenos">1804</span></a>                    <span class="s2">&quot;createbug: positional arguments only &quot;</span>
</span><span id="Bugzilla-1805"><a href="#Bugzilla-1805"><span class="linenos">1805</span></a>                    <span class="s2">&quot;accept a single dictionary.&quot;</span><span class="p">)</span>
</span><span id="Bugzilla-1806"><a href="#Bugzilla-1806"><span class="linenos">1806</span></a>            <span class="n">data</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Bugzilla-1807"><a href="#Bugzilla-1807"><span class="linenos">1807</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Bugzilla-1808"><a href="#Bugzilla-1808"><span class="linenos">1808</span></a>            <span class="n">data</span> <span class="o">=</span> <span class="n">kwargs</span>
</span><span id="Bugzilla-1809"><a href="#Bugzilla-1809"><span class="linenos">1809</span></a>
</span><span id="Bugzilla-1810"><a href="#Bugzilla-1810"><span class="linenos">1810</span></a>        <span class="c1"># If we&#39;re getting a call that uses an old fieldname, convert it to the</span>
</span><span id="Bugzilla-1811"><a href="#Bugzilla-1811"><span class="linenos">1811</span></a>        <span class="c1"># new fieldname instead.</span>
</span><span id="Bugzilla-1812"><a href="#Bugzilla-1812"><span class="linenos">1812</span></a>        <span class="k">for</span> <span class="n">newname</span><span class="p">,</span> <span class="n">oldname</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_api_aliases</span><span class="p">():</span>
</span><span id="Bugzilla-1813"><a href="#Bugzilla-1813"><span class="linenos">1813</span></a>            <span class="k">if</span> <span class="p">(</span><span class="n">newname</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">createbug_required</span> <span class="ow">and</span>
</span><span id="Bugzilla-1814"><a href="#Bugzilla-1814"><span class="linenos">1814</span></a>                <span class="n">newname</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span>
</span><span id="Bugzilla-1815"><a href="#Bugzilla-1815"><span class="linenos">1815</span></a>                <span class="n">oldname</span> <span class="ow">in</span> <span class="n">data</span><span class="p">):</span>
</span><span id="Bugzilla-1816"><a href="#Bugzilla-1816"><span class="linenos">1816</span></a>                <span class="n">data</span><span class="p">[</span><span class="n">newname</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">oldname</span><span class="p">)</span>
</span><span id="Bugzilla-1817"><a href="#Bugzilla-1817"><span class="linenos">1817</span></a>
</span><span id="Bugzilla-1818"><a href="#Bugzilla-1818"><span class="linenos">1818</span></a>        <span class="c1"># Back compat handling for check_args</span>
</span><span id="Bugzilla-1819"><a href="#Bugzilla-1819"><span class="linenos">1819</span></a>        <span class="k">if</span> <span class="s2">&quot;check_args&quot;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
</span><span id="Bugzilla-1820"><a href="#Bugzilla-1820"><span class="linenos">1820</span></a>            <span class="k">del</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;check_args&quot;</span><span class="p">]</span>
</span><span id="Bugzilla-1821"><a href="#Bugzilla-1821"><span class="linenos">1821</span></a>
</span><span id="Bugzilla-1822"><a href="#Bugzilla-1822"><span class="linenos">1822</span></a>        <span class="k">return</span> <span class="n">data</span>
</span><span id="Bugzilla-1823"><a href="#Bugzilla-1823"><span class="linenos">1823</span></a>
</span><span id="Bugzilla-1824"><a href="#Bugzilla-1824"><span class="linenos">1824</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">createbug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Bugzilla-1825"><a href="#Bugzilla-1825"><span class="linenos">1825</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1826"><a href="#Bugzilla-1826"><span class="linenos">1826</span></a><span class="sd">        Create a bug with the given info. Returns a new Bug object.</span>
</span><span id="Bugzilla-1827"><a href="#Bugzilla-1827"><span class="linenos">1827</span></a><span class="sd">        Check bugzilla API documentation for valid values, at least</span>
</span><span id="Bugzilla-1828"><a href="#Bugzilla-1828"><span class="linenos">1828</span></a><span class="sd">        product, component, summary, version, and description need to</span>
</span><span id="Bugzilla-1829"><a href="#Bugzilla-1829"><span class="linenos">1829</span></a><span class="sd">        be passed.</span>
</span><span id="Bugzilla-1830"><a href="#Bugzilla-1830"><span class="linenos">1830</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1831"><a href="#Bugzilla-1831"><span class="linenos">1831</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_createbug</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Bugzilla-1832"><a href="#Bugzilla-1832"><span class="linenos">1832</span></a>        <span class="n">rawbug</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_create</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="Bugzilla-1833"><a href="#Bugzilla-1833"><span class="linenos">1833</span></a>        <span class="k">return</span> <span class="n">Bug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bug_id</span><span class="o">=</span><span class="n">rawbug</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span>
</span><span id="Bugzilla-1834"><a href="#Bugzilla-1834"><span class="linenos">1834</span></a>                   <span class="n">autorefresh</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bug_autorefresh</span><span class="p">)</span>
</span><span id="Bugzilla-1835"><a href="#Bugzilla-1835"><span class="linenos">1835</span></a>
</span><span id="Bugzilla-1836"><a href="#Bugzilla-1836"><span class="linenos">1836</span></a>
</span><span id="Bugzilla-1837"><a href="#Bugzilla-1837"><span class="linenos">1837</span></a>    <span class="c1">##############################</span>
</span><span id="Bugzilla-1838"><a href="#Bugzilla-1838"><span class="linenos">1838</span></a>    <span class="c1"># Methods for handling Users #</span>
</span><span id="Bugzilla-1839"><a href="#Bugzilla-1839"><span class="linenos">1839</span></a>    <span class="c1">##############################</span>
</span><span id="Bugzilla-1840"><a href="#Bugzilla-1840"><span class="linenos">1840</span></a>
</span><span id="Bugzilla-1841"><a href="#Bugzilla-1841"><span class="linenos">1841</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getuser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">):</span>
</span><span id="Bugzilla-1842"><a href="#Bugzilla-1842"><span class="linenos">1842</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1843"><a href="#Bugzilla-1843"><span class="linenos">1843</span></a><span class="sd">        Return a bugzilla User for the given username</span>
</span><span id="Bugzilla-1844"><a href="#Bugzilla-1844"><span class="linenos">1844</span></a>
</span><span id="Bugzilla-1845"><a href="#Bugzilla-1845"><span class="linenos">1845</span></a><span class="sd">        :arg username: The username used in bugzilla.</span>
</span><span id="Bugzilla-1846"><a href="#Bugzilla-1846"><span class="linenos">1846</span></a><span class="sd">        :raises XMLRPC Fault: Code 51 if the username does not exist</span>
</span><span id="Bugzilla-1847"><a href="#Bugzilla-1847"><span class="linenos">1847</span></a><span class="sd">        :returns: User record for the username</span>
</span><span id="Bugzilla-1848"><a href="#Bugzilla-1848"><span class="linenos">1848</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1849"><a href="#Bugzilla-1849"><span class="linenos">1849</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getusers</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
</span><span id="Bugzilla-1850"><a href="#Bugzilla-1850"><span class="linenos">1850</span></a>        <span class="k">return</span> <span class="n">ret</span> <span class="ow">and</span> <span class="n">ret</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Bugzilla-1851"><a href="#Bugzilla-1851"><span class="linenos">1851</span></a>
</span><span id="Bugzilla-1852"><a href="#Bugzilla-1852"><span class="linenos">1852</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getusers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">userlist</span><span class="p">):</span>
</span><span id="Bugzilla-1853"><a href="#Bugzilla-1853"><span class="linenos">1853</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1854"><a href="#Bugzilla-1854"><span class="linenos">1854</span></a><span class="sd">        Return a list of Users from .</span>
</span><span id="Bugzilla-1855"><a href="#Bugzilla-1855"><span class="linenos">1855</span></a>
</span><span id="Bugzilla-1856"><a href="#Bugzilla-1856"><span class="linenos">1856</span></a><span class="sd">        :userlist: List of usernames to lookup</span>
</span><span id="Bugzilla-1857"><a href="#Bugzilla-1857"><span class="linenos">1857</span></a><span class="sd">        :returns: List of User records</span>
</span><span id="Bugzilla-1858"><a href="#Bugzilla-1858"><span class="linenos">1858</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1859"><a href="#Bugzilla-1859"><span class="linenos">1859</span></a>        <span class="n">userlist</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">userlist</span><span class="p">)</span>
</span><span id="Bugzilla-1860"><a href="#Bugzilla-1860"><span class="linenos">1860</span></a>        <span class="n">rawusers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">user_get</span><span class="p">({</span><span class="s2">&quot;names&quot;</span><span class="p">:</span> <span class="n">userlist</span><span class="p">})</span>
</span><span id="Bugzilla-1861"><a href="#Bugzilla-1861"><span class="linenos">1861</span></a>        <span class="n">userobjs</span> <span class="o">=</span> <span class="p">[</span><span class="n">User</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">rawuser</span><span class="p">)</span> <span class="k">for</span> <span class="n">rawuser</span> <span class="ow">in</span>
</span><span id="Bugzilla-1862"><a href="#Bugzilla-1862"><span class="linenos">1862</span></a>                    <span class="n">rawusers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">,</span> <span class="p">[])]</span>
</span><span id="Bugzilla-1863"><a href="#Bugzilla-1863"><span class="linenos">1863</span></a>
</span><span id="Bugzilla-1864"><a href="#Bugzilla-1864"><span class="linenos">1864</span></a>        <span class="c1"># Return users in same order they were passed in</span>
</span><span id="Bugzilla-1865"><a href="#Bugzilla-1865"><span class="linenos">1865</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Bugzilla-1866"><a href="#Bugzilla-1866"><span class="linenos">1866</span></a>        <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">userlist</span><span class="p">:</span>
</span><span id="Bugzilla-1867"><a href="#Bugzilla-1867"><span class="linenos">1867</span></a>            <span class="k">for</span> <span class="n">uobj</span> <span class="ow">in</span> <span class="n">userobjs</span><span class="p">[:]:</span>
</span><span id="Bugzilla-1868"><a href="#Bugzilla-1868"><span class="linenos">1868</span></a>                <span class="k">if</span> <span class="n">uobj</span><span class="o">.</span><span class="n">email</span> <span class="o">==</span> <span class="n">u</span><span class="p">:</span>
</span><span id="Bugzilla-1869"><a href="#Bugzilla-1869"><span class="linenos">1869</span></a>                    <span class="n">userobjs</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">uobj</span><span class="p">)</span>
</span><span id="Bugzilla-1870"><a href="#Bugzilla-1870"><span class="linenos">1870</span></a>                    <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">uobj</span><span class="p">)</span>
</span><span id="Bugzilla-1871"><a href="#Bugzilla-1871"><span class="linenos">1871</span></a>                    <span class="k">break</span>
</span><span id="Bugzilla-1872"><a href="#Bugzilla-1872"><span class="linenos">1872</span></a>        <span class="n">ret</span> <span class="o">+=</span> <span class="n">userobjs</span>
</span><span id="Bugzilla-1873"><a href="#Bugzilla-1873"><span class="linenos">1873</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="Bugzilla-1874"><a href="#Bugzilla-1874"><span class="linenos">1874</span></a>
</span><span id="Bugzilla-1875"><a href="#Bugzilla-1875"><span class="linenos">1875</span></a>
</span><span id="Bugzilla-1876"><a href="#Bugzilla-1876"><span class="linenos">1876</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">searchusers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">):</span>
</span><span id="Bugzilla-1877"><a href="#Bugzilla-1877"><span class="linenos">1877</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1878"><a href="#Bugzilla-1878"><span class="linenos">1878</span></a><span class="sd">        Return a bugzilla User for the given list of patterns</span>
</span><span id="Bugzilla-1879"><a href="#Bugzilla-1879"><span class="linenos">1879</span></a>
</span><span id="Bugzilla-1880"><a href="#Bugzilla-1880"><span class="linenos">1880</span></a><span class="sd">        :arg pattern: List of patterns to match against.</span>
</span><span id="Bugzilla-1881"><a href="#Bugzilla-1881"><span class="linenos">1881</span></a><span class="sd">        :returns: List of User records</span>
</span><span id="Bugzilla-1882"><a href="#Bugzilla-1882"><span class="linenos">1882</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1883"><a href="#Bugzilla-1883"><span class="linenos">1883</span></a>        <span class="n">rawusers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">user_get</span><span class="p">({</span><span class="s2">&quot;match&quot;</span><span class="p">:</span> <span class="n">listify</span><span class="p">(</span><span class="n">pattern</span><span class="p">)})</span>
</span><span id="Bugzilla-1884"><a href="#Bugzilla-1884"><span class="linenos">1884</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">User</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">rawuser</span><span class="p">)</span> <span class="k">for</span> <span class="n">rawuser</span> <span class="ow">in</span>
</span><span id="Bugzilla-1885"><a href="#Bugzilla-1885"><span class="linenos">1885</span></a>                <span class="n">rawusers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">,</span> <span class="p">[])]</span>
</span><span id="Bugzilla-1886"><a href="#Bugzilla-1886"><span class="linenos">1886</span></a>
</span><span id="Bugzilla-1887"><a href="#Bugzilla-1887"><span class="linenos">1887</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">createuser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
</span><span id="Bugzilla-1888"><a href="#Bugzilla-1888"><span class="linenos">1888</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1889"><a href="#Bugzilla-1889"><span class="linenos">1889</span></a><span class="sd">        Return a bugzilla User for the given username</span>
</span><span id="Bugzilla-1890"><a href="#Bugzilla-1890"><span class="linenos">1890</span></a>
</span><span id="Bugzilla-1891"><a href="#Bugzilla-1891"><span class="linenos">1891</span></a><span class="sd">        :arg email: The email address to use in bugzilla</span>
</span><span id="Bugzilla-1892"><a href="#Bugzilla-1892"><span class="linenos">1892</span></a><span class="sd">        :kwarg name: Real name to associate with the account</span>
</span><span id="Bugzilla-1893"><a href="#Bugzilla-1893"><span class="linenos">1893</span></a><span class="sd">        :kwarg password: Password to set for the bugzilla account</span>
</span><span id="Bugzilla-1894"><a href="#Bugzilla-1894"><span class="linenos">1894</span></a><span class="sd">        :raises XMLRPC Fault: Code 501 if the username already exists</span>
</span><span id="Bugzilla-1895"><a href="#Bugzilla-1895"><span class="linenos">1895</span></a><span class="sd">            Code 500 if the email address isn&#39;t valid</span>
</span><span id="Bugzilla-1896"><a href="#Bugzilla-1896"><span class="linenos">1896</span></a><span class="sd">            Code 502 if the password is too short</span>
</span><span id="Bugzilla-1897"><a href="#Bugzilla-1897"><span class="linenos">1897</span></a><span class="sd">            Code 503 if the password is too long</span>
</span><span id="Bugzilla-1898"><a href="#Bugzilla-1898"><span class="linenos">1898</span></a><span class="sd">        :return: User record for the username</span>
</span><span id="Bugzilla-1899"><a href="#Bugzilla-1899"><span class="linenos">1899</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1900"><a href="#Bugzilla-1900"><span class="linenos">1900</span></a>        <span class="n">args</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="n">email</span><span class="p">}</span>
</span><span id="Bugzilla-1901"><a href="#Bugzilla-1901"><span class="linenos">1901</span></a>        <span class="k">if</span> <span class="n">name</span><span class="p">:</span>
</span><span id="Bugzilla-1902"><a href="#Bugzilla-1902"><span class="linenos">1902</span></a>            <span class="n">args</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="Bugzilla-1903"><a href="#Bugzilla-1903"><span class="linenos">1903</span></a>        <span class="k">if</span> <span class="n">password</span><span class="p">:</span>
</span><span id="Bugzilla-1904"><a href="#Bugzilla-1904"><span class="linenos">1904</span></a>            <span class="n">args</span><span class="p">[</span><span class="s2">&quot;password&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">password</span>
</span><span id="Bugzilla-1905"><a href="#Bugzilla-1905"><span class="linenos">1905</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">user_create</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</span><span id="Bugzilla-1906"><a href="#Bugzilla-1906"><span class="linenos">1906</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">getuser</span><span class="p">(</span><span class="n">email</span><span class="p">)</span>
</span><span id="Bugzilla-1907"><a href="#Bugzilla-1907"><span class="linenos">1907</span></a>
</span><span id="Bugzilla-1908"><a href="#Bugzilla-1908"><span class="linenos">1908</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">updateperms</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">groups</span><span class="p">):</span>
</span><span id="Bugzilla-1909"><a href="#Bugzilla-1909"><span class="linenos">1909</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1910"><a href="#Bugzilla-1910"><span class="linenos">1910</span></a><span class="sd">        A method to update the permissions (group membership) of a bugzilla</span>
</span><span id="Bugzilla-1911"><a href="#Bugzilla-1911"><span class="linenos">1911</span></a><span class="sd">        user.</span>
</span><span id="Bugzilla-1912"><a href="#Bugzilla-1912"><span class="linenos">1912</span></a>
</span><span id="Bugzilla-1913"><a href="#Bugzilla-1913"><span class="linenos">1913</span></a><span class="sd">        :arg user: The e-mail address of the user to be acted upon. Can</span>
</span><span id="Bugzilla-1914"><a href="#Bugzilla-1914"><span class="linenos">1914</span></a><span class="sd">            also be a list of emails.</span>
</span><span id="Bugzilla-1915"><a href="#Bugzilla-1915"><span class="linenos">1915</span></a><span class="sd">        :arg action: add, remove, or set</span>
</span><span id="Bugzilla-1916"><a href="#Bugzilla-1916"><span class="linenos">1916</span></a><span class="sd">        :arg groups: list of groups to be added to (i.e. [&#39;fedora_contrib&#39;])</span>
</span><span id="Bugzilla-1917"><a href="#Bugzilla-1917"><span class="linenos">1917</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1918"><a href="#Bugzilla-1918"><span class="linenos">1918</span></a>        <span class="n">groups</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">groups</span><span class="p">)</span>
</span><span id="Bugzilla-1919"><a href="#Bugzilla-1919"><span class="linenos">1919</span></a>        <span class="k">if</span> <span class="n">action</span> <span class="o">==</span> <span class="s2">&quot;rem&quot;</span><span class="p">:</span>
</span><span id="Bugzilla-1920"><a href="#Bugzilla-1920"><span class="linenos">1920</span></a>            <span class="n">action</span> <span class="o">=</span> <span class="s2">&quot;remove&quot;</span>
</span><span id="Bugzilla-1921"><a href="#Bugzilla-1921"><span class="linenos">1921</span></a>        <span class="k">if</span> <span class="n">action</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;add&quot;</span><span class="p">,</span> <span class="s2">&quot;remove&quot;</span><span class="p">,</span> <span class="s2">&quot;set&quot;</span><span class="p">]:</span>
</span><span id="Bugzilla-1922"><a href="#Bugzilla-1922"><span class="linenos">1922</span></a>            <span class="k">raise</span> <span class="n">BugzillaError</span><span class="p">(</span><span class="s2">&quot;Unknown user permission action &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="n">action</span><span class="p">)</span>
</span><span id="Bugzilla-1923"><a href="#Bugzilla-1923"><span class="linenos">1923</span></a>
</span><span id="Bugzilla-1924"><a href="#Bugzilla-1924"><span class="linenos">1924</span></a>        <span class="n">update</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Bugzilla-1925"><a href="#Bugzilla-1925"><span class="linenos">1925</span></a>            <span class="s2">&quot;names&quot;</span><span class="p">:</span> <span class="n">listify</span><span class="p">(</span><span class="n">user</span><span class="p">),</span>
</span><span id="Bugzilla-1926"><a href="#Bugzilla-1926"><span class="linenos">1926</span></a>            <span class="s2">&quot;groups&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="Bugzilla-1927"><a href="#Bugzilla-1927"><span class="linenos">1927</span></a>                <span class="n">action</span><span class="p">:</span> <span class="n">groups</span><span class="p">,</span>
</span><span id="Bugzilla-1928"><a href="#Bugzilla-1928"><span class="linenos">1928</span></a>            <span class="p">}</span>
</span><span id="Bugzilla-1929"><a href="#Bugzilla-1929"><span class="linenos">1929</span></a>        <span class="p">}</span>
</span><span id="Bugzilla-1930"><a href="#Bugzilla-1930"><span class="linenos">1930</span></a>
</span><span id="Bugzilla-1931"><a href="#Bugzilla-1931"><span class="linenos">1931</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">user_update</span><span class="p">(</span><span class="n">update</span><span class="p">)</span>
</span><span id="Bugzilla-1932"><a href="#Bugzilla-1932"><span class="linenos">1932</span></a>
</span><span id="Bugzilla-1933"><a href="#Bugzilla-1933"><span class="linenos">1933</span></a>
</span><span id="Bugzilla-1934"><a href="#Bugzilla-1934"><span class="linenos">1934</span></a>    <span class="c1">###############################</span>
</span><span id="Bugzilla-1935"><a href="#Bugzilla-1935"><span class="linenos">1935</span></a>    <span class="c1"># Methods for handling Groups #</span>
</span><span id="Bugzilla-1936"><a href="#Bugzilla-1936"><span class="linenos">1936</span></a>    <span class="c1">###############################</span>
</span><span id="Bugzilla-1937"><a href="#Bugzilla-1937"><span class="linenos">1937</span></a>
</span><span id="Bugzilla-1938"><a href="#Bugzilla-1938"><span class="linenos">1938</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_getgroups</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">names</span><span class="p">,</span> <span class="n">membership</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Bugzilla-1939"><a href="#Bugzilla-1939"><span class="linenos">1939</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1940"><a href="#Bugzilla-1940"><span class="linenos">1940</span></a><span class="sd">        Return a list of groups that match criteria.</span>
</span><span id="Bugzilla-1941"><a href="#Bugzilla-1941"><span class="linenos">1941</span></a>
</span><span id="Bugzilla-1942"><a href="#Bugzilla-1942"><span class="linenos">1942</span></a><span class="sd">        :kwarg ids: list of group ids to return data on</span>
</span><span id="Bugzilla-1943"><a href="#Bugzilla-1943"><span class="linenos">1943</span></a><span class="sd">        :kwarg membership: boolean specifying wether to query the members</span>
</span><span id="Bugzilla-1944"><a href="#Bugzilla-1944"><span class="linenos">1944</span></a><span class="sd">            of the group or not.</span>
</span><span id="Bugzilla-1945"><a href="#Bugzilla-1945"><span class="linenos">1945</span></a><span class="sd">        :raises XMLRPC Fault: Code 51: if a Bad Login Name was sent to the</span>
</span><span id="Bugzilla-1946"><a href="#Bugzilla-1946"><span class="linenos">1946</span></a><span class="sd">                names array.</span>
</span><span id="Bugzilla-1947"><a href="#Bugzilla-1947"><span class="linenos">1947</span></a><span class="sd">            Code 304: if the user was not authorized to see user they</span>
</span><span id="Bugzilla-1948"><a href="#Bugzilla-1948"><span class="linenos">1948</span></a><span class="sd">                requested.</span>
</span><span id="Bugzilla-1949"><a href="#Bugzilla-1949"><span class="linenos">1949</span></a><span class="sd">            Code 505: user is logged out and can&#39;t use the match or ids</span>
</span><span id="Bugzilla-1950"><a href="#Bugzilla-1950"><span class="linenos">1950</span></a><span class="sd">                parameter.</span>
</span><span id="Bugzilla-1951"><a href="#Bugzilla-1951"><span class="linenos">1951</span></a><span class="sd">            Code 805: logged in user do not have enough priviledges to view</span>
</span><span id="Bugzilla-1952"><a href="#Bugzilla-1952"><span class="linenos">1952</span></a><span class="sd">                groups.</span>
</span><span id="Bugzilla-1953"><a href="#Bugzilla-1953"><span class="linenos">1953</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1954"><a href="#Bugzilla-1954"><span class="linenos">1954</span></a>        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;membership&quot;</span><span class="p">:</span> <span class="n">membership</span><span class="p">}</span>
</span><span id="Bugzilla-1955"><a href="#Bugzilla-1955"><span class="linenos">1955</span></a>        <span class="n">params</span><span class="p">[</span><span class="s1">&#39;names&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">names</span><span class="p">)</span>
</span><span id="Bugzilla-1956"><a href="#Bugzilla-1956"><span class="linenos">1956</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">group_get</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</span><span id="Bugzilla-1957"><a href="#Bugzilla-1957"><span class="linenos">1957</span></a>
</span><span id="Bugzilla-1958"><a href="#Bugzilla-1958"><span class="linenos">1958</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getgroup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">membership</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Bugzilla-1959"><a href="#Bugzilla-1959"><span class="linenos">1959</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1960"><a href="#Bugzilla-1960"><span class="linenos">1960</span></a><span class="sd">        Return a bugzilla Group for the given name</span>
</span><span id="Bugzilla-1961"><a href="#Bugzilla-1961"><span class="linenos">1961</span></a>
</span><span id="Bugzilla-1962"><a href="#Bugzilla-1962"><span class="linenos">1962</span></a><span class="sd">        :arg name: The group name used in bugzilla.</span>
</span><span id="Bugzilla-1963"><a href="#Bugzilla-1963"><span class="linenos">1963</span></a><span class="sd">        :raises XMLRPC Fault: Code 51 if the name does not exist</span>
</span><span id="Bugzilla-1964"><a href="#Bugzilla-1964"><span class="linenos">1964</span></a><span class="sd">        :raises XMLRPC Fault: Code 805 if the user does not have enough</span>
</span><span id="Bugzilla-1965"><a href="#Bugzilla-1965"><span class="linenos">1965</span></a><span class="sd">            permissions to view groups</span>
</span><span id="Bugzilla-1966"><a href="#Bugzilla-1966"><span class="linenos">1966</span></a><span class="sd">        :returns: Group record for the name</span>
</span><span id="Bugzilla-1967"><a href="#Bugzilla-1967"><span class="linenos">1967</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1968"><a href="#Bugzilla-1968"><span class="linenos">1968</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getgroups</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">membership</span><span class="o">=</span><span class="n">membership</span><span class="p">)</span>
</span><span id="Bugzilla-1969"><a href="#Bugzilla-1969"><span class="linenos">1969</span></a>        <span class="k">return</span> <span class="n">ret</span> <span class="ow">and</span> <span class="n">ret</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Bugzilla-1970"><a href="#Bugzilla-1970"><span class="linenos">1970</span></a>
</span><span id="Bugzilla-1971"><a href="#Bugzilla-1971"><span class="linenos">1971</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getgroups</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">grouplist</span><span class="p">,</span> <span class="n">membership</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Bugzilla-1972"><a href="#Bugzilla-1972"><span class="linenos">1972</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-1973"><a href="#Bugzilla-1973"><span class="linenos">1973</span></a><span class="sd">        Return a list of Groups from .</span>
</span><span id="Bugzilla-1974"><a href="#Bugzilla-1974"><span class="linenos">1974</span></a>
</span><span id="Bugzilla-1975"><a href="#Bugzilla-1975"><span class="linenos">1975</span></a><span class="sd">        :userlist: List of group names to lookup</span>
</span><span id="Bugzilla-1976"><a href="#Bugzilla-1976"><span class="linenos">1976</span></a><span class="sd">        :returns: List of Group records</span>
</span><span id="Bugzilla-1977"><a href="#Bugzilla-1977"><span class="linenos">1977</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-1978"><a href="#Bugzilla-1978"><span class="linenos">1978</span></a>        <span class="n">grouplist</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">grouplist</span><span class="p">)</span>
</span><span id="Bugzilla-1979"><a href="#Bugzilla-1979"><span class="linenos">1979</span></a>        <span class="n">groupobjs</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="Bugzilla-1980"><a href="#Bugzilla-1980"><span class="linenos">1980</span></a>            <span class="n">Group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">rawgroup</span><span class="p">)</span>
</span><span id="Bugzilla-1981"><a href="#Bugzilla-1981"><span class="linenos">1981</span></a>            <span class="k">for</span> <span class="n">rawgroup</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getgroups</span><span class="p">(</span>
</span><span id="Bugzilla-1982"><a href="#Bugzilla-1982"><span class="linenos">1982</span></a>                <span class="n">names</span><span class="o">=</span><span class="n">grouplist</span><span class="p">,</span> <span class="n">membership</span><span class="o">=</span><span class="n">membership</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;groups&#39;</span><span class="p">,</span> <span class="p">[])</span>
</span><span id="Bugzilla-1983"><a href="#Bugzilla-1983"><span class="linenos">1983</span></a>        <span class="p">]</span>
</span><span id="Bugzilla-1984"><a href="#Bugzilla-1984"><span class="linenos">1984</span></a>
</span><span id="Bugzilla-1985"><a href="#Bugzilla-1985"><span class="linenos">1985</span></a>        <span class="c1"># Return in same order they were passed in</span>
</span><span id="Bugzilla-1986"><a href="#Bugzilla-1986"><span class="linenos">1986</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Bugzilla-1987"><a href="#Bugzilla-1987"><span class="linenos">1987</span></a>        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">grouplist</span><span class="p">:</span>
</span><span id="Bugzilla-1988"><a href="#Bugzilla-1988"><span class="linenos">1988</span></a>            <span class="k">for</span> <span class="n">gobj</span> <span class="ow">in</span> <span class="n">groupobjs</span><span class="p">[:]:</span>
</span><span id="Bugzilla-1989"><a href="#Bugzilla-1989"><span class="linenos">1989</span></a>                <span class="k">if</span> <span class="n">gobj</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">g</span><span class="p">:</span>
</span><span id="Bugzilla-1990"><a href="#Bugzilla-1990"><span class="linenos">1990</span></a>                    <span class="n">groupobjs</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span>
</span><span id="Bugzilla-1991"><a href="#Bugzilla-1991"><span class="linenos">1991</span></a>                    <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span>
</span><span id="Bugzilla-1992"><a href="#Bugzilla-1992"><span class="linenos">1992</span></a>                    <span class="k">break</span>
</span><span id="Bugzilla-1993"><a href="#Bugzilla-1993"><span class="linenos">1993</span></a>        <span class="n">ret</span> <span class="o">+=</span> <span class="n">groupobjs</span>
</span><span id="Bugzilla-1994"><a href="#Bugzilla-1994"><span class="linenos">1994</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="Bugzilla-1995"><a href="#Bugzilla-1995"><span class="linenos">1995</span></a>
</span><span id="Bugzilla-1996"><a href="#Bugzilla-1996"><span class="linenos">1996</span></a>
</span><span id="Bugzilla-1997"><a href="#Bugzilla-1997"><span class="linenos">1997</span></a>    <span class="c1">#############################</span>
</span><span id="Bugzilla-1998"><a href="#Bugzilla-1998"><span class="linenos">1998</span></a>    <span class="c1"># ExternalBugs API wrappers #</span>
</span><span id="Bugzilla-1999"><a href="#Bugzilla-1999"><span class="linenos">1999</span></a>    <span class="c1">#############################</span>
</span><span id="Bugzilla-2000"><a href="#Bugzilla-2000"><span class="linenos">2000</span></a>
</span><span id="Bugzilla-2001"><a href="#Bugzilla-2001"><span class="linenos">2001</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">add_external_tracker</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bug_ids</span><span class="p">,</span> <span class="n">ext_bz_bug_id</span><span class="p">,</span> <span class="n">ext_type_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-2002"><a href="#Bugzilla-2002"><span class="linenos">2002</span></a>                             <span class="n">ext_type_description</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ext_type_url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-2003"><a href="#Bugzilla-2003"><span class="linenos">2003</span></a>                             <span class="n">ext_status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ext_description</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-2004"><a href="#Bugzilla-2004"><span class="linenos">2004</span></a>                             <span class="n">ext_priority</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla-2005"><a href="#Bugzilla-2005"><span class="linenos">2005</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-2006"><a href="#Bugzilla-2006"><span class="linenos">2006</span></a><span class="sd">        Wrapper method to allow adding of external tracking bugs using the</span>
</span><span id="Bugzilla-2007"><a href="#Bugzilla-2007"><span class="linenos">2007</span></a><span class="sd">        ExternalBugs::WebService::add_external_bug method.</span>
</span><span id="Bugzilla-2008"><a href="#Bugzilla-2008"><span class="linenos">2008</span></a>
</span><span id="Bugzilla-2009"><a href="#Bugzilla-2009"><span class="linenos">2009</span></a><span class="sd">        This is documented at</span>
</span><span id="Bugzilla-2010"><a href="#Bugzilla-2010"><span class="linenos">2010</span></a><span class="sd">        https://bugzilla.redhat.com/docs/en/html/integrating/api/Bugzilla/Extension/ExternalBugs/WebService.html#add-external-bug</span>
</span><span id="Bugzilla-2011"><a href="#Bugzilla-2011"><span class="linenos">2011</span></a>
</span><span id="Bugzilla-2012"><a href="#Bugzilla-2012"><span class="linenos">2012</span></a><span class="sd">        bug_ids: A single bug id or list of bug ids to have external trackers</span>
</span><span id="Bugzilla-2013"><a href="#Bugzilla-2013"><span class="linenos">2013</span></a><span class="sd">            added.</span>
</span><span id="Bugzilla-2014"><a href="#Bugzilla-2014"><span class="linenos">2014</span></a><span class="sd">        ext_bz_bug_id: The external bug id (ie: the bug number in the</span>
</span><span id="Bugzilla-2015"><a href="#Bugzilla-2015"><span class="linenos">2015</span></a><span class="sd">            external tracker).</span>
</span><span id="Bugzilla-2016"><a href="#Bugzilla-2016"><span class="linenos">2016</span></a><span class="sd">        ext_type_id: The external tracker id as used by Bugzilla.</span>
</span><span id="Bugzilla-2017"><a href="#Bugzilla-2017"><span class="linenos">2017</span></a><span class="sd">        ext_type_description: The external tracker description as used by</span>
</span><span id="Bugzilla-2018"><a href="#Bugzilla-2018"><span class="linenos">2018</span></a><span class="sd">            Bugzilla.</span>
</span><span id="Bugzilla-2019"><a href="#Bugzilla-2019"><span class="linenos">2019</span></a><span class="sd">        ext_type_url: The external tracker url as used by Bugzilla.</span>
</span><span id="Bugzilla-2020"><a href="#Bugzilla-2020"><span class="linenos">2020</span></a><span class="sd">        ext_status: The status of the external bug.</span>
</span><span id="Bugzilla-2021"><a href="#Bugzilla-2021"><span class="linenos">2021</span></a><span class="sd">        ext_description: The description of the external bug.</span>
</span><span id="Bugzilla-2022"><a href="#Bugzilla-2022"><span class="linenos">2022</span></a><span class="sd">        ext_priority: The priority of the external bug.</span>
</span><span id="Bugzilla-2023"><a href="#Bugzilla-2023"><span class="linenos">2023</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-2024"><a href="#Bugzilla-2024"><span class="linenos">2024</span></a>        <span class="n">param_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ext_bz_bug_id&#39;</span><span class="p">:</span> <span class="n">ext_bz_bug_id</span><span class="p">}</span>
</span><span id="Bugzilla-2025"><a href="#Bugzilla-2025"><span class="linenos">2025</span></a>        <span class="k">if</span> <span class="n">ext_type_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2026"><a href="#Bugzilla-2026"><span class="linenos">2026</span></a>            <span class="n">param_dict</span><span class="p">[</span><span class="s1">&#39;ext_type_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_type_id</span>
</span><span id="Bugzilla-2027"><a href="#Bugzilla-2027"><span class="linenos">2027</span></a>        <span class="k">if</span> <span class="n">ext_type_description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2028"><a href="#Bugzilla-2028"><span class="linenos">2028</span></a>            <span class="n">param_dict</span><span class="p">[</span><span class="s1">&#39;ext_type_description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_type_description</span>
</span><span id="Bugzilla-2029"><a href="#Bugzilla-2029"><span class="linenos">2029</span></a>        <span class="k">if</span> <span class="n">ext_type_url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2030"><a href="#Bugzilla-2030"><span class="linenos">2030</span></a>            <span class="n">param_dict</span><span class="p">[</span><span class="s1">&#39;ext_type_url&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_type_url</span>
</span><span id="Bugzilla-2031"><a href="#Bugzilla-2031"><span class="linenos">2031</span></a>        <span class="k">if</span> <span class="n">ext_status</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2032"><a href="#Bugzilla-2032"><span class="linenos">2032</span></a>            <span class="n">param_dict</span><span class="p">[</span><span class="s1">&#39;ext_status&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_status</span>
</span><span id="Bugzilla-2033"><a href="#Bugzilla-2033"><span class="linenos">2033</span></a>        <span class="k">if</span> <span class="n">ext_description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2034"><a href="#Bugzilla-2034"><span class="linenos">2034</span></a>            <span class="n">param_dict</span><span class="p">[</span><span class="s1">&#39;ext_description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_description</span>
</span><span id="Bugzilla-2035"><a href="#Bugzilla-2035"><span class="linenos">2035</span></a>        <span class="k">if</span> <span class="n">ext_priority</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2036"><a href="#Bugzilla-2036"><span class="linenos">2036</span></a>            <span class="n">param_dict</span><span class="p">[</span><span class="s1">&#39;ext_priority&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_priority</span>
</span><span id="Bugzilla-2037"><a href="#Bugzilla-2037"><span class="linenos">2037</span></a>        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Bugzilla-2038"><a href="#Bugzilla-2038"><span class="linenos">2038</span></a>            <span class="s1">&#39;bug_ids&#39;</span><span class="p">:</span> <span class="n">listify</span><span class="p">(</span><span class="n">bug_ids</span><span class="p">),</span>
</span><span id="Bugzilla-2039"><a href="#Bugzilla-2039"><span class="linenos">2039</span></a>            <span class="s1">&#39;external_bugs&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">param_dict</span><span class="p">],</span>
</span><span id="Bugzilla-2040"><a href="#Bugzilla-2040"><span class="linenos">2040</span></a>        <span class="p">}</span>
</span><span id="Bugzilla-2041"><a href="#Bugzilla-2041"><span class="linenos">2041</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">externalbugs_add</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</span><span id="Bugzilla-2042"><a href="#Bugzilla-2042"><span class="linenos">2042</span></a>
</span><span id="Bugzilla-2043"><a href="#Bugzilla-2043"><span class="linenos">2043</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_external_tracker</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ext_type_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-2044"><a href="#Bugzilla-2044"><span class="linenos">2044</span></a>                                <span class="n">ext_type_description</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ext_type_url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-2045"><a href="#Bugzilla-2045"><span class="linenos">2045</span></a>                                <span class="n">ext_bz_bug_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bug_ids</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-2046"><a href="#Bugzilla-2046"><span class="linenos">2046</span></a>                                <span class="n">ext_status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ext_description</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-2047"><a href="#Bugzilla-2047"><span class="linenos">2047</span></a>                                <span class="n">ext_priority</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla-2048"><a href="#Bugzilla-2048"><span class="linenos">2048</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-2049"><a href="#Bugzilla-2049"><span class="linenos">2049</span></a><span class="sd">        Wrapper method to allow adding of external tracking bugs using the</span>
</span><span id="Bugzilla-2050"><a href="#Bugzilla-2050"><span class="linenos">2050</span></a><span class="sd">        ExternalBugs::WebService::update_external_bug method.</span>
</span><span id="Bugzilla-2051"><a href="#Bugzilla-2051"><span class="linenos">2051</span></a>
</span><span id="Bugzilla-2052"><a href="#Bugzilla-2052"><span class="linenos">2052</span></a><span class="sd">        This is documented at</span>
</span><span id="Bugzilla-2053"><a href="#Bugzilla-2053"><span class="linenos">2053</span></a><span class="sd">        https://bugzilla.redhat.com/docs/en/html/integrating/api/Bugzilla/Extension/ExternalBugs/WebService.html#update-external-bug</span>
</span><span id="Bugzilla-2054"><a href="#Bugzilla-2054"><span class="linenos">2054</span></a>
</span><span id="Bugzilla-2055"><a href="#Bugzilla-2055"><span class="linenos">2055</span></a><span class="sd">        ids: A single external tracker bug id or list of external tracker bug</span>
</span><span id="Bugzilla-2056"><a href="#Bugzilla-2056"><span class="linenos">2056</span></a><span class="sd">            ids.</span>
</span><span id="Bugzilla-2057"><a href="#Bugzilla-2057"><span class="linenos">2057</span></a><span class="sd">        ext_type_id: The external tracker id as used by Bugzilla.</span>
</span><span id="Bugzilla-2058"><a href="#Bugzilla-2058"><span class="linenos">2058</span></a><span class="sd">        ext_type_description: The external tracker description as used by</span>
</span><span id="Bugzilla-2059"><a href="#Bugzilla-2059"><span class="linenos">2059</span></a><span class="sd">            Bugzilla.</span>
</span><span id="Bugzilla-2060"><a href="#Bugzilla-2060"><span class="linenos">2060</span></a><span class="sd">        ext_type_url: The external tracker url as used by Bugzilla.</span>
</span><span id="Bugzilla-2061"><a href="#Bugzilla-2061"><span class="linenos">2061</span></a><span class="sd">        ext_bz_bug_id: A single external bug id or list of external bug ids</span>
</span><span id="Bugzilla-2062"><a href="#Bugzilla-2062"><span class="linenos">2062</span></a><span class="sd">            (ie: the bug number in the external tracker).</span>
</span><span id="Bugzilla-2063"><a href="#Bugzilla-2063"><span class="linenos">2063</span></a><span class="sd">        bug_ids: A single bug id or list of bug ids to have external tracker</span>
</span><span id="Bugzilla-2064"><a href="#Bugzilla-2064"><span class="linenos">2064</span></a><span class="sd">            info updated.</span>
</span><span id="Bugzilla-2065"><a href="#Bugzilla-2065"><span class="linenos">2065</span></a><span class="sd">        ext_status: The status of the external bug.</span>
</span><span id="Bugzilla-2066"><a href="#Bugzilla-2066"><span class="linenos">2066</span></a><span class="sd">        ext_description: The description of the external bug.</span>
</span><span id="Bugzilla-2067"><a href="#Bugzilla-2067"><span class="linenos">2067</span></a><span class="sd">        ext_priority: The priority of the external bug.</span>
</span><span id="Bugzilla-2068"><a href="#Bugzilla-2068"><span class="linenos">2068</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-2069"><a href="#Bugzilla-2069"><span class="linenos">2069</span></a>        <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla-2070"><a href="#Bugzilla-2070"><span class="linenos">2070</span></a>        <span class="k">if</span> <span class="n">ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2071"><a href="#Bugzilla-2071"><span class="linenos">2071</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ids&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span>
</span><span id="Bugzilla-2072"><a href="#Bugzilla-2072"><span class="linenos">2072</span></a>        <span class="k">if</span> <span class="n">ext_type_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2073"><a href="#Bugzilla-2073"><span class="linenos">2073</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_type_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_type_id</span>
</span><span id="Bugzilla-2074"><a href="#Bugzilla-2074"><span class="linenos">2074</span></a>        <span class="k">if</span> <span class="n">ext_type_description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2075"><a href="#Bugzilla-2075"><span class="linenos">2075</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_type_description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_type_description</span>
</span><span id="Bugzilla-2076"><a href="#Bugzilla-2076"><span class="linenos">2076</span></a>        <span class="k">if</span> <span class="n">ext_type_url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2077"><a href="#Bugzilla-2077"><span class="linenos">2077</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_type_url&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_type_url</span>
</span><span id="Bugzilla-2078"><a href="#Bugzilla-2078"><span class="linenos">2078</span></a>        <span class="k">if</span> <span class="n">ext_bz_bug_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2079"><a href="#Bugzilla-2079"><span class="linenos">2079</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_bz_bug_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">ext_bz_bug_id</span><span class="p">)</span>
</span><span id="Bugzilla-2080"><a href="#Bugzilla-2080"><span class="linenos">2080</span></a>        <span class="k">if</span> <span class="n">bug_ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2081"><a href="#Bugzilla-2081"><span class="linenos">2081</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;bug_ids&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">bug_ids</span><span class="p">)</span>
</span><span id="Bugzilla-2082"><a href="#Bugzilla-2082"><span class="linenos">2082</span></a>        <span class="k">if</span> <span class="n">ext_status</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2083"><a href="#Bugzilla-2083"><span class="linenos">2083</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_status&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_status</span>
</span><span id="Bugzilla-2084"><a href="#Bugzilla-2084"><span class="linenos">2084</span></a>        <span class="k">if</span> <span class="n">ext_description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2085"><a href="#Bugzilla-2085"><span class="linenos">2085</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_description</span>
</span><span id="Bugzilla-2086"><a href="#Bugzilla-2086"><span class="linenos">2086</span></a>        <span class="k">if</span> <span class="n">ext_priority</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2087"><a href="#Bugzilla-2087"><span class="linenos">2087</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_priority&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_priority</span>
</span><span id="Bugzilla-2088"><a href="#Bugzilla-2088"><span class="linenos">2088</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">externalbugs_update</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</span><span id="Bugzilla-2089"><a href="#Bugzilla-2089"><span class="linenos">2089</span></a>
</span><span id="Bugzilla-2090"><a href="#Bugzilla-2090"><span class="linenos">2090</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">remove_external_tracker</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ext_type_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-2091"><a href="#Bugzilla-2091"><span class="linenos">2091</span></a>                                <span class="n">ext_type_description</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ext_type_url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla-2092"><a href="#Bugzilla-2092"><span class="linenos">2092</span></a>                                <span class="n">ext_bz_bug_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bug_ids</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla-2093"><a href="#Bugzilla-2093"><span class="linenos">2093</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla-2094"><a href="#Bugzilla-2094"><span class="linenos">2094</span></a><span class="sd">        Wrapper method to allow removal of external tracking bugs using the</span>
</span><span id="Bugzilla-2095"><a href="#Bugzilla-2095"><span class="linenos">2095</span></a><span class="sd">        ExternalBugs::WebService::remove_external_bug method.</span>
</span><span id="Bugzilla-2096"><a href="#Bugzilla-2096"><span class="linenos">2096</span></a>
</span><span id="Bugzilla-2097"><a href="#Bugzilla-2097"><span class="linenos">2097</span></a><span class="sd">        This is documented at</span>
</span><span id="Bugzilla-2098"><a href="#Bugzilla-2098"><span class="linenos">2098</span></a><span class="sd">        https://bugzilla.redhat.com/docs/en/html/integrating/api/Bugzilla/Extension/ExternalBugs/WebService.html#remove-external-bug</span>
</span><span id="Bugzilla-2099"><a href="#Bugzilla-2099"><span class="linenos">2099</span></a>
</span><span id="Bugzilla-2100"><a href="#Bugzilla-2100"><span class="linenos">2100</span></a><span class="sd">        ids: A single external tracker bug id or list of external tracker bug</span>
</span><span id="Bugzilla-2101"><a href="#Bugzilla-2101"><span class="linenos">2101</span></a><span class="sd">            ids.</span>
</span><span id="Bugzilla-2102"><a href="#Bugzilla-2102"><span class="linenos">2102</span></a><span class="sd">        ext_type_id: The external tracker id as used by Bugzilla.</span>
</span><span id="Bugzilla-2103"><a href="#Bugzilla-2103"><span class="linenos">2103</span></a><span class="sd">        ext_type_description: The external tracker description as used by</span>
</span><span id="Bugzilla-2104"><a href="#Bugzilla-2104"><span class="linenos">2104</span></a><span class="sd">            Bugzilla.</span>
</span><span id="Bugzilla-2105"><a href="#Bugzilla-2105"><span class="linenos">2105</span></a><span class="sd">        ext_type_url: The external tracker url as used by Bugzilla.</span>
</span><span id="Bugzilla-2106"><a href="#Bugzilla-2106"><span class="linenos">2106</span></a><span class="sd">        ext_bz_bug_id: A single external bug id or list of external bug ids</span>
</span><span id="Bugzilla-2107"><a href="#Bugzilla-2107"><span class="linenos">2107</span></a><span class="sd">            (ie: the bug number in the external tracker).</span>
</span><span id="Bugzilla-2108"><a href="#Bugzilla-2108"><span class="linenos">2108</span></a><span class="sd">        bug_ids: A single bug id or list of bug ids to have external tracker</span>
</span><span id="Bugzilla-2109"><a href="#Bugzilla-2109"><span class="linenos">2109</span></a><span class="sd">            info updated.</span>
</span><span id="Bugzilla-2110"><a href="#Bugzilla-2110"><span class="linenos">2110</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla-2111"><a href="#Bugzilla-2111"><span class="linenos">2111</span></a>        <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla-2112"><a href="#Bugzilla-2112"><span class="linenos">2112</span></a>        <span class="k">if</span> <span class="n">ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2113"><a href="#Bugzilla-2113"><span class="linenos">2113</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ids&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span>
</span><span id="Bugzilla-2114"><a href="#Bugzilla-2114"><span class="linenos">2114</span></a>        <span class="k">if</span> <span class="n">ext_type_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2115"><a href="#Bugzilla-2115"><span class="linenos">2115</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_type_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_type_id</span>
</span><span id="Bugzilla-2116"><a href="#Bugzilla-2116"><span class="linenos">2116</span></a>        <span class="k">if</span> <span class="n">ext_type_description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2117"><a href="#Bugzilla-2117"><span class="linenos">2117</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_type_description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_type_description</span>
</span><span id="Bugzilla-2118"><a href="#Bugzilla-2118"><span class="linenos">2118</span></a>        <span class="k">if</span> <span class="n">ext_type_url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2119"><a href="#Bugzilla-2119"><span class="linenos">2119</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_type_url&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_type_url</span>
</span><span id="Bugzilla-2120"><a href="#Bugzilla-2120"><span class="linenos">2120</span></a>        <span class="k">if</span> <span class="n">ext_bz_bug_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2121"><a href="#Bugzilla-2121"><span class="linenos">2121</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_bz_bug_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">ext_bz_bug_id</span><span class="p">)</span>
</span><span id="Bugzilla-2122"><a href="#Bugzilla-2122"><span class="linenos">2122</span></a>        <span class="k">if</span> <span class="n">bug_ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla-2123"><a href="#Bugzilla-2123"><span class="linenos">2123</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;bug_ids&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">bug_ids</span><span class="p">)</span>
</span><span id="Bugzilla-2124"><a href="#Bugzilla-2124"><span class="linenos">2124</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">externalbugs_remove</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>The main API object. Connects to a bugzilla instance over XMLRPC, and
provides wrapper functions to simplify dealing with API calls.</p>

<p>The most common invocation here will just be with just a URL:</p>

<pre><code>bzapi = Bugzilla("http://bugzilla.example.com")
</code></pre>

<p>If you have previously logged into that URL, and have cached login
tokens, you will automatically be logged in. Otherwise to
log in, you can either pass auth options to __init__, or call a login
helper like interactive_login().</p>

<p>If you are not logged in, you won't be able to access restricted data like
user email, or perform write actions like bug create/update. But simple
querys will work correctly.</p>

<p>If you are unsure if you are logged in, you can check the .logged_in
property.</p>

<p>Another way to specify auth credentials is via a 'bugzillarc' file.
See readconfig() documentation for details.</p>
</div>


                            <div id="Bugzilla.__init__" class="classattr">
                                        <input id="Bugzilla.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Bugzilla</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">url</span><span class="o">=-</span><span class="mi">1</span>,</span><span class="param">	<span class="n">user</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">password</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">cookiefile</span><span class="o">=-</span><span class="mi">1</span>,</span><span class="param">	<span class="n">sslverify</span><span class="o">=</span><span class="kc">True</span>,</span><span class="param">	<span class="n">tokenfile</span><span class="o">=-</span><span class="mi">1</span>,</span><span class="param">	<span class="n">use_creds</span><span class="o">=</span><span class="kc">True</span>,</span><span class="param">	<span class="n">api_key</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">cert</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">configpaths</span><span class="o">=-</span><span class="mi">1</span>,</span><span class="param">	<span class="n">force_rest</span><span class="o">=</span><span class="kc">False</span>,</span><span class="param">	<span class="n">force_xmlrpc</span><span class="o">=</span><span class="kc">False</span>,</span><span class="param">	<span class="n">requests_session</span><span class="o">=</span><span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="Bugzilla.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.__init__-178"><a href="#Bugzilla.__init__-178"><span class="linenos">178</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cookiefile</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
</span><span id="Bugzilla.__init__-179"><a href="#Bugzilla.__init__-179"><span class="linenos">179</span></a>                 <span class="n">sslverify</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">tokenfile</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">use_creds</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.__init__-180"><a href="#Bugzilla.__init__-180"><span class="linenos">180</span></a>                 <span class="n">cert</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">configpaths</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
</span><span id="Bugzilla.__init__-181"><a href="#Bugzilla.__init__-181"><span class="linenos">181</span></a>                 <span class="n">force_rest</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">force_xmlrpc</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">requests_session</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla.__init__-182"><a href="#Bugzilla.__init__-182"><span class="linenos">182</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.__init__-183"><a href="#Bugzilla.__init__-183"><span class="linenos">183</span></a><span class="sd">        :param url: The bugzilla instance URL, which we will connect</span>
</span><span id="Bugzilla.__init__-184"><a href="#Bugzilla.__init__-184"><span class="linenos">184</span></a><span class="sd">            to immediately. Most users will want to specify this at</span>
</span><span id="Bugzilla.__init__-185"><a href="#Bugzilla.__init__-185"><span class="linenos">185</span></a><span class="sd">            __init__ time, but you can defer connecting by passing</span>
</span><span id="Bugzilla.__init__-186"><a href="#Bugzilla.__init__-186"><span class="linenos">186</span></a><span class="sd">            url=None and calling connect(URL) manually</span>
</span><span id="Bugzilla.__init__-187"><a href="#Bugzilla.__init__-187"><span class="linenos">187</span></a><span class="sd">        :param user: optional username to connect with</span>
</span><span id="Bugzilla.__init__-188"><a href="#Bugzilla.__init__-188"><span class="linenos">188</span></a><span class="sd">        :param password: optional password for the connecting user</span>
</span><span id="Bugzilla.__init__-189"><a href="#Bugzilla.__init__-189"><span class="linenos">189</span></a><span class="sd">        :param cert: optional certificate file for client side certificate</span>
</span><span id="Bugzilla.__init__-190"><a href="#Bugzilla.__init__-190"><span class="linenos">190</span></a><span class="sd">            authentication</span>
</span><span id="Bugzilla.__init__-191"><a href="#Bugzilla.__init__-191"><span class="linenos">191</span></a><span class="sd">        :param cookiefile: Deprecated, raises an error if not -1 or None</span>
</span><span id="Bugzilla.__init__-192"><a href="#Bugzilla.__init__-192"><span class="linenos">192</span></a><span class="sd">        :param sslverify: Set this to False to skip SSL hostname and CA</span>
</span><span id="Bugzilla.__init__-193"><a href="#Bugzilla.__init__-193"><span class="linenos">193</span></a><span class="sd">            validation checks, like out of date certificate</span>
</span><span id="Bugzilla.__init__-194"><a href="#Bugzilla.__init__-194"><span class="linenos">194</span></a><span class="sd">        :param tokenfile: Location to cache the API login token so youi</span>
</span><span id="Bugzilla.__init__-195"><a href="#Bugzilla.__init__-195"><span class="linenos">195</span></a><span class="sd">            don&#39;t have to keep specifying username/password.</span>
</span><span id="Bugzilla.__init__-196"><a href="#Bugzilla.__init__-196"><span class="linenos">196</span></a><span class="sd">            If -1, use the default path. If None, don&#39;t use</span>
</span><span id="Bugzilla.__init__-197"><a href="#Bugzilla.__init__-197"><span class="linenos">197</span></a><span class="sd">            or save any tokenfile.</span>
</span><span id="Bugzilla.__init__-198"><a href="#Bugzilla.__init__-198"><span class="linenos">198</span></a><span class="sd">        :param use_creds: If False, this disables tokenfile</span>
</span><span id="Bugzilla.__init__-199"><a href="#Bugzilla.__init__-199"><span class="linenos">199</span></a><span class="sd">            and configpaths by default. This is a convenience option to</span>
</span><span id="Bugzilla.__init__-200"><a href="#Bugzilla.__init__-200"><span class="linenos">200</span></a><span class="sd">            unset those values at init time. If those values are later</span>
</span><span id="Bugzilla.__init__-201"><a href="#Bugzilla.__init__-201"><span class="linenos">201</span></a><span class="sd">            changed, they may be used for future operations.</span>
</span><span id="Bugzilla.__init__-202"><a href="#Bugzilla.__init__-202"><span class="linenos">202</span></a><span class="sd">        :param sslverify: Maps to &#39;requests&#39; sslverify parameter. Set to</span>
</span><span id="Bugzilla.__init__-203"><a href="#Bugzilla.__init__-203"><span class="linenos">203</span></a><span class="sd">            False to disable SSL verification, but it can also be a path</span>
</span><span id="Bugzilla.__init__-204"><a href="#Bugzilla.__init__-204"><span class="linenos">204</span></a><span class="sd">            to file or directory for custom certs.</span>
</span><span id="Bugzilla.__init__-205"><a href="#Bugzilla.__init__-205"><span class="linenos">205</span></a><span class="sd">        :param api_key: A bugzilla5+ API key</span>
</span><span id="Bugzilla.__init__-206"><a href="#Bugzilla.__init__-206"><span class="linenos">206</span></a><span class="sd">        :param configpaths: A list of possible bugzillarc locations.</span>
</span><span id="Bugzilla.__init__-207"><a href="#Bugzilla.__init__-207"><span class="linenos">207</span></a><span class="sd">        :param force_rest: Force use of the REST API</span>
</span><span id="Bugzilla.__init__-208"><a href="#Bugzilla.__init__-208"><span class="linenos">208</span></a><span class="sd">        :param force_xmlrpc: Force use of the XMLRPC API. If neither force_X</span>
</span><span id="Bugzilla.__init__-209"><a href="#Bugzilla.__init__-209"><span class="linenos">209</span></a><span class="sd">            parameter are specified, heuristics will be used to determine</span>
</span><span id="Bugzilla.__init__-210"><a href="#Bugzilla.__init__-210"><span class="linenos">210</span></a><span class="sd">            which API to use, with XMLRPC preferred for back compatability.</span>
</span><span id="Bugzilla.__init__-211"><a href="#Bugzilla.__init__-211"><span class="linenos">211</span></a><span class="sd">        :param requests_session: An optional requests.Session object the</span>
</span><span id="Bugzilla.__init__-212"><a href="#Bugzilla.__init__-212"><span class="linenos">212</span></a><span class="sd">            API will use to contact the remote bugzilla instance. This</span>
</span><span id="Bugzilla.__init__-213"><a href="#Bugzilla.__init__-213"><span class="linenos">213</span></a><span class="sd">            way the API user can set up whatever auth bits they may need.</span>
</span><span id="Bugzilla.__init__-214"><a href="#Bugzilla.__init__-214"><span class="linenos">214</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.__init__-215"><a href="#Bugzilla.__init__-215"><span class="linenos">215</span></a>        <span class="k">if</span> <span class="n">url</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="Bugzilla.__init__-216"><a href="#Bugzilla.__init__-216"><span class="linenos">216</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Specify a valid bugzilla url, or pass url=None&quot;</span><span class="p">)</span>
</span><span id="Bugzilla.__init__-217"><a href="#Bugzilla.__init__-217"><span class="linenos">217</span></a>
</span><span id="Bugzilla.__init__-218"><a href="#Bugzilla.__init__-218"><span class="linenos">218</span></a>        <span class="c1"># Settings the user might want to tweak</span>
</span><span id="Bugzilla.__init__-219"><a href="#Bugzilla.__init__-219"><span class="linenos">219</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">user</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span>
</span><span id="Bugzilla.__init__-220"><a href="#Bugzilla.__init__-220"><span class="linenos">220</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="n">password</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span>
</span><span id="Bugzilla.__init__-221"><a href="#Bugzilla.__init__-221"><span class="linenos">221</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="n">api_key</span>
</span><span id="Bugzilla.__init__-222"><a href="#Bugzilla.__init__-222"><span class="linenos">222</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cert</span> <span class="o">=</span> <span class="n">cert</span> <span class="ow">or</span> <span class="kc">None</span>
</span><span id="Bugzilla.__init__-223"><a href="#Bugzilla.__init__-223"><span class="linenos">223</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="Bugzilla.__init__-224"><a href="#Bugzilla.__init__-224"><span class="linenos">224</span></a>
</span><span id="Bugzilla.__init__-225"><a href="#Bugzilla.__init__-225"><span class="linenos">225</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Bugzilla.__init__-226"><a href="#Bugzilla.__init__-226"><span class="linenos">226</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_session</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Bugzilla.__init__-227"><a href="#Bugzilla.__init__-227"><span class="linenos">227</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_user_requests_session</span> <span class="o">=</span> <span class="n">requests_session</span>
</span><span id="Bugzilla.__init__-228"><a href="#Bugzilla.__init__-228"><span class="linenos">228</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sslverify</span> <span class="o">=</span> <span class="n">sslverify</span>
</span><span id="Bugzilla.__init__-229"><a href="#Bugzilla.__init__-229"><span class="linenos">229</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span> <span class="o">=</span> <span class="n">_BugzillaAPICache</span><span class="p">()</span>
</span><span id="Bugzilla.__init__-230"><a href="#Bugzilla.__init__-230"><span class="linenos">230</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bug_autorefresh</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Bugzilla.__init__-231"><a href="#Bugzilla.__init__-231"><span class="linenos">231</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_redhat_bugzilla</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Bugzilla.__init__-232"><a href="#Bugzilla.__init__-232"><span class="linenos">232</span></a>
</span><span id="Bugzilla.__init__-233"><a href="#Bugzilla.__init__-233"><span class="linenos">233</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_rcfile</span> <span class="o">=</span> <span class="n">_BugzillaRCFile</span><span class="p">()</span>
</span><span id="Bugzilla.__init__-234"><a href="#Bugzilla.__init__-234"><span class="linenos">234</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_tokencache</span> <span class="o">=</span> <span class="n">_BugzillaTokenCache</span><span class="p">()</span>
</span><span id="Bugzilla.__init__-235"><a href="#Bugzilla.__init__-235"><span class="linenos">235</span></a>
</span><span id="Bugzilla.__init__-236"><a href="#Bugzilla.__init__-236"><span class="linenos">236</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_force_rest</span> <span class="o">=</span> <span class="n">force_rest</span>
</span><span id="Bugzilla.__init__-237"><a href="#Bugzilla.__init__-237"><span class="linenos">237</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_force_xmlrpc</span> <span class="o">=</span> <span class="n">force_xmlrpc</span>
</span><span id="Bugzilla.__init__-238"><a href="#Bugzilla.__init__-238"><span class="linenos">238</span></a>
</span><span id="Bugzilla.__init__-239"><a href="#Bugzilla.__init__-239"><span class="linenos">239</span></a>        <span class="k">if</span> <span class="n">cookiefile</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
</span><span id="Bugzilla.__init__-240"><a href="#Bugzilla.__init__-240"><span class="linenos">240</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;cookiefile is deprecated, don&#39;t pass any value.&quot;</span><span class="p">)</span>
</span><span id="Bugzilla.__init__-241"><a href="#Bugzilla.__init__-241"><span class="linenos">241</span></a>
</span><span id="Bugzilla.__init__-242"><a href="#Bugzilla.__init__-242"><span class="linenos">242</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">use_creds</span><span class="p">:</span>
</span><span id="Bugzilla.__init__-243"><a href="#Bugzilla.__init__-243"><span class="linenos">243</span></a>            <span class="n">tokenfile</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Bugzilla.__init__-244"><a href="#Bugzilla.__init__-244"><span class="linenos">244</span></a>            <span class="n">configpaths</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Bugzilla.__init__-245"><a href="#Bugzilla.__init__-245"><span class="linenos">245</span></a>
</span><span id="Bugzilla.__init__-246"><a href="#Bugzilla.__init__-246"><span class="linenos">246</span></a>        <span class="k">if</span> <span class="n">tokenfile</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="Bugzilla.__init__-247"><a href="#Bugzilla.__init__-247"><span class="linenos">247</span></a>            <span class="n">tokenfile</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tokencache</span><span class="o">.</span><span class="n">get_default_path</span><span class="p">()</span>
</span><span id="Bugzilla.__init__-248"><a href="#Bugzilla.__init__-248"><span class="linenos">248</span></a>        <span class="k">if</span> <span class="n">configpaths</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="Bugzilla.__init__-249"><a href="#Bugzilla.__init__-249"><span class="linenos">249</span></a>            <span class="n">configpaths</span> <span class="o">=</span> <span class="n">_BugzillaRCFile</span><span class="o">.</span><span class="n">get_default_configpaths</span><span class="p">()</span>
</span><span id="Bugzilla.__init__-250"><a href="#Bugzilla.__init__-250"><span class="linenos">250</span></a>
</span><span id="Bugzilla.__init__-251"><a href="#Bugzilla.__init__-251"><span class="linenos">251</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_settokenfile</span><span class="p">(</span><span class="n">tokenfile</span><span class="p">)</span>
</span><span id="Bugzilla.__init__-252"><a href="#Bugzilla.__init__-252"><span class="linenos">252</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_setconfigpath</span><span class="p">(</span><span class="n">configpaths</span><span class="p">)</span>
</span><span id="Bugzilla.__init__-253"><a href="#Bugzilla.__init__-253"><span class="linenos">253</span></a>
</span><span id="Bugzilla.__init__-254"><a href="#Bugzilla.__init__-254"><span class="linenos">254</span></a>        <span class="k">if</span> <span class="n">url</span><span class="p">:</span>
</span><span id="Bugzilla.__init__-255"><a href="#Bugzilla.__init__-255"><span class="linenos">255</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><h6 id="parameters">Parameters</h6>

<ul>
<li><strong>url</strong>:  The bugzilla instance URL, which we will connect
to immediately. Most users will want to specify this at
__init__ time, but you can defer connecting by passing
url=None and calling connect(URL) manually</li>
<li><strong>user</strong>:  optional username to connect with</li>
<li><strong>password</strong>:  optional password for the connecting user</li>
<li><strong>cert</strong>:  optional certificate file for client side certificate
authentication</li>
<li><strong>cookiefile</strong>:  Deprecated, raises an error if not -1 or None</li>
<li><strong>sslverify</strong>:  Set this to False to skip SSL hostname and CA
validation checks, like out of date certificate</li>
<li><strong>tokenfile</strong>:  Location to cache the API login token so youi
don't have to keep specifying username/password.
If -1, use the default path. If None, don't use
or save any tokenfile.</li>
<li><strong>use_creds</strong>:  If False, this disables tokenfile
and configpaths by default. This is a convenience option to
unset those values at init time. If those values are later
changed, they may be used for future operations.</li>
<li><strong>sslverify</strong>:  Maps to 'requests' sslverify parameter. Set to
False to disable SSL verification, but it can also be a path
to file or directory for custom certs.</li>
<li><strong>api_key</strong>:  A bugzilla5+ API key</li>
<li><strong>configpaths</strong>:  A list of possible bugzillarc locations.</li>
<li><strong>force_rest</strong>:  Force use of the REST API</li>
<li><strong>force_xmlrpc</strong>:  Force use of the XMLRPC API. If neither force_X
parameter are specified, heuristics will be used to determine
which API to use, with XMLRPC preferred for back compatability.</li>
<li><strong>requests_session</strong>:  An optional requests.Session object the
API will use to contact the remote bugzilla instance. This
way the API user can set up whatever auth bits they may need.</li>
</ul>
</div>


                            </div>
                            <div id="Bugzilla.url_to_query" class="classattr">
                                        <input id="Bugzilla.url_to_query-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">url_to_query</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">url</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.url_to_query-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.url_to_query"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.url_to_query-104"><a href="#Bugzilla.url_to_query-104"><span class="linenos">104</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Bugzilla.url_to_query-105"><a href="#Bugzilla.url_to_query-105"><span class="linenos">105</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">url_to_query</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
</span><span id="Bugzilla.url_to_query-106"><a href="#Bugzilla.url_to_query-106"><span class="linenos">106</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.url_to_query-107"><a href="#Bugzilla.url_to_query-107"><span class="linenos">107</span></a><span class="sd">        Given a big huge bugzilla query URL, returns a query dict that can</span>
</span><span id="Bugzilla.url_to_query-108"><a href="#Bugzilla.url_to_query-108"><span class="linenos">108</span></a><span class="sd">        be passed along to the Bugzilla.query() method.</span>
</span><span id="Bugzilla.url_to_query-109"><a href="#Bugzilla.url_to_query-109"><span class="linenos">109</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.url_to_query-110"><a href="#Bugzilla.url_to_query-110"><span class="linenos">110</span></a>        <span class="n">q</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla.url_to_query-111"><a href="#Bugzilla.url_to_query-111"><span class="linenos">111</span></a>
</span><span id="Bugzilla.url_to_query-112"><a href="#Bugzilla.url_to_query-112"><span class="linenos">112</span></a>        <span class="c1"># pylint: disable=unpacking-non-sequence</span>
</span><span id="Bugzilla.url_to_query-113"><a href="#Bugzilla.url_to_query-113"><span class="linenos">113</span></a>        <span class="p">(</span><span class="n">ignore1</span><span class="p">,</span> <span class="n">ignore2</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span>
</span><span id="Bugzilla.url_to_query-114"><a href="#Bugzilla.url_to_query-114"><span class="linenos">114</span></a>         <span class="n">ignore</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">ignore3</span><span class="p">)</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span><span id="Bugzilla.url_to_query-115"><a href="#Bugzilla.url_to_query-115"><span class="linenos">115</span></a>
</span><span id="Bugzilla.url_to_query-116"><a href="#Bugzilla.url_to_query-116"><span class="linenos">116</span></a>        <span class="n">base</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</span><span id="Bugzilla.url_to_query-117"><a href="#Bugzilla.url_to_query-117"><span class="linenos">117</span></a>        <span class="k">if</span> <span class="n">base</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;buglist.cgi&#39;</span><span class="p">,</span> <span class="s1">&#39;query.cgi&#39;</span><span class="p">):</span>
</span><span id="Bugzilla.url_to_query-118"><a href="#Bugzilla.url_to_query-118"><span class="linenos">118</span></a>            <span class="k">return</span> <span class="p">{}</span>
</span><span id="Bugzilla.url_to_query-119"><a href="#Bugzilla.url_to_query-119"><span class="linenos">119</span></a>
</span><span id="Bugzilla.url_to_query-120"><a href="#Bugzilla.url_to_query-120"><span class="linenos">120</span></a>        <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">parse_qsl</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
</span><span id="Bugzilla.url_to_query-121"><a href="#Bugzilla.url_to_query-121"><span class="linenos">121</span></a>            <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">q</span><span class="p">:</span>
</span><span id="Bugzilla.url_to_query-122"><a href="#Bugzilla.url_to_query-122"><span class="linenos">122</span></a>                <span class="n">q</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
</span><span id="Bugzilla.url_to_query-123"><a href="#Bugzilla.url_to_query-123"><span class="linenos">123</span></a>            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="Bugzilla.url_to_query-124"><a href="#Bugzilla.url_to_query-124"><span class="linenos">124</span></a>                <span class="n">q</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</span><span id="Bugzilla.url_to_query-125"><a href="#Bugzilla.url_to_query-125"><span class="linenos">125</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Bugzilla.url_to_query-126"><a href="#Bugzilla.url_to_query-126"><span class="linenos">126</span></a>                <span class="n">oldv</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
</span><span id="Bugzilla.url_to_query-127"><a href="#Bugzilla.url_to_query-127"><span class="linenos">127</span></a>                <span class="n">q</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">oldv</span><span class="p">,</span> <span class="n">v</span><span class="p">]</span>
</span><span id="Bugzilla.url_to_query-128"><a href="#Bugzilla.url_to_query-128"><span class="linenos">128</span></a>
</span><span id="Bugzilla.url_to_query-129"><a href="#Bugzilla.url_to_query-129"><span class="linenos">129</span></a>        <span class="c1"># Handle saved searches</span>
</span><span id="Bugzilla.url_to_query-130"><a href="#Bugzilla.url_to_query-130"><span class="linenos">130</span></a>        <span class="k">if</span> <span class="n">base</span> <span class="o">==</span> <span class="s2">&quot;buglist.cgi&quot;</span> <span class="ow">and</span> <span class="s2">&quot;namedcmd&quot;</span> <span class="ow">in</span> <span class="n">q</span> <span class="ow">and</span> <span class="s2">&quot;sharer_id&quot;</span> <span class="ow">in</span> <span class="n">q</span><span class="p">:</span>
</span><span id="Bugzilla.url_to_query-131"><a href="#Bugzilla.url_to_query-131"><span class="linenos">131</span></a>            <span class="n">q</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Bugzilla.url_to_query-132"><a href="#Bugzilla.url_to_query-132"><span class="linenos">132</span></a>                <span class="s2">&quot;sharer_id&quot;</span><span class="p">:</span> <span class="n">q</span><span class="p">[</span><span class="s2">&quot;sharer_id&quot;</span><span class="p">],</span>
</span><span id="Bugzilla.url_to_query-133"><a href="#Bugzilla.url_to_query-133"><span class="linenos">133</span></a>                <span class="s2">&quot;savedsearch&quot;</span><span class="p">:</span> <span class="n">q</span><span class="p">[</span><span class="s2">&quot;namedcmd&quot;</span><span class="p">],</span>
</span><span id="Bugzilla.url_to_query-134"><a href="#Bugzilla.url_to_query-134"><span class="linenos">134</span></a>            <span class="p">}</span>
</span><span id="Bugzilla.url_to_query-135"><a href="#Bugzilla.url_to_query-135"><span class="linenos">135</span></a>
</span><span id="Bugzilla.url_to_query-136"><a href="#Bugzilla.url_to_query-136"><span class="linenos">136</span></a>        <span class="k">return</span> <span class="n">q</span>
</span></pre></div>


            <div class="docstring"><p>Given a big huge bugzilla query URL, returns a query dict that can
be passed along to the <a href="#Bugzilla.query">Bugzilla.query()</a> method.</p>
</div>


                            </div>
                            <div id="Bugzilla.fix_url" class="classattr">
                                        <input id="Bugzilla.fix_url-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">fix_url</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">url</span>, </span><span class="param"><span class="n">force_rest</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.fix_url-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.fix_url"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.fix_url-138"><a href="#Bugzilla.fix_url-138"><span class="linenos">138</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Bugzilla.fix_url-139"><a href="#Bugzilla.fix_url-139"><span class="linenos">139</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">fix_url</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">force_rest</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Bugzilla.fix_url-140"><a href="#Bugzilla.fix_url-140"><span class="linenos">140</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.fix_url-141"><a href="#Bugzilla.fix_url-141"><span class="linenos">141</span></a><span class="sd">        Turn passed url into a bugzilla XMLRPC web url</span>
</span><span id="Bugzilla.fix_url-142"><a href="#Bugzilla.fix_url-142"><span class="linenos">142</span></a>
</span><span id="Bugzilla.fix_url-143"><a href="#Bugzilla.fix_url-143"><span class="linenos">143</span></a><span class="sd">        :param force_rest: If True, generate a REST API url</span>
</span><span id="Bugzilla.fix_url-144"><a href="#Bugzilla.fix_url-144"><span class="linenos">144</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.fix_url-145"><a href="#Bugzilla.fix_url-145"><span class="linenos">145</span></a>        <span class="p">(</span><span class="n">scheme</span><span class="p">,</span> <span class="n">netloc</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span>
</span><span id="Bugzilla.fix_url-146"><a href="#Bugzilla.fix_url-146"><span class="linenos">146</span></a>         <span class="n">params</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">fragment</span><span class="p">)</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span><span id="Bugzilla.fix_url-147"><a href="#Bugzilla.fix_url-147"><span class="linenos">147</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">scheme</span><span class="p">:</span>
</span><span id="Bugzilla.fix_url-148"><a href="#Bugzilla.fix_url-148"><span class="linenos">148</span></a>            <span class="n">scheme</span> <span class="o">=</span> <span class="s1">&#39;https&#39;</span>
</span><span id="Bugzilla.fix_url-149"><a href="#Bugzilla.fix_url-149"><span class="linenos">149</span></a>
</span><span id="Bugzilla.fix_url-150"><a href="#Bugzilla.fix_url-150"><span class="linenos">150</span></a>        <span class="k">if</span> <span class="n">path</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">netloc</span><span class="p">:</span>
</span><span id="Bugzilla.fix_url-151"><a href="#Bugzilla.fix_url-151"><span class="linenos">151</span></a>            <span class="n">netloc</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Bugzilla.fix_url-152"><a href="#Bugzilla.fix_url-152"><span class="linenos">152</span></a>            <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">:])</span> <span class="ow">or</span> <span class="kc">None</span>
</span><span id="Bugzilla.fix_url-153"><a href="#Bugzilla.fix_url-153"><span class="linenos">153</span></a>
</span><span id="Bugzilla.fix_url-154"><a href="#Bugzilla.fix_url-154"><span class="linenos">154</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
</span><span id="Bugzilla.fix_url-155"><a href="#Bugzilla.fix_url-155"><span class="linenos">155</span></a>            <span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;xmlrpc.cgi&#39;</span>
</span><span id="Bugzilla.fix_url-156"><a href="#Bugzilla.fix_url-156"><span class="linenos">156</span></a>            <span class="k">if</span> <span class="n">force_rest</span><span class="p">:</span>
</span><span id="Bugzilla.fix_url-157"><a href="#Bugzilla.fix_url-157"><span class="linenos">157</span></a>                <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;rest/&quot;</span>
</span><span id="Bugzilla.fix_url-158"><a href="#Bugzilla.fix_url-158"><span class="linenos">158</span></a>
</span><span id="Bugzilla.fix_url-159"><a href="#Bugzilla.fix_url-159"><span class="linenos">159</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">):</span>
</span><span id="Bugzilla.fix_url-160"><a href="#Bugzilla.fix_url-160"><span class="linenos">160</span></a>            <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="n">path</span>
</span><span id="Bugzilla.fix_url-161"><a href="#Bugzilla.fix_url-161"><span class="linenos">161</span></a>
</span><span id="Bugzilla.fix_url-162"><a href="#Bugzilla.fix_url-162"><span class="linenos">162</span></a>        <span class="n">newurl</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlunparse</span><span class="p">(</span>
</span><span id="Bugzilla.fix_url-163"><a href="#Bugzilla.fix_url-163"><span class="linenos">163</span></a>            <span class="p">(</span><span class="n">scheme</span><span class="p">,</span> <span class="n">netloc</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">fragment</span><span class="p">))</span>
</span><span id="Bugzilla.fix_url-164"><a href="#Bugzilla.fix_url-164"><span class="linenos">164</span></a>        <span class="k">return</span> <span class="n">newurl</span>
</span></pre></div>


            <div class="docstring"><p>Turn passed url into a bugzilla XMLRPC web url</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>force_rest</strong>:  If True, generate a REST API url</li>
</ul>
</div>


                            </div>
                            <div id="Bugzilla.get_rcfile_default_url" class="classattr">
                                        <input id="Bugzilla.get_rcfile_default_url-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">get_rcfile_default_url</span><span class="signature pdoc-code condensed">(<span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.get_rcfile_default_url-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.get_rcfile_default_url"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.get_rcfile_default_url-166"><a href="#Bugzilla.get_rcfile_default_url-166"><span class="linenos">166</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Bugzilla.get_rcfile_default_url-167"><a href="#Bugzilla.get_rcfile_default_url-167"><span class="linenos">167</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_rcfile_default_url</span><span class="p">():</span>
</span><span id="Bugzilla.get_rcfile_default_url-168"><a href="#Bugzilla.get_rcfile_default_url-168"><span class="linenos">168</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.get_rcfile_default_url-169"><a href="#Bugzilla.get_rcfile_default_url-169"><span class="linenos">169</span></a><span class="sd">        Helper to check all the default bugzillarc file paths for</span>
</span><span id="Bugzilla.get_rcfile_default_url-170"><a href="#Bugzilla.get_rcfile_default_url-170"><span class="linenos">170</span></a><span class="sd">        a [DEFAULT] url=X section, and if found, return it.</span>
</span><span id="Bugzilla.get_rcfile_default_url-171"><a href="#Bugzilla.get_rcfile_default_url-171"><span class="linenos">171</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.get_rcfile_default_url-172"><a href="#Bugzilla.get_rcfile_default_url-172"><span class="linenos">172</span></a>        <span class="n">configpaths</span> <span class="o">=</span> <span class="n">_BugzillaRCFile</span><span class="o">.</span><span class="n">get_default_configpaths</span><span class="p">()</span>
</span><span id="Bugzilla.get_rcfile_default_url-173"><a href="#Bugzilla.get_rcfile_default_url-173"><span class="linenos">173</span></a>        <span class="n">rcfile</span> <span class="o">=</span> <span class="n">_BugzillaRCFile</span><span class="p">()</span>
</span><span id="Bugzilla.get_rcfile_default_url-174"><a href="#Bugzilla.get_rcfile_default_url-174"><span class="linenos">174</span></a>        <span class="n">rcfile</span><span class="o">.</span><span class="n">set_configpaths</span><span class="p">(</span><span class="n">configpaths</span><span class="p">)</span>
</span><span id="Bugzilla.get_rcfile_default_url-175"><a href="#Bugzilla.get_rcfile_default_url-175"><span class="linenos">175</span></a>        <span class="k">return</span> <span class="n">rcfile</span><span class="o">.</span><span class="n">get_default_url</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Helper to check all the default bugzillarc file paths for
a [DEFAULT] url=X section, and if found, return it.</p>
</div>


                            </div>
                            <div id="Bugzilla.user" class="classattr">
                                <div class="attr variable">
            <span class="name">user</span>

        
    </div>
    <a class="headerlink" href="#Bugzilla.user"></a>
    
    

                            </div>
                            <div id="Bugzilla.password" class="classattr">
                                <div class="attr variable">
            <span class="name">password</span>

        
    </div>
    <a class="headerlink" href="#Bugzilla.password"></a>
    
    

                            </div>
                            <div id="Bugzilla.api_key" class="classattr">
                                <div class="attr variable">
            <span class="name">api_key</span>

        
    </div>
    <a class="headerlink" href="#Bugzilla.api_key"></a>
    
    

                            </div>
                            <div id="Bugzilla.cert" class="classattr">
                                <div class="attr variable">
            <span class="name">cert</span>

        
    </div>
    <a class="headerlink" href="#Bugzilla.cert"></a>
    
    

                            </div>
                            <div id="Bugzilla.url" class="classattr">
                                <div class="attr variable">
            <span class="name">url</span>

        
    </div>
    <a class="headerlink" href="#Bugzilla.url"></a>
    
    

                            </div>
                            <div id="Bugzilla.user_agent" class="classattr">
                                        <input id="Bugzilla.user_agent-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">user_agent</span>

                <label class="view-source-button" for="Bugzilla.user_agent-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.user_agent"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.user_agent-331"><a href="#Bugzilla.user_agent-331"><span class="linenos">331</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_get_user_agent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla.user_agent-332"><a href="#Bugzilla.user_agent-332"><span class="linenos">332</span></a>        <span class="k">return</span> <span class="s1">&#39;python-bugzilla/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">__version__</span>
</span></pre></div>


    

                            </div>
                            <div id="Bugzilla.bz_ver_major" class="classattr">
                                        <input id="Bugzilla.bz_ver_major-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">bz_ver_major</span>

                <label class="view-source-button" for="Bugzilla.bz_ver_major-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.bz_ver_major"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.bz_ver_major-335"><a href="#Bugzilla.bz_ver_major-335"><span class="linenos">335</span></a>    <span class="nd">@property</span>
</span><span id="Bugzilla.bz_ver_major-336"><a href="#Bugzilla.bz_ver_major-336"><span class="linenos">336</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">bz_ver_major</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla.bz_ver_major-337"><a href="#Bugzilla.bz_ver_major-337"><span class="linenos">337</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">version_parsed</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></pre></div>


    

                            </div>
                            <div id="Bugzilla.bz_ver_minor" class="classattr">
                                        <input id="Bugzilla.bz_ver_minor-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">bz_ver_minor</span>

                <label class="view-source-button" for="Bugzilla.bz_ver_minor-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.bz_ver_minor"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.bz_ver_minor-339"><a href="#Bugzilla.bz_ver_minor-339"><span class="linenos">339</span></a>    <span class="nd">@property</span>
</span><span id="Bugzilla.bz_ver_minor-340"><a href="#Bugzilla.bz_ver_minor-340"><span class="linenos">340</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">bz_ver_minor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla.bz_ver_minor-341"><a href="#Bugzilla.bz_ver_minor-341"><span class="linenos">341</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">version_parsed</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span></pre></div>


    

                            </div>
                            <div id="Bugzilla.cookiefile" class="classattr">
                                        <input id="Bugzilla.cookiefile-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">cookiefile</span>

                <label class="view-source-button" for="Bugzilla.cookiefile-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.cookiefile"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.cookiefile-367"><a href="#Bugzilla.cookiefile-367"><span class="linenos">367</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_getcookiefile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla.cookiefile-368"><a href="#Bugzilla.cookiefile-368"><span class="linenos">368</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


    

                            </div>
                            <div id="Bugzilla.tokenfile" class="classattr">
                                        <input id="Bugzilla.tokenfile-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">tokenfile</span>

                <label class="view-source-button" for="Bugzilla.tokenfile-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.tokenfile"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.tokenfile-371"><a href="#Bugzilla.tokenfile-371"><span class="linenos">371</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_gettokenfile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla.tokenfile-372"><a href="#Bugzilla.tokenfile-372"><span class="linenos">372</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tokencache</span><span class="o">.</span><span class="n">get_filename</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                            <div id="Bugzilla.configpath" class="classattr">
                                        <input id="Bugzilla.configpath-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">configpath</span>

                <label class="view-source-button" for="Bugzilla.configpath-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.configpath"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.configpath-379"><a href="#Bugzilla.configpath-379"><span class="linenos">379</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_getconfigpath</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla.configpath-380"><a href="#Bugzilla.configpath-380"><span class="linenos">380</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rcfile</span><span class="o">.</span><span class="n">get_configpaths</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                            <div id="Bugzilla.readconfig" class="classattr">
                                        <input id="Bugzilla.readconfig-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">readconfig</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">configpath</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.readconfig-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.readconfig"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.readconfig-392"><a href="#Bugzilla.readconfig-392"><span class="linenos">392</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">readconfig</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">configpath</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="Bugzilla.readconfig-393"><a href="#Bugzilla.readconfig-393"><span class="linenos">393</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.readconfig-394"><a href="#Bugzilla.readconfig-394"><span class="linenos">394</span></a><span class="sd">        :param configpath: Optional bugzillarc path to read, instead of</span>
</span><span id="Bugzilla.readconfig-395"><a href="#Bugzilla.readconfig-395"><span class="linenos">395</span></a><span class="sd">            the default list.</span>
</span><span id="Bugzilla.readconfig-396"><a href="#Bugzilla.readconfig-396"><span class="linenos">396</span></a>
</span><span id="Bugzilla.readconfig-397"><a href="#Bugzilla.readconfig-397"><span class="linenos">397</span></a><span class="sd">        This function is called automatically from Bugzilla connect(), which</span>
</span><span id="Bugzilla.readconfig-398"><a href="#Bugzilla.readconfig-398"><span class="linenos">398</span></a><span class="sd">        is called at __init__ if a URL is passed. Calling it manually is</span>
</span><span id="Bugzilla.readconfig-399"><a href="#Bugzilla.readconfig-399"><span class="linenos">399</span></a><span class="sd">        just for passing in a non-standard configpath.</span>
</span><span id="Bugzilla.readconfig-400"><a href="#Bugzilla.readconfig-400"><span class="linenos">400</span></a>
</span><span id="Bugzilla.readconfig-401"><a href="#Bugzilla.readconfig-401"><span class="linenos">401</span></a><span class="sd">        The locations for the bugzillarc file are preferred in this order:</span>
</span><span id="Bugzilla.readconfig-402"><a href="#Bugzilla.readconfig-402"><span class="linenos">402</span></a>
</span><span id="Bugzilla.readconfig-403"><a href="#Bugzilla.readconfig-403"><span class="linenos">403</span></a><span class="sd">            ~/.config/python-bugzilla/bugzillarc</span>
</span><span id="Bugzilla.readconfig-404"><a href="#Bugzilla.readconfig-404"><span class="linenos">404</span></a><span class="sd">            ~/.bugzillarc</span>
</span><span id="Bugzilla.readconfig-405"><a href="#Bugzilla.readconfig-405"><span class="linenos">405</span></a><span class="sd">            /etc/bugzillarc</span>
</span><span id="Bugzilla.readconfig-406"><a href="#Bugzilla.readconfig-406"><span class="linenos">406</span></a>
</span><span id="Bugzilla.readconfig-407"><a href="#Bugzilla.readconfig-407"><span class="linenos">407</span></a><span class="sd">        It has content like:</span>
</span><span id="Bugzilla.readconfig-408"><a href="#Bugzilla.readconfig-408"><span class="linenos">408</span></a><span class="sd">          [bugzilla.yoursite.com]</span>
</span><span id="Bugzilla.readconfig-409"><a href="#Bugzilla.readconfig-409"><span class="linenos">409</span></a><span class="sd">          user = username</span>
</span><span id="Bugzilla.readconfig-410"><a href="#Bugzilla.readconfig-410"><span class="linenos">410</span></a><span class="sd">          password = password</span>
</span><span id="Bugzilla.readconfig-411"><a href="#Bugzilla.readconfig-411"><span class="linenos">411</span></a><span class="sd">        Or</span>
</span><span id="Bugzilla.readconfig-412"><a href="#Bugzilla.readconfig-412"><span class="linenos">412</span></a><span class="sd">          [bugzilla.yoursite.com]</span>
</span><span id="Bugzilla.readconfig-413"><a href="#Bugzilla.readconfig-413"><span class="linenos">413</span></a><span class="sd">          api_key = key</span>
</span><span id="Bugzilla.readconfig-414"><a href="#Bugzilla.readconfig-414"><span class="linenos">414</span></a>
</span><span id="Bugzilla.readconfig-415"><a href="#Bugzilla.readconfig-415"><span class="linenos">415</span></a><span class="sd">        The file can have multiple sections for different bugzilla instances.</span>
</span><span id="Bugzilla.readconfig-416"><a href="#Bugzilla.readconfig-416"><span class="linenos">416</span></a><span class="sd">        A &#39;url&#39; field in the [DEFAULT] section can be used to set a default</span>
</span><span id="Bugzilla.readconfig-417"><a href="#Bugzilla.readconfig-417"><span class="linenos">417</span></a><span class="sd">        URL for the bugzilla command line tool.</span>
</span><span id="Bugzilla.readconfig-418"><a href="#Bugzilla.readconfig-418"><span class="linenos">418</span></a>
</span><span id="Bugzilla.readconfig-419"><a href="#Bugzilla.readconfig-419"><span class="linenos">419</span></a><span class="sd">        Be sure to set appropriate permissions on bugzillarc if you choose to</span>
</span><span id="Bugzilla.readconfig-420"><a href="#Bugzilla.readconfig-420"><span class="linenos">420</span></a><span class="sd">        store your password in it!</span>
</span><span id="Bugzilla.readconfig-421"><a href="#Bugzilla.readconfig-421"><span class="linenos">421</span></a>
</span><span id="Bugzilla.readconfig-422"><a href="#Bugzilla.readconfig-422"><span class="linenos">422</span></a><span class="sd">        :param overwrite: If True, bugzillarc will clobber any already</span>
</span><span id="Bugzilla.readconfig-423"><a href="#Bugzilla.readconfig-423"><span class="linenos">423</span></a><span class="sd">            set self.user/password/api_key/cert value.</span>
</span><span id="Bugzilla.readconfig-424"><a href="#Bugzilla.readconfig-424"><span class="linenos">424</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.readconfig-425"><a href="#Bugzilla.readconfig-425"><span class="linenos">425</span></a>        <span class="k">if</span> <span class="n">configpath</span><span class="p">:</span>
</span><span id="Bugzilla.readconfig-426"><a href="#Bugzilla.readconfig-426"><span class="linenos">426</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_setconfigpath</span><span class="p">(</span><span class="n">configpath</span><span class="p">)</span>
</span><span id="Bugzilla.readconfig-427"><a href="#Bugzilla.readconfig-427"><span class="linenos">427</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rcfile</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</span><span id="Bugzilla.readconfig-428"><a href="#Bugzilla.readconfig-428"><span class="linenos">428</span></a>
</span><span id="Bugzilla.readconfig-429"><a href="#Bugzilla.readconfig-429"><span class="linenos">429</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Bugzilla.readconfig-430"><a href="#Bugzilla.readconfig-430"><span class="linenos">430</span></a>            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;api_key&quot;</span> <span class="ow">and</span> <span class="p">(</span><span class="n">overwrite</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span><span class="p">):</span>
</span><span id="Bugzilla.readconfig-431"><a href="#Bugzilla.readconfig-431"><span class="linenos">431</span></a>                <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;bugzillarc: setting api_key&quot;</span><span class="p">)</span>
</span><span id="Bugzilla.readconfig-432"><a href="#Bugzilla.readconfig-432"><span class="linenos">432</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="n">val</span>
</span><span id="Bugzilla.readconfig-433"><a href="#Bugzilla.readconfig-433"><span class="linenos">433</span></a>            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;user&quot;</span> <span class="ow">and</span> <span class="p">(</span><span class="n">overwrite</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="p">):</span>
</span><span id="Bugzilla.readconfig-434"><a href="#Bugzilla.readconfig-434"><span class="linenos">434</span></a>                <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;bugzillarc: setting user=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
</span><span id="Bugzilla.readconfig-435"><a href="#Bugzilla.readconfig-435"><span class="linenos">435</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">val</span>
</span><span id="Bugzilla.readconfig-436"><a href="#Bugzilla.readconfig-436"><span class="linenos">436</span></a>            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;password&quot;</span> <span class="ow">and</span> <span class="p">(</span><span class="n">overwrite</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="p">):</span>
</span><span id="Bugzilla.readconfig-437"><a href="#Bugzilla.readconfig-437"><span class="linenos">437</span></a>                <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;bugzillarc: setting password&quot;</span><span class="p">)</span>
</span><span id="Bugzilla.readconfig-438"><a href="#Bugzilla.readconfig-438"><span class="linenos">438</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="n">val</span>
</span><span id="Bugzilla.readconfig-439"><a href="#Bugzilla.readconfig-439"><span class="linenos">439</span></a>            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;cert&quot;</span> <span class="ow">and</span> <span class="p">(</span><span class="n">overwrite</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">cert</span><span class="p">):</span>
</span><span id="Bugzilla.readconfig-440"><a href="#Bugzilla.readconfig-440"><span class="linenos">440</span></a>                <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;bugzillarc: setting cert&quot;</span><span class="p">)</span>
</span><span id="Bugzilla.readconfig-441"><a href="#Bugzilla.readconfig-441"><span class="linenos">441</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">cert</span> <span class="o">=</span> <span class="n">val</span>
</span><span id="Bugzilla.readconfig-442"><a href="#Bugzilla.readconfig-442"><span class="linenos">442</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Bugzilla.readconfig-443"><a href="#Bugzilla.readconfig-443"><span class="linenos">443</span></a>                <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;bugzillarc: unknown key=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><h6 id="parameters">Parameters</h6>

<ul>
<li><strong>configpath</strong>:  Optional bugzillarc path to read, instead of
the default list.</li>
</ul>

<p>This function is called automatically from Bugzilla connect(), which
is called at __init__ if a URL is passed. Calling it manually is
just for passing in a non-standard configpath.</p>

<p>The locations for the bugzillarc file are preferred in this order:</p>

<pre><code>~/.config/python-bugzilla/bugzillarc
~/.bugzillarc
/etc/bugzillarc
</code></pre>

<p>It has content like:
  [bugzilla.yoursite.com]
  user = username
  password = password
Or
  [bugzilla.yoursite.com]
  api_key = key</p>

<p>The file can have multiple sections for different bugzilla instances.
A 'url' field in the [DEFAULT] section can be used to set a default
URL for the bugzilla command line tool.</p>

<p>Be sure to set appropriate permissions on bugzillarc if you choose to
store your password in it!</p>

<ul>
<li><strong>overwrite</strong>:  If True, bugzillarc will clobber any already
set self.user/password/api_key/cert value.</li>
</ul>
</div>


                            </div>
                            <div id="Bugzilla.connect" class="classattr">
                                        <input id="Bugzilla.connect-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">connect</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">url</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.connect-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.connect"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.connect-486"><a href="#Bugzilla.connect-486"><span class="linenos">486</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla.connect-487"><a href="#Bugzilla.connect-487"><span class="linenos">487</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.connect-488"><a href="#Bugzilla.connect-488"><span class="linenos">488</span></a><span class="sd">        Connect to the bugzilla instance with the given url. This is</span>
</span><span id="Bugzilla.connect-489"><a href="#Bugzilla.connect-489"><span class="linenos">489</span></a><span class="sd">        called by __init__ if a URL is passed. Or it can be called manually</span>
</span><span id="Bugzilla.connect-490"><a href="#Bugzilla.connect-490"><span class="linenos">490</span></a><span class="sd">        at any time with a passed URL.</span>
</span><span id="Bugzilla.connect-491"><a href="#Bugzilla.connect-491"><span class="linenos">491</span></a>
</span><span id="Bugzilla.connect-492"><a href="#Bugzilla.connect-492"><span class="linenos">492</span></a><span class="sd">        This will also read any available config files (see readconfig()),</span>
</span><span id="Bugzilla.connect-493"><a href="#Bugzilla.connect-493"><span class="linenos">493</span></a><span class="sd">        which may set &#39;user&#39; and &#39;password&#39;, and others.</span>
</span><span id="Bugzilla.connect-494"><a href="#Bugzilla.connect-494"><span class="linenos">494</span></a>
</span><span id="Bugzilla.connect-495"><a href="#Bugzilla.connect-495"><span class="linenos">495</span></a><span class="sd">        If &#39;user&#39; and &#39;password&#39; are both set, we&#39;ll run login(). Otherwise</span>
</span><span id="Bugzilla.connect-496"><a href="#Bugzilla.connect-496"><span class="linenos">496</span></a><span class="sd">        you&#39;ll have to login() yourself before some methods will work.</span>
</span><span id="Bugzilla.connect-497"><a href="#Bugzilla.connect-497"><span class="linenos">497</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.connect-498"><a href="#Bugzilla.connect-498"><span class="linenos">498</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">:</span>
</span><span id="Bugzilla.connect-499"><a href="#Bugzilla.connect-499"><span class="linenos">499</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</span><span id="Bugzilla.connect-500"><a href="#Bugzilla.connect-500"><span class="linenos">500</span></a>
</span><span id="Bugzilla.connect-501"><a href="#Bugzilla.connect-501"><span class="linenos">501</span></a>        <span class="n">url</span> <span class="o">=</span> <span class="n">url</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span>
</span><span id="Bugzilla.connect-502"><a href="#Bugzilla.connect-502"><span class="linenos">502</span></a>        <span class="n">backendclass</span><span class="p">,</span> <span class="n">newurl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_backend_class</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span><span id="Bugzilla.connect-503"><a href="#Bugzilla.connect-503"><span class="linenos">503</span></a>        <span class="k">if</span> <span class="n">url</span> <span class="o">!=</span> <span class="n">newurl</span><span class="p">:</span>
</span><span id="Bugzilla.connect-504"><a href="#Bugzilla.connect-504"><span class="linenos">504</span></a>            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Converted url=</span><span class="si">%s</span><span class="s2"> to fixed url=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">newurl</span><span class="p">)</span>
</span><span id="Bugzilla.connect-505"><a href="#Bugzilla.connect-505"><span class="linenos">505</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">newurl</span>
</span><span id="Bugzilla.connect-506"><a href="#Bugzilla.connect-506"><span class="linenos">506</span></a>        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Connecting with URL </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</span><span id="Bugzilla.connect-507"><a href="#Bugzilla.connect-507"><span class="linenos">507</span></a>
</span><span id="Bugzilla.connect-508"><a href="#Bugzilla.connect-508"><span class="linenos">508</span></a>        <span class="c1"># we&#39;ve changed URLs - reload config</span>
</span><span id="Bugzilla.connect-509"><a href="#Bugzilla.connect-509"><span class="linenos">509</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">readconfig</span><span class="p">(</span><span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="Bugzilla.connect-510"><a href="#Bugzilla.connect-510"><span class="linenos">510</span></a>
</span><span id="Bugzilla.connect-511"><a href="#Bugzilla.connect-511"><span class="linenos">511</span></a>        <span class="c1"># Detect if connecting to redhat bugzilla</span>
</span><span id="Bugzilla.connect-512"><a href="#Bugzilla.connect-512"><span class="linenos">512</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_init_class_from_url</span><span class="p">()</span>
</span><span id="Bugzilla.connect-513"><a href="#Bugzilla.connect-513"><span class="linenos">513</span></a>
</span><span id="Bugzilla.connect-514"><a href="#Bugzilla.connect-514"><span class="linenos">514</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_session</span> <span class="o">=</span> <span class="n">_BugzillaSession</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_agent</span><span class="p">,</span>
</span><span id="Bugzilla.connect-515"><a href="#Bugzilla.connect-515"><span class="linenos">515</span></a>                <span class="n">sslverify</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_sslverify</span><span class="p">,</span>
</span><span id="Bugzilla.connect-516"><a href="#Bugzilla.connect-516"><span class="linenos">516</span></a>                <span class="n">cert</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cert</span><span class="p">,</span>
</span><span id="Bugzilla.connect-517"><a href="#Bugzilla.connect-517"><span class="linenos">517</span></a>                <span class="n">tokencache</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_tokencache</span><span class="p">,</span>
</span><span id="Bugzilla.connect-518"><a href="#Bugzilla.connect-518"><span class="linenos">518</span></a>                <span class="n">api_key</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">api_key</span><span class="p">,</span>
</span><span id="Bugzilla.connect-519"><a href="#Bugzilla.connect-519"><span class="linenos">519</span></a>                <span class="n">is_redhat_bugzilla</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_redhat_bugzilla</span><span class="p">,</span>
</span><span id="Bugzilla.connect-520"><a href="#Bugzilla.connect-520"><span class="linenos">520</span></a>                <span class="n">requests_session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_user_requests_session</span><span class="p">)</span>
</span><span id="Bugzilla.connect-521"><a href="#Bugzilla.connect-521"><span class="linenos">521</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span> <span class="o">=</span> <span class="n">backendclass</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="Bugzilla.connect-522"><a href="#Bugzilla.connect-522"><span class="linenos">522</span></a>
</span><span id="Bugzilla.connect-523"><a href="#Bugzilla.connect-523"><span class="linenos">523</span></a>        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="p">):</span>
</span><span id="Bugzilla.connect-524"><a href="#Bugzilla.connect-524"><span class="linenos">524</span></a>            <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;user and password present - doing login()&quot;</span><span class="p">)</span>
</span><span id="Bugzilla.connect-525"><a href="#Bugzilla.connect-525"><span class="linenos">525</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">()</span>
</span><span id="Bugzilla.connect-526"><a href="#Bugzilla.connect-526"><span class="linenos">526</span></a>
</span><span id="Bugzilla.connect-527"><a href="#Bugzilla.connect-527"><span class="linenos">527</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span><span class="p">:</span>
</span><span id="Bugzilla.connect-528"><a href="#Bugzilla.connect-528"><span class="linenos">528</span></a>            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;using API key&quot;</span><span class="p">)</span>
</span><span id="Bugzilla.connect-529"><a href="#Bugzilla.connect-529"><span class="linenos">529</span></a>
</span><span id="Bugzilla.connect-530"><a href="#Bugzilla.connect-530"><span class="linenos">530</span></a>        <span class="n">version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bugzilla_version</span><span class="p">()[</span><span class="s2">&quot;version&quot;</span><span class="p">]</span>
</span><span id="Bugzilla.connect-531"><a href="#Bugzilla.connect-531"><span class="linenos">531</span></a>        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Bugzilla version string: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">version</span><span class="p">)</span>
</span><span id="Bugzilla.connect-532"><a href="#Bugzilla.connect-532"><span class="linenos">532</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_set_bz_version</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Connect to the bugzilla instance with the given url. This is
called by __init__ if a URL is passed. Or it can be called manually
at any time with a passed URL.</p>

<p>This will also read any available config files (see readconfig()),
which may set 'user' and 'password', and others.</p>

<p>If 'user' and 'password' are both set, we'll run login(). Otherwise
you'll have to login() yourself before some methods will work.</p>
</div>


                            </div>
                            <div id="Bugzilla.is_xmlrpc" class="classattr">
                                        <input id="Bugzilla.is_xmlrpc-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_xmlrpc</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.is_xmlrpc-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.is_xmlrpc"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.is_xmlrpc-546"><a href="#Bugzilla.is_xmlrpc-546"><span class="linenos">546</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_xmlrpc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla.is_xmlrpc-547"><a href="#Bugzilla.is_xmlrpc-547"><span class="linenos">547</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.is_xmlrpc-548"><a href="#Bugzilla.is_xmlrpc-548"><span class="linenos">548</span></a><span class="sd">        :returns: True if using the XMLRPC API</span>
</span><span id="Bugzilla.is_xmlrpc-549"><a href="#Bugzilla.is_xmlrpc-549"><span class="linenos">549</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.is_xmlrpc-550"><a href="#Bugzilla.is_xmlrpc-550"><span class="linenos">550</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">is_xmlrpc</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>:returns: True if using the XMLRPC API</p>
</div>


                            </div>
                            <div id="Bugzilla.is_rest" class="classattr">
                                        <input id="Bugzilla.is_rest-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_rest</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.is_rest-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.is_rest"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.is_rest-552"><a href="#Bugzilla.is_rest-552"><span class="linenos">552</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_rest</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla.is_rest-553"><a href="#Bugzilla.is_rest-553"><span class="linenos">553</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.is_rest-554"><a href="#Bugzilla.is_rest-554"><span class="linenos">554</span></a><span class="sd">        :returns: True if using the REST API</span>
</span><span id="Bugzilla.is_rest-555"><a href="#Bugzilla.is_rest-555"><span class="linenos">555</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.is_rest-556"><a href="#Bugzilla.is_rest-556"><span class="linenos">556</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>:returns: True if using the REST API</p>
</div>


                            </div>
                            <div id="Bugzilla.get_requests_session" class="classattr">
                                        <input id="Bugzilla.get_requests_session-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_requests_session</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.get_requests_session-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.get_requests_session"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.get_requests_session-558"><a href="#Bugzilla.get_requests_session-558"><span class="linenos">558</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_requests_session</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla.get_requests_session-559"><a href="#Bugzilla.get_requests_session-559"><span class="linenos">559</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.get_requests_session-560"><a href="#Bugzilla.get_requests_session-560"><span class="linenos">560</span></a><span class="sd">        Give API users access to the Requests.session object we use for</span>
</span><span id="Bugzilla.get_requests_session-561"><a href="#Bugzilla.get_requests_session-561"><span class="linenos">561</span></a><span class="sd">        talking to the remote bugzilla instance.</span>
</span><span id="Bugzilla.get_requests_session-562"><a href="#Bugzilla.get_requests_session-562"><span class="linenos">562</span></a>
</span><span id="Bugzilla.get_requests_session-563"><a href="#Bugzilla.get_requests_session-563"><span class="linenos">563</span></a><span class="sd">        :returns: The Requests.session object backing the open connection.</span>
</span><span id="Bugzilla.get_requests_session-564"><a href="#Bugzilla.get_requests_session-564"><span class="linenos">564</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.get_requests_session-565"><a href="#Bugzilla.get_requests_session-565"><span class="linenos">565</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">get_requests_session</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Give API users access to the Requests.session object we use for
talking to the remote bugzilla instance.</p>

<p>:returns: The Requests.session object backing the open connection.</p>
</div>


                            </div>
                            <div id="Bugzilla.disconnect" class="classattr">
                                        <input id="Bugzilla.disconnect-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">disconnect</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.disconnect-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.disconnect"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.disconnect-567"><a href="#Bugzilla.disconnect-567"><span class="linenos">567</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">disconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla.disconnect-568"><a href="#Bugzilla.disconnect-568"><span class="linenos">568</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.disconnect-569"><a href="#Bugzilla.disconnect-569"><span class="linenos">569</span></a><span class="sd">        Disconnect from the given bugzilla instance.</span>
</span><span id="Bugzilla.disconnect-570"><a href="#Bugzilla.disconnect-570"><span class="linenos">570</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.disconnect-571"><a href="#Bugzilla.disconnect-571"><span class="linenos">571</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Bugzilla.disconnect-572"><a href="#Bugzilla.disconnect-572"><span class="linenos">572</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_session</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Bugzilla.disconnect-573"><a href="#Bugzilla.disconnect-573"><span class="linenos">573</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span> <span class="o">=</span> <span class="n">_BugzillaAPICache</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Disconnect from the given bugzilla instance.</p>
</div>


                            </div>
                            <div id="Bugzilla.login" class="classattr">
                                        <input id="Bugzilla.login-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">login</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">user</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">password</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">restrict_login</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.login-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.login"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.login-575"><a href="#Bugzilla.login-575"><span class="linenos">575</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">restrict_login</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla.login-576"><a href="#Bugzilla.login-576"><span class="linenos">576</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.login-577"><a href="#Bugzilla.login-577"><span class="linenos">577</span></a><span class="sd">        Attempt to log in using the given username and password. Subsequent</span>
</span><span id="Bugzilla.login-578"><a href="#Bugzilla.login-578"><span class="linenos">578</span></a><span class="sd">        method calls will use this username and password. Returns False if</span>
</span><span id="Bugzilla.login-579"><a href="#Bugzilla.login-579"><span class="linenos">579</span></a><span class="sd">        login fails, otherwise returns some kind of login info - typically</span>
</span><span id="Bugzilla.login-580"><a href="#Bugzilla.login-580"><span class="linenos">580</span></a><span class="sd">        either a numeric userid, or a dict of user info.</span>
</span><span id="Bugzilla.login-581"><a href="#Bugzilla.login-581"><span class="linenos">581</span></a>
</span><span id="Bugzilla.login-582"><a href="#Bugzilla.login-582"><span class="linenos">582</span></a><span class="sd">        If user is not set, the value of Bugzilla.user will be used. If *that*</span>
</span><span id="Bugzilla.login-583"><a href="#Bugzilla.login-583"><span class="linenos">583</span></a><span class="sd">        is not set, ValueError will be raised. If login fails, BugzillaError</span>
</span><span id="Bugzilla.login-584"><a href="#Bugzilla.login-584"><span class="linenos">584</span></a><span class="sd">        will be raised.</span>
</span><span id="Bugzilla.login-585"><a href="#Bugzilla.login-585"><span class="linenos">585</span></a>
</span><span id="Bugzilla.login-586"><a href="#Bugzilla.login-586"><span class="linenos">586</span></a><span class="sd">        The login session can be restricted to current user IP address</span>
</span><span id="Bugzilla.login-587"><a href="#Bugzilla.login-587"><span class="linenos">587</span></a><span class="sd">        with restrict_login argument. (Bugzilla 4.4+)</span>
</span><span id="Bugzilla.login-588"><a href="#Bugzilla.login-588"><span class="linenos">588</span></a>
</span><span id="Bugzilla.login-589"><a href="#Bugzilla.login-589"><span class="linenos">589</span></a><span class="sd">        This method will be called implicitly at the end of connect() if user</span>
</span><span id="Bugzilla.login-590"><a href="#Bugzilla.login-590"><span class="linenos">590</span></a><span class="sd">        and password are both set. So under most circumstances you won&#39;t need</span>
</span><span id="Bugzilla.login-591"><a href="#Bugzilla.login-591"><span class="linenos">591</span></a><span class="sd">        to call this yourself.</span>
</span><span id="Bugzilla.login-592"><a href="#Bugzilla.login-592"><span class="linenos">592</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.login-593"><a href="#Bugzilla.login-593"><span class="linenos">593</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span><span class="p">:</span>
</span><span id="Bugzilla.login-594"><a href="#Bugzilla.login-594"><span class="linenos">594</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;cannot login when using an API key&quot;</span><span class="p">)</span>
</span><span id="Bugzilla.login-595"><a href="#Bugzilla.login-595"><span class="linenos">595</span></a>
</span><span id="Bugzilla.login-596"><a href="#Bugzilla.login-596"><span class="linenos">596</span></a>        <span class="k">if</span> <span class="n">user</span><span class="p">:</span>
</span><span id="Bugzilla.login-597"><a href="#Bugzilla.login-597"><span class="linenos">597</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">user</span>
</span><span id="Bugzilla.login-598"><a href="#Bugzilla.login-598"><span class="linenos">598</span></a>        <span class="k">if</span> <span class="n">password</span><span class="p">:</span>
</span><span id="Bugzilla.login-599"><a href="#Bugzilla.login-599"><span class="linenos">599</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="n">password</span>
</span><span id="Bugzilla.login-600"><a href="#Bugzilla.login-600"><span class="linenos">600</span></a>
</span><span id="Bugzilla.login-601"><a href="#Bugzilla.login-601"><span class="linenos">601</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="p">:</span>
</span><span id="Bugzilla.login-602"><a href="#Bugzilla.login-602"><span class="linenos">602</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;missing username&quot;</span><span class="p">)</span>
</span><span id="Bugzilla.login-603"><a href="#Bugzilla.login-603"><span class="linenos">603</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="p">:</span>
</span><span id="Bugzilla.login-604"><a href="#Bugzilla.login-604"><span class="linenos">604</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;missing password&quot;</span><span class="p">)</span>
</span><span id="Bugzilla.login-605"><a href="#Bugzilla.login-605"><span class="linenos">605</span></a>
</span><span id="Bugzilla.login-606"><a href="#Bugzilla.login-606"><span class="linenos">606</span></a>        <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;login&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="p">}</span>
</span><span id="Bugzilla.login-607"><a href="#Bugzilla.login-607"><span class="linenos">607</span></a>        <span class="k">if</span> <span class="n">restrict_login</span><span class="p">:</span>
</span><span id="Bugzilla.login-608"><a href="#Bugzilla.login-608"><span class="linenos">608</span></a>            <span class="n">payload</span><span class="p">[</span><span class="s1">&#39;restrict_login&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Bugzilla.login-609"><a href="#Bugzilla.login-609"><span class="linenos">609</span></a>        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;logging in with options </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">))</span>
</span><span id="Bugzilla.login-610"><a href="#Bugzilla.login-610"><span class="linenos">610</span></a>        <span class="n">payload</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">password</span>
</span><span id="Bugzilla.login-611"><a href="#Bugzilla.login-611"><span class="linenos">611</span></a>
</span><span id="Bugzilla.login-612"><a href="#Bugzilla.login-612"><span class="linenos">612</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Bugzilla.login-613"><a href="#Bugzilla.login-613"><span class="linenos">613</span></a>            <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">user_login</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
</span><span id="Bugzilla.login-614"><a href="#Bugzilla.login-614"><span class="linenos">614</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="Bugzilla.login-615"><a href="#Bugzilla.login-615"><span class="linenos">615</span></a>            <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;login succeeded for user=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
</span><span id="Bugzilla.login-616"><a href="#Bugzilla.login-616"><span class="linenos">616</span></a>            <span class="k">if</span> <span class="s2">&quot;token&quot;</span> <span class="ow">in</span> <span class="n">ret</span><span class="p">:</span>
</span><span id="Bugzilla.login-617"><a href="#Bugzilla.login-617"><span class="linenos">617</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_tokencache</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">ret</span><span class="p">[</span><span class="s2">&quot;token&quot;</span><span class="p">])</span>
</span><span id="Bugzilla.login-618"><a href="#Bugzilla.login-618"><span class="linenos">618</span></a>            <span class="k">return</span> <span class="n">ret</span>
</span><span id="Bugzilla.login-619"><a href="#Bugzilla.login-619"><span class="linenos">619</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="Bugzilla.login-620"><a href="#Bugzilla.login-620"><span class="linenos">620</span></a>            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Login exception: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="Bugzilla.login-621"><a href="#Bugzilla.login-621"><span class="linenos">621</span></a>            <span class="k">raise</span> <span class="n">BugzillaError</span><span class="p">(</span><span class="s2">&quot;Login failed: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span>
</span><span id="Bugzilla.login-622"><a href="#Bugzilla.login-622"><span class="linenos">622</span></a>                    <span class="n">BugzillaError</span><span class="o">.</span><span class="n">get_bugzilla_error_string</span><span class="p">(</span><span class="n">e</span><span class="p">))</span> <span class="kn">from</span><span class="w"> </span><span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Attempt to log in using the given username and password. Subsequent
method calls will use this username and password. Returns False if
login fails, otherwise returns some kind of login info - typically
either a numeric userid, or a dict of user info.</p>

<p>If user is not set, the value of <a href="#Bugzilla.user">Bugzilla.user</a> will be used. If <em>that</em>
is not set, ValueError will be raised. If login fails, BugzillaError
will be raised.</p>

<p>The login session can be restricted to current user IP address
with restrict_login argument. (Bugzilla 4.4+)</p>

<p>This method will be called implicitly at the end of connect() if user
and password are both set. So under most circumstances you won't need
to call this yourself.</p>
</div>


                            </div>
                            <div id="Bugzilla.interactive_save_api_key" class="classattr">
                                        <input id="Bugzilla.interactive_save_api_key-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">interactive_save_api_key</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.interactive_save_api_key-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.interactive_save_api_key"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.interactive_save_api_key-624"><a href="#Bugzilla.interactive_save_api_key-624"><span class="linenos">624</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">interactive_save_api_key</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla.interactive_save_api_key-625"><a href="#Bugzilla.interactive_save_api_key-625"><span class="linenos">625</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.interactive_save_api_key-626"><a href="#Bugzilla.interactive_save_api_key-626"><span class="linenos">626</span></a><span class="sd">        Helper method to interactively ask for an API key, verify it</span>
</span><span id="Bugzilla.interactive_save_api_key-627"><a href="#Bugzilla.interactive_save_api_key-627"><span class="linenos">627</span></a><span class="sd">        is valid, and save it to a bugzillarc file referenced via</span>
</span><span id="Bugzilla.interactive_save_api_key-628"><a href="#Bugzilla.interactive_save_api_key-628"><span class="linenos">628</span></a><span class="sd">        self.configpaths</span>
</span><span id="Bugzilla.interactive_save_api_key-629"><a href="#Bugzilla.interactive_save_api_key-629"><span class="linenos">629</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.interactive_save_api_key-630"><a href="#Bugzilla.interactive_save_api_key-630"><span class="linenos">630</span></a>        <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;API Key: &#39;</span><span class="p">)</span>
</span><span id="Bugzilla.interactive_save_api_key-631"><a href="#Bugzilla.interactive_save_api_key-631"><span class="linenos">631</span></a>        <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="Bugzilla.interactive_save_api_key-632"><a href="#Bugzilla.interactive_save_api_key-632"><span class="linenos">632</span></a>        <span class="n">api_key</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="Bugzilla.interactive_save_api_key-633"><a href="#Bugzilla.interactive_save_api_key-633"><span class="linenos">633</span></a>
</span><span id="Bugzilla.interactive_save_api_key-634"><a href="#Bugzilla.interactive_save_api_key-634"><span class="linenos">634</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</span><span id="Bugzilla.interactive_save_api_key-635"><a href="#Bugzilla.interactive_save_api_key-635"><span class="linenos">635</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="n">api_key</span>
</span><span id="Bugzilla.interactive_save_api_key-636"><a href="#Bugzilla.interactive_save_api_key-636"><span class="linenos">636</span></a>
</span><span id="Bugzilla.interactive_save_api_key-637"><a href="#Bugzilla.interactive_save_api_key-637"><span class="linenos">637</span></a>        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Checking API key... &#39;</span><span class="p">)</span>
</span><span id="Bugzilla.interactive_save_api_key-638"><a href="#Bugzilla.interactive_save_api_key-638"><span class="linenos">638</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span><span id="Bugzilla.interactive_save_api_key-639"><a href="#Bugzilla.interactive_save_api_key-639"><span class="linenos">639</span></a>
</span><span id="Bugzilla.interactive_save_api_key-640"><a href="#Bugzilla.interactive_save_api_key-640"><span class="linenos">640</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">logged_in</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
</span><span id="Bugzilla.interactive_save_api_key-641"><a href="#Bugzilla.interactive_save_api_key-641"><span class="linenos">641</span></a>            <span class="k">raise</span> <span class="n">BugzillaError</span><span class="p">(</span><span class="s2">&quot;Login with API_KEY failed&quot;</span><span class="p">)</span>
</span><span id="Bugzilla.interactive_save_api_key-642"><a href="#Bugzilla.interactive_save_api_key-642"><span class="linenos">642</span></a>        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;API Key accepted&#39;</span><span class="p">)</span>
</span><span id="Bugzilla.interactive_save_api_key-643"><a href="#Bugzilla.interactive_save_api_key-643"><span class="linenos">643</span></a>
</span><span id="Bugzilla.interactive_save_api_key-644"><a href="#Bugzilla.interactive_save_api_key-644"><span class="linenos">644</span></a>        <span class="n">wrote_filename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rcfile</span><span class="o">.</span><span class="n">save_api_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span><span class="p">)</span>
</span><span id="Bugzilla.interactive_save_api_key-645"><a href="#Bugzilla.interactive_save_api_key-645"><span class="linenos">645</span></a>        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;API key written to filename=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">wrote_filename</span><span class="p">)</span>
</span><span id="Bugzilla.interactive_save_api_key-646"><a href="#Bugzilla.interactive_save_api_key-646"><span class="linenos">646</span></a>
</span><span id="Bugzilla.interactive_save_api_key-647"><a href="#Bugzilla.interactive_save_api_key-647"><span class="linenos">647</span></a>        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Login successful.&quot;</span>
</span><span id="Bugzilla.interactive_save_api_key-648"><a href="#Bugzilla.interactive_save_api_key-648"><span class="linenos">648</span></a>        <span class="k">if</span> <span class="n">wrote_filename</span><span class="p">:</span>
</span><span id="Bugzilla.interactive_save_api_key-649"><a href="#Bugzilla.interactive_save_api_key-649"><span class="linenos">649</span></a>            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; API key written to </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">wrote_filename</span>
</span><span id="Bugzilla.interactive_save_api_key-650"><a href="#Bugzilla.interactive_save_api_key-650"><span class="linenos">650</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Helper method to interactively ask for an API key, verify it
is valid, and save it to a bugzillarc file referenced via
self.configpaths</p>
</div>


                            </div>
                            <div id="Bugzilla.interactive_login" class="classattr">
                                        <input id="Bugzilla.interactive_login-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">interactive_login</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">user</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">password</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">force</span><span class="o">=</span><span class="kc">False</span>, </span><span class="param"><span class="n">restrict_login</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.interactive_login-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.interactive_login"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.interactive_login-652"><a href="#Bugzilla.interactive_login-652"><span class="linenos">652</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">interactive_login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="Bugzilla.interactive_login-653"><a href="#Bugzilla.interactive_login-653"><span class="linenos">653</span></a>                          <span class="n">restrict_login</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla.interactive_login-654"><a href="#Bugzilla.interactive_login-654"><span class="linenos">654</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.interactive_login-655"><a href="#Bugzilla.interactive_login-655"><span class="linenos">655</span></a><span class="sd">        Helper method to handle login for this bugzilla instance.</span>
</span><span id="Bugzilla.interactive_login-656"><a href="#Bugzilla.interactive_login-656"><span class="linenos">656</span></a>
</span><span id="Bugzilla.interactive_login-657"><a href="#Bugzilla.interactive_login-657"><span class="linenos">657</span></a><span class="sd">        :param user: bugzilla username. If not specified, prompt for it.</span>
</span><span id="Bugzilla.interactive_login-658"><a href="#Bugzilla.interactive_login-658"><span class="linenos">658</span></a><span class="sd">        :param password: bugzilla password. If not specified, prompt for it.</span>
</span><span id="Bugzilla.interactive_login-659"><a href="#Bugzilla.interactive_login-659"><span class="linenos">659</span></a><span class="sd">        :param force: Unused</span>
</span><span id="Bugzilla.interactive_login-660"><a href="#Bugzilla.interactive_login-660"><span class="linenos">660</span></a><span class="sd">        :param restrict_login: restricts session to IP address</span>
</span><span id="Bugzilla.interactive_login-661"><a href="#Bugzilla.interactive_login-661"><span class="linenos">661</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.interactive_login-662"><a href="#Bugzilla.interactive_login-662"><span class="linenos">662</span></a>        <span class="n">ignore</span> <span class="o">=</span> <span class="n">force</span>
</span><span id="Bugzilla.interactive_login-663"><a href="#Bugzilla.interactive_login-663"><span class="linenos">663</span></a>        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Calling interactive_login&#39;</span><span class="p">)</span>
</span><span id="Bugzilla.interactive_login-664"><a href="#Bugzilla.interactive_login-664"><span class="linenos">664</span></a>
</span><span id="Bugzilla.interactive_login-665"><a href="#Bugzilla.interactive_login-665"><span class="linenos">665</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">user</span><span class="p">:</span>
</span><span id="Bugzilla.interactive_login-666"><a href="#Bugzilla.interactive_login-666"><span class="linenos">666</span></a>            <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Bugzilla Username: &#39;</span><span class="p">)</span>
</span><span id="Bugzilla.interactive_login-667"><a href="#Bugzilla.interactive_login-667"><span class="linenos">667</span></a>            <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span><span id="Bugzilla.interactive_login-668"><a href="#Bugzilla.interactive_login-668"><span class="linenos">668</span></a>            <span class="n">user</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="Bugzilla.interactive_login-669"><a href="#Bugzilla.interactive_login-669"><span class="linenos">669</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">password</span><span class="p">:</span>
</span><span id="Bugzilla.interactive_login-670"><a href="#Bugzilla.interactive_login-670"><span class="linenos">670</span></a>            <span class="n">password</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getpass</span><span class="p">(</span><span class="s1">&#39;Bugzilla Password: &#39;</span><span class="p">)</span>
</span><span id="Bugzilla.interactive_login-671"><a href="#Bugzilla.interactive_login-671"><span class="linenos">671</span></a>
</span><span id="Bugzilla.interactive_login-672"><a href="#Bugzilla.interactive_login-672"><span class="linenos">672</span></a>        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Logging in... &#39;</span><span class="p">)</span>
</span><span id="Bugzilla.interactive_login-673"><a href="#Bugzilla.interactive_login-673"><span class="linenos">673</span></a>        <span class="n">out</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">restrict_login</span><span class="p">)</span>
</span><span id="Bugzilla.interactive_login-674"><a href="#Bugzilla.interactive_login-674"><span class="linenos">674</span></a>        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Login successful.&quot;</span>
</span><span id="Bugzilla.interactive_login-675"><a href="#Bugzilla.interactive_login-675"><span class="linenos">675</span></a>        <span class="k">if</span> <span class="s2">&quot;token&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">out</span><span class="p">:</span>
</span><span id="Bugzilla.interactive_login-676"><a href="#Bugzilla.interactive_login-676"><span class="linenos">676</span></a>            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; However no token was returned.&quot;</span>
</span><span id="Bugzilla.interactive_login-677"><a href="#Bugzilla.interactive_login-677"><span class="linenos">677</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Bugzilla.interactive_login-678"><a href="#Bugzilla.interactive_login-678"><span class="linenos">678</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">tokenfile</span><span class="p">:</span>
</span><span id="Bugzilla.interactive_login-679"><a href="#Bugzilla.interactive_login-679"><span class="linenos">679</span></a>                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; Token not saved to disk.&quot;</span>
</span><span id="Bugzilla.interactive_login-680"><a href="#Bugzilla.interactive_login-680"><span class="linenos">680</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Bugzilla.interactive_login-681"><a href="#Bugzilla.interactive_login-681"><span class="linenos">681</span></a>                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; Token cache saved to </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">tokenfile</span>
</span><span id="Bugzilla.interactive_login-682"><a href="#Bugzilla.interactive_login-682"><span class="linenos">682</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_version</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mf">5.0</span><span class="p">:</span>
</span><span id="Bugzilla.interactive_login-683"><a href="#Bugzilla.interactive_login-683"><span class="linenos">683</span></a>                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Token usage is deprecated. &quot;</span>
</span><span id="Bugzilla.interactive_login-684"><a href="#Bugzilla.interactive_login-684"><span class="linenos">684</span></a>                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;Consider using bugzilla API keys instead. &quot;</span>
</span><span id="Bugzilla.interactive_login-685"><a href="#Bugzilla.interactive_login-685"><span class="linenos">685</span></a>                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;See `man bugzilla` for more details.&quot;</span>
</span><span id="Bugzilla.interactive_login-686"><a href="#Bugzilla.interactive_login-686"><span class="linenos">686</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Helper method to handle login for this bugzilla instance.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>user</strong>:  bugzilla username. If not specified, prompt for it.</li>
<li><strong>password</strong>:  bugzilla password. If not specified, prompt for it.</li>
<li><strong>force</strong>:  Unused</li>
<li><strong>restrict_login</strong>:  restricts session to IP address</li>
</ul>
</div>


                            </div>
                            <div id="Bugzilla.logout" class="classattr">
                                        <input id="Bugzilla.logout-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">logout</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.logout-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.logout"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.logout-688"><a href="#Bugzilla.logout-688"><span class="linenos">688</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">logout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla.logout-689"><a href="#Bugzilla.logout-689"><span class="linenos">689</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.logout-690"><a href="#Bugzilla.logout-690"><span class="linenos">690</span></a><span class="sd">        Log out of bugzilla. Drops server connection and user info, and</span>
</span><span id="Bugzilla.logout-691"><a href="#Bugzilla.logout-691"><span class="linenos">691</span></a><span class="sd">        destroys authentication cache</span>
</span><span id="Bugzilla.logout-692"><a href="#Bugzilla.logout-692"><span class="linenos">692</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.logout-693"><a href="#Bugzilla.logout-693"><span class="linenos">693</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">user_logout</span><span class="p">()</span>
</span><span id="Bugzilla.logout-694"><a href="#Bugzilla.logout-694"><span class="linenos">694</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</span><span id="Bugzilla.logout-695"><a href="#Bugzilla.logout-695"><span class="linenos">695</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="Bugzilla.logout-696"><a href="#Bugzilla.logout-696"><span class="linenos">696</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span></pre></div>


            <div class="docstring"><p>Log out of bugzilla. Drops server connection and user info, and
destroys authentication cache</p>
</div>


                            </div>
                            <div id="Bugzilla.logged_in" class="classattr">
                                        <input id="Bugzilla.logged_in-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">logged_in</span>

                <label class="view-source-button" for="Bugzilla.logged_in-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.logged_in"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.logged_in-698"><a href="#Bugzilla.logged_in-698"><span class="linenos">698</span></a>    <span class="nd">@property</span>
</span><span id="Bugzilla.logged_in-699"><a href="#Bugzilla.logged_in-699"><span class="linenos">699</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">logged_in</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla.logged_in-700"><a href="#Bugzilla.logged_in-700"><span class="linenos">700</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.logged_in-701"><a href="#Bugzilla.logged_in-701"><span class="linenos">701</span></a><span class="sd">        This is True if this instance is logged in else False.</span>
</span><span id="Bugzilla.logged_in-702"><a href="#Bugzilla.logged_in-702"><span class="linenos">702</span></a>
</span><span id="Bugzilla.logged_in-703"><a href="#Bugzilla.logged_in-703"><span class="linenos">703</span></a><span class="sd">        We test if this session is authenticated by calling the User.get()</span>
</span><span id="Bugzilla.logged_in-704"><a href="#Bugzilla.logged_in-704"><span class="linenos">704</span></a><span class="sd">        XMLRPC method with ids set. Logged-out users cannot pass the &#39;ids&#39;</span>
</span><span id="Bugzilla.logged_in-705"><a href="#Bugzilla.logged_in-705"><span class="linenos">705</span></a><span class="sd">        parameter and will result in a 505 error. If we tried to login with a</span>
</span><span id="Bugzilla.logged_in-706"><a href="#Bugzilla.logged_in-706"><span class="linenos">706</span></a><span class="sd">        token, but the token was incorrect or expired, the server returns a</span>
</span><span id="Bugzilla.logged_in-707"><a href="#Bugzilla.logged_in-707"><span class="linenos">707</span></a><span class="sd">        32000 error.</span>
</span><span id="Bugzilla.logged_in-708"><a href="#Bugzilla.logged_in-708"><span class="linenos">708</span></a>
</span><span id="Bugzilla.logged_in-709"><a href="#Bugzilla.logged_in-709"><span class="linenos">709</span></a><span class="sd">        For Bugzilla 5 and later, a new method, User.valid_login is available</span>
</span><span id="Bugzilla.logged_in-710"><a href="#Bugzilla.logged_in-710"><span class="linenos">710</span></a><span class="sd">        to test the validity of the token. However, this will require that the</span>
</span><span id="Bugzilla.logged_in-711"><a href="#Bugzilla.logged_in-711"><span class="linenos">711</span></a><span class="sd">        username be cached along with the token in order to work effectively in</span>
</span><span id="Bugzilla.logged_in-712"><a href="#Bugzilla.logged_in-712"><span class="linenos">712</span></a><span class="sd">        all scenarios and is not currently used. For more information, refer to</span>
</span><span id="Bugzilla.logged_in-713"><a href="#Bugzilla.logged_in-713"><span class="linenos">713</span></a><span class="sd">        the following url.</span>
</span><span id="Bugzilla.logged_in-714"><a href="#Bugzilla.logged_in-714"><span class="linenos">714</span></a>
</span><span id="Bugzilla.logged_in-715"><a href="#Bugzilla.logged_in-715"><span class="linenos">715</span></a><span class="sd">        http://bugzilla.readthedocs.org/en/latest/api/core/v1/user.html#valid-login</span>
</span><span id="Bugzilla.logged_in-716"><a href="#Bugzilla.logged_in-716"><span class="linenos">716</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.logged_in-717"><a href="#Bugzilla.logged_in-717"><span class="linenos">717</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Bugzilla.logged_in-718"><a href="#Bugzilla.logged_in-718"><span class="linenos">718</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">user_get</span><span class="p">({</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]})</span>
</span><span id="Bugzilla.logged_in-719"><a href="#Bugzilla.logged_in-719"><span class="linenos">719</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="Bugzilla.logged_in-720"><a href="#Bugzilla.logged_in-720"><span class="linenos">720</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="Bugzilla.logged_in-721"><a href="#Bugzilla.logged_in-721"><span class="linenos">721</span></a>            <span class="n">code</span> <span class="o">=</span> <span class="n">BugzillaError</span><span class="o">.</span><span class="n">get_bugzilla_error_code</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="Bugzilla.logged_in-722"><a href="#Bugzilla.logged_in-722"><span class="linenos">722</span></a>            <span class="k">if</span> <span class="n">code</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">505</span><span class="p">,</span> <span class="mi">32000</span><span class="p">]:</span>
</span><span id="Bugzilla.logged_in-723"><a href="#Bugzilla.logged_in-723"><span class="linenos">723</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="Bugzilla.logged_in-724"><a href="#Bugzilla.logged_in-724"><span class="linenos">724</span></a>            <span class="k">raise</span> <span class="n">e</span>
</span></pre></div>


            <div class="docstring"><p>This is True if this instance is logged in else False.</p>

<p>We test if this session is authenticated by calling the User.get()
XMLRPC method with ids set. Logged-out users cannot pass the 'ids'
parameter and will result in a 505 error. If we tried to login with a
token, but the token was incorrect or expired, the server returns a
32000 error.</p>

<p>For Bugzilla 5 and later, a new method, User.valid_login is available
to test the validity of the token. However, this will require that the
username be cached along with the token in order to work effectively in
all scenarios and is not currently used. For more information, refer to
the following url.</p>

<p><a href="http://bugzilla.readthedocs.org/en/latest/api/core/v1/user.html#valid-login">http://bugzilla.readthedocs.org/en/latest/api/core/v1/user.html#valid-login</a></p>
</div>


                            </div>
                            <div id="Bugzilla.getbugfields" class="classattr">
                                        <input id="Bugzilla.getbugfields-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getbugfields</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">force_refresh</span><span class="o">=</span><span class="kc">False</span>, </span><span class="param"><span class="n">names</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.getbugfields-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.getbugfields"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.getbugfields-731"><a href="#Bugzilla.getbugfields-731"><span class="linenos">731</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getbugfields</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force_refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla.getbugfields-732"><a href="#Bugzilla.getbugfields-732"><span class="linenos">732</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.getbugfields-733"><a href="#Bugzilla.getbugfields-733"><span class="linenos">733</span></a><span class="sd">        Calls getBugFields, which returns a list of fields in each bug</span>
</span><span id="Bugzilla.getbugfields-734"><a href="#Bugzilla.getbugfields-734"><span class="linenos">734</span></a><span class="sd">        for this bugzilla instance. This can be used to set the list of attrs</span>
</span><span id="Bugzilla.getbugfields-735"><a href="#Bugzilla.getbugfields-735"><span class="linenos">735</span></a><span class="sd">        on the Bug object.</span>
</span><span id="Bugzilla.getbugfields-736"><a href="#Bugzilla.getbugfields-736"><span class="linenos">736</span></a>
</span><span id="Bugzilla.getbugfields-737"><a href="#Bugzilla.getbugfields-737"><span class="linenos">737</span></a><span class="sd">        :param force_refresh: If True, overwrite the bugfield cache</span>
</span><span id="Bugzilla.getbugfields-738"><a href="#Bugzilla.getbugfields-738"><span class="linenos">738</span></a><span class="sd">            with these newly checked values.</span>
</span><span id="Bugzilla.getbugfields-739"><a href="#Bugzilla.getbugfields-739"><span class="linenos">739</span></a><span class="sd">        :param names: Only check for the passed bug field names</span>
</span><span id="Bugzilla.getbugfields-740"><a href="#Bugzilla.getbugfields-740"><span class="linenos">740</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.getbugfields-741"><a href="#Bugzilla.getbugfields-741"><span class="linenos">741</span></a>        <span class="k">def</span><span class="w"> </span><span class="nf">_fieldnames</span><span class="p">():</span>
</span><span id="Bugzilla.getbugfields-742"><a href="#Bugzilla.getbugfields-742"><span class="linenos">742</span></a>            <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;include_fields&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]}</span>
</span><span id="Bugzilla.getbugfields-743"><a href="#Bugzilla.getbugfields-743"><span class="linenos">743</span></a>            <span class="k">if</span> <span class="n">names</span><span class="p">:</span>
</span><span id="Bugzilla.getbugfields-744"><a href="#Bugzilla.getbugfields-744"><span class="linenos">744</span></a>                <span class="n">data</span><span class="p">[</span><span class="s2">&quot;names&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">names</span>
</span><span id="Bugzilla.getbugfields-745"><a href="#Bugzilla.getbugfields-745"><span class="linenos">745</span></a>            <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_fields</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="Bugzilla.getbugfields-746"><a href="#Bugzilla.getbugfields-746"><span class="linenos">746</span></a>            <span class="k">return</span> <span class="p">[</span><span class="n">f</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;fields&#39;</span><span class="p">]]</span>
</span><span id="Bugzilla.getbugfields-747"><a href="#Bugzilla.getbugfields-747"><span class="linenos">747</span></a>
</span><span id="Bugzilla.getbugfields-748"><a href="#Bugzilla.getbugfields-748"><span class="linenos">748</span></a>        <span class="k">if</span> <span class="n">force_refresh</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">bugfields</span><span class="p">:</span>
</span><span id="Bugzilla.getbugfields-749"><a href="#Bugzilla.getbugfields-749"><span class="linenos">749</span></a>            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Refreshing bugfields&quot;</span><span class="p">)</span>
</span><span id="Bugzilla.getbugfields-750"><a href="#Bugzilla.getbugfields-750"><span class="linenos">750</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">bugfields</span> <span class="o">=</span> <span class="n">_fieldnames</span><span class="p">()</span>
</span><span id="Bugzilla.getbugfields-751"><a href="#Bugzilla.getbugfields-751"><span class="linenos">751</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">bugfields</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
</span><span id="Bugzilla.getbugfields-752"><a href="#Bugzilla.getbugfields-752"><span class="linenos">752</span></a>            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;bugfields = </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">bugfields</span><span class="p">)</span>
</span><span id="Bugzilla.getbugfields-753"><a href="#Bugzilla.getbugfields-753"><span class="linenos">753</span></a>
</span><span id="Bugzilla.getbugfields-754"><a href="#Bugzilla.getbugfields-754"><span class="linenos">754</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">bugfields</span>
</span></pre></div>


            <div class="docstring"><p>Calls getBugFields, which returns a list of fields in each bug
for this bugzilla instance. This can be used to set the list of attrs
on the Bug object.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>force_refresh</strong>:  If True, overwrite the bugfield cache
with these newly checked values.</li>
<li><strong>names</strong>:  Only check for the passed bug field names</li>
</ul>
</div>


                            </div>
                            <div id="Bugzilla.bugfields" class="classattr">
                                        <input id="Bugzilla.bugfields-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">bugfields</span>

                <label class="view-source-button" for="Bugzilla.bugfields-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.bugfields"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.bugfields-755"><a href="#Bugzilla.bugfields-755"><span class="linenos">755</span></a>    <span class="n">bugfields</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">fget</span><span class="o">=</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">getbugfields</span><span class="p">(),</span>
</span><span id="Bugzilla.bugfields-756"><a href="#Bugzilla.bugfields-756"><span class="linenos">756</span></a>                         <span class="n">fdel</span><span class="o">=</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_bugfields&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
</span></pre></div>


    

                            </div>
                            <div id="Bugzilla.product_get" class="classattr">
                                        <input id="Bugzilla.product_get-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">product_get</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">ids</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">names</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">include_fields</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">exclude_fields</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">ptype</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.product_get-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.product_get"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.product_get-763"><a href="#Bugzilla.product_get-763"><span class="linenos">763</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">product_get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.product_get-764"><a href="#Bugzilla.product_get-764"><span class="linenos">764</span></a>                    <span class="n">include_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.product_get-765"><a href="#Bugzilla.product_get-765"><span class="linenos">765</span></a>                    <span class="n">ptype</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla.product_get-766"><a href="#Bugzilla.product_get-766"><span class="linenos">766</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.product_get-767"><a href="#Bugzilla.product_get-767"><span class="linenos">767</span></a><span class="sd">        Raw wrapper around Product.get</span>
</span><span id="Bugzilla.product_get-768"><a href="#Bugzilla.product_get-768"><span class="linenos">768</span></a><span class="sd">        https://bugzilla.readthedocs.io/en/latest/api/core/v1/product.html#get-product</span>
</span><span id="Bugzilla.product_get-769"><a href="#Bugzilla.product_get-769"><span class="linenos">769</span></a>
</span><span id="Bugzilla.product_get-770"><a href="#Bugzilla.product_get-770"><span class="linenos">770</span></a><span class="sd">        This does not perform any caching like other product API calls.</span>
</span><span id="Bugzilla.product_get-771"><a href="#Bugzilla.product_get-771"><span class="linenos">771</span></a><span class="sd">        If ids, names, or ptype is not specified, we default to</span>
</span><span id="Bugzilla.product_get-772"><a href="#Bugzilla.product_get-772"><span class="linenos">772</span></a><span class="sd">        ptype=accessible for historical reasons</span>
</span><span id="Bugzilla.product_get-773"><a href="#Bugzilla.product_get-773"><span class="linenos">773</span></a>
</span><span id="Bugzilla.product_get-774"><a href="#Bugzilla.product_get-774"><span class="linenos">774</span></a><span class="sd">        @ids: List of product IDs to lookup</span>
</span><span id="Bugzilla.product_get-775"><a href="#Bugzilla.product_get-775"><span class="linenos">775</span></a><span class="sd">        @names: List of product names to lookup</span>
</span><span id="Bugzilla.product_get-776"><a href="#Bugzilla.product_get-776"><span class="linenos">776</span></a><span class="sd">        @ptype: Either &#39;accessible&#39;, &#39;selectable&#39;, or &#39;enterable&#39;. If</span>
</span><span id="Bugzilla.product_get-777"><a href="#Bugzilla.product_get-777"><span class="linenos">777</span></a><span class="sd">            specified, we return data for all those</span>
</span><span id="Bugzilla.product_get-778"><a href="#Bugzilla.product_get-778"><span class="linenos">778</span></a><span class="sd">        @include_fields: Only include these fields in the output</span>
</span><span id="Bugzilla.product_get-779"><a href="#Bugzilla.product_get-779"><span class="linenos">779</span></a><span class="sd">        @exclude_fields: Do not include these fields in the output</span>
</span><span id="Bugzilla.product_get-780"><a href="#Bugzilla.product_get-780"><span class="linenos">780</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.product_get-781"><a href="#Bugzilla.product_get-781"><span class="linenos">781</span></a>        <span class="k">if</span> <span class="n">ids</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">names</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">ptype</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.product_get-782"><a href="#Bugzilla.product_get-782"><span class="linenos">782</span></a>            <span class="n">ptype</span> <span class="o">=</span> <span class="s2">&quot;accessible&quot;</span>
</span><span id="Bugzilla.product_get-783"><a href="#Bugzilla.product_get-783"><span class="linenos">783</span></a>
</span><span id="Bugzilla.product_get-784"><a href="#Bugzilla.product_get-784"><span class="linenos">784</span></a>        <span class="k">if</span> <span class="n">ptype</span><span class="p">:</span>
</span><span id="Bugzilla.product_get-785"><a href="#Bugzilla.product_get-785"><span class="linenos">785</span></a>            <span class="n">raw</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Bugzilla.product_get-786"><a href="#Bugzilla.product_get-786"><span class="linenos">786</span></a>            <span class="k">if</span> <span class="n">ptype</span> <span class="o">==</span> <span class="s2">&quot;accessible&quot;</span><span class="p">:</span>
</span><span id="Bugzilla.product_get-787"><a href="#Bugzilla.product_get-787"><span class="linenos">787</span></a>                <span class="n">raw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">product_get_accessible</span><span class="p">()</span>
</span><span id="Bugzilla.product_get-788"><a href="#Bugzilla.product_get-788"><span class="linenos">788</span></a>            <span class="k">elif</span> <span class="n">ptype</span> <span class="o">==</span> <span class="s2">&quot;enterable&quot;</span><span class="p">:</span>
</span><span id="Bugzilla.product_get-789"><a href="#Bugzilla.product_get-789"><span class="linenos">789</span></a>                <span class="n">raw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">product_get_enterable</span><span class="p">()</span>
</span><span id="Bugzilla.product_get-790"><a href="#Bugzilla.product_get-790"><span class="linenos">790</span></a>            <span class="k">elif</span> <span class="n">ptype</span> <span class="o">==</span> <span class="s2">&quot;selectable&quot;</span><span class="p">:</span>
</span><span id="Bugzilla.product_get-791"><a href="#Bugzilla.product_get-791"><span class="linenos">791</span></a>                <span class="n">raw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">product_get_selectable</span><span class="p">()</span>
</span><span id="Bugzilla.product_get-792"><a href="#Bugzilla.product_get-792"><span class="linenos">792</span></a>
</span><span id="Bugzilla.product_get-793"><a href="#Bugzilla.product_get-793"><span class="linenos">793</span></a>            <span class="k">if</span> <span class="n">raw</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.product_get-794"><a href="#Bugzilla.product_get-794"><span class="linenos">794</span></a>                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Unknown ptype=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">ptype</span><span class="p">)</span>
</span><span id="Bugzilla.product_get-795"><a href="#Bugzilla.product_get-795"><span class="linenos">795</span></a>            <span class="n">ids</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="s1">&#39;ids&#39;</span><span class="p">]</span>
</span><span id="Bugzilla.product_get-796"><a href="#Bugzilla.product_get-796"><span class="linenos">796</span></a>            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;For ptype=</span><span class="si">%s</span><span class="s2"> found ids=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ptype</span><span class="p">,</span> <span class="n">ids</span><span class="p">)</span>
</span><span id="Bugzilla.product_get-797"><a href="#Bugzilla.product_get-797"><span class="linenos">797</span></a>
</span><span id="Bugzilla.product_get-798"><a href="#Bugzilla.product_get-798"><span class="linenos">798</span></a>        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla.product_get-799"><a href="#Bugzilla.product_get-799"><span class="linenos">799</span></a>        <span class="k">if</span> <span class="n">ids</span><span class="p">:</span>
</span><span id="Bugzilla.product_get-800"><a href="#Bugzilla.product_get-800"><span class="linenos">800</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;ids&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span>
</span><span id="Bugzilla.product_get-801"><a href="#Bugzilla.product_get-801"><span class="linenos">801</span></a>        <span class="k">if</span> <span class="n">names</span><span class="p">:</span>
</span><span id="Bugzilla.product_get-802"><a href="#Bugzilla.product_get-802"><span class="linenos">802</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;names&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">names</span><span class="p">)</span>
</span><span id="Bugzilla.product_get-803"><a href="#Bugzilla.product_get-803"><span class="linenos">803</span></a>        <span class="k">if</span> <span class="n">include_fields</span><span class="p">:</span>
</span><span id="Bugzilla.product_get-804"><a href="#Bugzilla.product_get-804"><span class="linenos">804</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;include_fields&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">include_fields</span>
</span><span id="Bugzilla.product_get-805"><a href="#Bugzilla.product_get-805"><span class="linenos">805</span></a>        <span class="k">if</span> <span class="n">exclude_fields</span><span class="p">:</span>
</span><span id="Bugzilla.product_get-806"><a href="#Bugzilla.product_get-806"><span class="linenos">806</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;exclude_fields&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">exclude_fields</span>
</span><span id="Bugzilla.product_get-807"><a href="#Bugzilla.product_get-807"><span class="linenos">807</span></a>
</span><span id="Bugzilla.product_get-808"><a href="#Bugzilla.product_get-808"><span class="linenos">808</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">product_get</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Bugzilla.product_get-809"><a href="#Bugzilla.product_get-809"><span class="linenos">809</span></a>        <span class="k">return</span> <span class="n">ret</span><span class="p">[</span><span class="s1">&#39;products&#39;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Raw wrapper around Product.get
<a href="https://bugzilla.readthedocs.io/en/latest/api/core/v1/product.html#get-product">https://bugzilla.readthedocs.io/en/latest/api/core/v1/product.html#get-product</a></p>

<p>This does not perform any caching like other product API calls.
If ids, names, or ptype is not specified, we default to
ptype=accessible for historical reasons</p>

<p>@ids: List of product IDs to lookup
@names: List of product names to lookup
@ptype: Either 'accessible', 'selectable', or 'enterable'. If
    specified, we return data for all those
@include_fields: Only include these fields in the output
@exclude_fields: Do not include these fields in the output</p>
</div>


                            </div>
                            <div id="Bugzilla.refresh_products" class="classattr">
                                        <input id="Bugzilla.refresh_products-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">refresh_products</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.refresh_products-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.refresh_products"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.refresh_products-811"><a href="#Bugzilla.refresh_products-811"><span class="linenos">811</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">refresh_products</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Bugzilla.refresh_products-812"><a href="#Bugzilla.refresh_products-812"><span class="linenos">812</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.refresh_products-813"><a href="#Bugzilla.refresh_products-813"><span class="linenos">813</span></a><span class="sd">        Refresh a product&#39;s cached info. Basically calls product_get</span>
</span><span id="Bugzilla.refresh_products-814"><a href="#Bugzilla.refresh_products-814"><span class="linenos">814</span></a><span class="sd">        with the passed arguments, and tries to intelligently update</span>
</span><span id="Bugzilla.refresh_products-815"><a href="#Bugzilla.refresh_products-815"><span class="linenos">815</span></a><span class="sd">        our product cache.</span>
</span><span id="Bugzilla.refresh_products-816"><a href="#Bugzilla.refresh_products-816"><span class="linenos">816</span></a>
</span><span id="Bugzilla.refresh_products-817"><a href="#Bugzilla.refresh_products-817"><span class="linenos">817</span></a><span class="sd">        For example, if we already have cached info for product=foo,</span>
</span><span id="Bugzilla.refresh_products-818"><a href="#Bugzilla.refresh_products-818"><span class="linenos">818</span></a><span class="sd">        and you pass in names=[&quot;bar&quot;, &quot;baz&quot;], the new cache will have</span>
</span><span id="Bugzilla.refresh_products-819"><a href="#Bugzilla.refresh_products-819"><span class="linenos">819</span></a><span class="sd">        info for products foo, bar, baz. Individual product fields are</span>
</span><span id="Bugzilla.refresh_products-820"><a href="#Bugzilla.refresh_products-820"><span class="linenos">820</span></a><span class="sd">        also updated.</span>
</span><span id="Bugzilla.refresh_products-821"><a href="#Bugzilla.refresh_products-821"><span class="linenos">821</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.refresh_products-822"><a href="#Bugzilla.refresh_products-822"><span class="linenos">822</span></a>        <span class="k">for</span> <span class="n">product</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">product_get</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Bugzilla.refresh_products-823"><a href="#Bugzilla.refresh_products-823"><span class="linenos">823</span></a>            <span class="n">updated</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Bugzilla.refresh_products-824"><a href="#Bugzilla.refresh_products-824"><span class="linenos">824</span></a>            <span class="k">for</span> <span class="n">current</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">products</span><span class="p">[:]:</span>
</span><span id="Bugzilla.refresh_products-825"><a href="#Bugzilla.refresh_products-825"><span class="linenos">825</span></a>                <span class="k">if</span> <span class="p">(</span><span class="n">current</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">!=</span> <span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="ow">and</span>
</span><span id="Bugzilla.refresh_products-826"><a href="#Bugzilla.refresh_products-826"><span class="linenos">826</span></a>                    <span class="n">current</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">!=</span> <span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)):</span>
</span><span id="Bugzilla.refresh_products-827"><a href="#Bugzilla.refresh_products-827"><span class="linenos">827</span></a>                    <span class="k">continue</span>
</span><span id="Bugzilla.refresh_products-828"><a href="#Bugzilla.refresh_products-828"><span class="linenos">828</span></a>
</span><span id="Bugzilla.refresh_products-829"><a href="#Bugzilla.refresh_products-829"><span class="linenos">829</span></a>                <span class="n">_nested_update</span><span class="p">(</span><span class="n">current</span><span class="p">,</span> <span class="n">product</span><span class="p">)</span>
</span><span id="Bugzilla.refresh_products-830"><a href="#Bugzilla.refresh_products-830"><span class="linenos">830</span></a>                <span class="n">updated</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Bugzilla.refresh_products-831"><a href="#Bugzilla.refresh_products-831"><span class="linenos">831</span></a>                <span class="k">break</span>
</span><span id="Bugzilla.refresh_products-832"><a href="#Bugzilla.refresh_products-832"><span class="linenos">832</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">updated</span><span class="p">:</span>
</span><span id="Bugzilla.refresh_products-833"><a href="#Bugzilla.refresh_products-833"><span class="linenos">833</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">products</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">product</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Refresh a product's cached info. Basically calls product_get
with the passed arguments, and tries to intelligently update
our product cache.</p>

<p>For example, if we already have cached info for product=foo,
and you pass in names=["bar", "baz"], the new cache will have
info for products foo, bar, baz. Individual product fields are
also updated.</p>
</div>


                            </div>
                            <div id="Bugzilla.getproducts" class="classattr">
                                        <input id="Bugzilla.getproducts-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getproducts</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">force_refresh</span><span class="o">=</span><span class="kc">False</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.getproducts-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.getproducts"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.getproducts-835"><a href="#Bugzilla.getproducts-835"><span class="linenos">835</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getproducts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force_refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Bugzilla.getproducts-836"><a href="#Bugzilla.getproducts-836"><span class="linenos">836</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.getproducts-837"><a href="#Bugzilla.getproducts-837"><span class="linenos">837</span></a><span class="sd">        Query all products and return the raw dict info. Takes all the</span>
</span><span id="Bugzilla.getproducts-838"><a href="#Bugzilla.getproducts-838"><span class="linenos">838</span></a><span class="sd">        same arguments as product_get.</span>
</span><span id="Bugzilla.getproducts-839"><a href="#Bugzilla.getproducts-839"><span class="linenos">839</span></a>
</span><span id="Bugzilla.getproducts-840"><a href="#Bugzilla.getproducts-840"><span class="linenos">840</span></a><span class="sd">        On first invocation this will contact bugzilla and internally</span>
</span><span id="Bugzilla.getproducts-841"><a href="#Bugzilla.getproducts-841"><span class="linenos">841</span></a><span class="sd">        cache the results. Subsequent getproducts calls or accesses to</span>
</span><span id="Bugzilla.getproducts-842"><a href="#Bugzilla.getproducts-842"><span class="linenos">842</span></a><span class="sd">        self.products will return this cached data only.</span>
</span><span id="Bugzilla.getproducts-843"><a href="#Bugzilla.getproducts-843"><span class="linenos">843</span></a>
</span><span id="Bugzilla.getproducts-844"><a href="#Bugzilla.getproducts-844"><span class="linenos">844</span></a><span class="sd">        :param force_refresh: force refreshing via refresh_products()</span>
</span><span id="Bugzilla.getproducts-845"><a href="#Bugzilla.getproducts-845"><span class="linenos">845</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.getproducts-846"><a href="#Bugzilla.getproducts-846"><span class="linenos">846</span></a>        <span class="k">if</span> <span class="n">force_refresh</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">products</span><span class="p">:</span>
</span><span id="Bugzilla.getproducts-847"><a href="#Bugzilla.getproducts-847"><span class="linenos">847</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">refresh_products</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Bugzilla.getproducts-848"><a href="#Bugzilla.getproducts-848"><span class="linenos">848</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">products</span>
</span></pre></div>


            <div class="docstring"><p>Query all products and return the raw dict info. Takes all the
same arguments as product_get.</p>

<p>On first invocation this will contact bugzilla and internally
cache the results. Subsequent getproducts calls or accesses to
self.products will return this cached data only.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>force_refresh</strong>:  force refreshing via refresh_products()</li>
</ul>
</div>


                            </div>
                            <div id="Bugzilla.products" class="classattr">
                                        <input id="Bugzilla.products-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">products</span>

                <label class="view-source-button" for="Bugzilla.products-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.products"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.products-851"><a href="#Bugzilla.products-851"><span class="linenos">851</span></a>        <span class="n">fget</span><span class="o">=</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">getproducts</span><span class="p">(),</span>
</span></pre></div>


            <div class="docstring"><p>Helper for accessing the products cache. If nothing has been cached yet, this calls getproducts()</p>
</div>


                            </div>
                            <div id="Bugzilla.getcomponentsdetails" class="classattr">
                                        <input id="Bugzilla.getcomponentsdetails-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getcomponentsdetails</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">product</span>, </span><span class="param"><span class="n">force_refresh</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.getcomponentsdetails-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.getcomponentsdetails"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.getcomponentsdetails-871"><a href="#Bugzilla.getcomponentsdetails-871"><span class="linenos">871</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getcomponentsdetails</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">product</span><span class="p">,</span> <span class="n">force_refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Bugzilla.getcomponentsdetails-872"><a href="#Bugzilla.getcomponentsdetails-872"><span class="linenos">872</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.getcomponentsdetails-873"><a href="#Bugzilla.getcomponentsdetails-873"><span class="linenos">873</span></a><span class="sd">        Wrapper around Product.get(include_fields=[&quot;components&quot;]),</span>
</span><span id="Bugzilla.getcomponentsdetails-874"><a href="#Bugzilla.getcomponentsdetails-874"><span class="linenos">874</span></a><span class="sd">        returning only the &quot;components&quot; data for the requested product,</span>
</span><span id="Bugzilla.getcomponentsdetails-875"><a href="#Bugzilla.getcomponentsdetails-875"><span class="linenos">875</span></a><span class="sd">        slightly reworked to a dict mapping of components.name: components,</span>
</span><span id="Bugzilla.getcomponentsdetails-876"><a href="#Bugzilla.getcomponentsdetails-876"><span class="linenos">876</span></a><span class="sd">        for historical reasons.</span>
</span><span id="Bugzilla.getcomponentsdetails-877"><a href="#Bugzilla.getcomponentsdetails-877"><span class="linenos">877</span></a>
</span><span id="Bugzilla.getcomponentsdetails-878"><a href="#Bugzilla.getcomponentsdetails-878"><span class="linenos">878</span></a><span class="sd">        This uses the product cache, but will update it if the product</span>
</span><span id="Bugzilla.getcomponentsdetails-879"><a href="#Bugzilla.getcomponentsdetails-879"><span class="linenos">879</span></a><span class="sd">        isn&#39;t found or &quot;components&quot; isn&#39;t cached for the product.</span>
</span><span id="Bugzilla.getcomponentsdetails-880"><a href="#Bugzilla.getcomponentsdetails-880"><span class="linenos">880</span></a>
</span><span id="Bugzilla.getcomponentsdetails-881"><a href="#Bugzilla.getcomponentsdetails-881"><span class="linenos">881</span></a><span class="sd">        In cases like bugzilla.redhat.com where there are tons of</span>
</span><span id="Bugzilla.getcomponentsdetails-882"><a href="#Bugzilla.getcomponentsdetails-882"><span class="linenos">882</span></a><span class="sd">        components for some products, this API will time out. You</span>
</span><span id="Bugzilla.getcomponentsdetails-883"><a href="#Bugzilla.getcomponentsdetails-883"><span class="linenos">883</span></a><span class="sd">        should use product_get instead.</span>
</span><span id="Bugzilla.getcomponentsdetails-884"><a href="#Bugzilla.getcomponentsdetails-884"><span class="linenos">884</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.getcomponentsdetails-885"><a href="#Bugzilla.getcomponentsdetails-885"><span class="linenos">885</span></a>        <span class="n">proddict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lookup_product_in_cache</span><span class="p">(</span><span class="n">product</span><span class="p">)</span>
</span><span id="Bugzilla.getcomponentsdetails-886"><a href="#Bugzilla.getcomponentsdetails-886"><span class="linenos">886</span></a>
</span><span id="Bugzilla.getcomponentsdetails-887"><a href="#Bugzilla.getcomponentsdetails-887"><span class="linenos">887</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">force_refresh</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">proddict</span> <span class="ow">or</span> <span class="s2">&quot;components&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">proddict</span><span class="p">):</span>
</span><span id="Bugzilla.getcomponentsdetails-888"><a href="#Bugzilla.getcomponentsdetails-888"><span class="linenos">888</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">refresh_products</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="n">product</span><span class="p">],</span>
</span><span id="Bugzilla.getcomponentsdetails-889"><a href="#Bugzilla.getcomponentsdetails-889"><span class="linenos">889</span></a>                                  <span class="n">include_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;components&quot;</span><span class="p">])</span>
</span><span id="Bugzilla.getcomponentsdetails-890"><a href="#Bugzilla.getcomponentsdetails-890"><span class="linenos">890</span></a>            <span class="n">proddict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lookup_product_in_cache</span><span class="p">(</span><span class="n">product</span><span class="p">)</span>
</span><span id="Bugzilla.getcomponentsdetails-891"><a href="#Bugzilla.getcomponentsdetails-891"><span class="linenos">891</span></a>
</span><span id="Bugzilla.getcomponentsdetails-892"><a href="#Bugzilla.getcomponentsdetails-892"><span class="linenos">892</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla.getcomponentsdetails-893"><a href="#Bugzilla.getcomponentsdetails-893"><span class="linenos">893</span></a>        <span class="k">for</span> <span class="n">compdict</span> <span class="ow">in</span> <span class="n">proddict</span><span class="p">[</span><span class="s2">&quot;components&quot;</span><span class="p">]:</span>
</span><span id="Bugzilla.getcomponentsdetails-894"><a href="#Bugzilla.getcomponentsdetails-894"><span class="linenos">894</span></a>            <span class="n">ret</span><span class="p">[</span><span class="n">compdict</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">compdict</span>
</span><span id="Bugzilla.getcomponentsdetails-895"><a href="#Bugzilla.getcomponentsdetails-895"><span class="linenos">895</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span></pre></div>


            <div class="docstring"><p>Wrapper around Product.get(include_fields=["components"]),
returning only the "components" data for the requested product,
slightly reworked to a dict mapping of components.name: components,
for historical reasons.</p>

<p>This uses the product cache, but will update it if the product
isn't found or "components" isn't cached for the product.</p>

<p>In cases like bugzilla.redhat.com where there are tons of
components for some products, this API will time out. You
should use product_get instead.</p>
</div>


                            </div>
                            <div id="Bugzilla.getcomponentdetails" class="classattr">
                                        <input id="Bugzilla.getcomponentdetails-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getcomponentdetails</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">product</span>, </span><span class="param"><span class="n">component</span>, </span><span class="param"><span class="n">force_refresh</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.getcomponentdetails-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.getcomponentdetails"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.getcomponentdetails-897"><a href="#Bugzilla.getcomponentdetails-897"><span class="linenos">897</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getcomponentdetails</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">product</span><span class="p">,</span> <span class="n">component</span><span class="p">,</span> <span class="n">force_refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Bugzilla.getcomponentdetails-898"><a href="#Bugzilla.getcomponentdetails-898"><span class="linenos">898</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.getcomponentdetails-899"><a href="#Bugzilla.getcomponentdetails-899"><span class="linenos">899</span></a><span class="sd">        Helper for accessing a single component&#39;s info. This is a wrapper</span>
</span><span id="Bugzilla.getcomponentdetails-900"><a href="#Bugzilla.getcomponentdetails-900"><span class="linenos">900</span></a><span class="sd">        around getcomponentsdetails, see that for explanation</span>
</span><span id="Bugzilla.getcomponentdetails-901"><a href="#Bugzilla.getcomponentdetails-901"><span class="linenos">901</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.getcomponentdetails-902"><a href="#Bugzilla.getcomponentdetails-902"><span class="linenos">902</span></a>        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getcomponentsdetails</span><span class="p">(</span><span class="n">product</span><span class="p">,</span> <span class="n">force_refresh</span><span class="p">)</span>
</span><span id="Bugzilla.getcomponentdetails-903"><a href="#Bugzilla.getcomponentdetails-903"><span class="linenos">903</span></a>        <span class="k">return</span> <span class="n">d</span><span class="p">[</span><span class="n">component</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Helper for accessing a single component's info. This is a wrapper
around getcomponentsdetails, see that for explanation</p>
</div>


                            </div>
                            <div id="Bugzilla.getcomponents" class="classattr">
                                        <input id="Bugzilla.getcomponents-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getcomponents</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">product</span>, </span><span class="param"><span class="n">force_refresh</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.getcomponents-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.getcomponents"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.getcomponents-905"><a href="#Bugzilla.getcomponents-905"><span class="linenos">905</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getcomponents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">product</span><span class="p">,</span> <span class="n">force_refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Bugzilla.getcomponents-906"><a href="#Bugzilla.getcomponents-906"><span class="linenos">906</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.getcomponents-907"><a href="#Bugzilla.getcomponents-907"><span class="linenos">907</span></a><span class="sd">        Return a list of component names for the passed product.</span>
</span><span id="Bugzilla.getcomponents-908"><a href="#Bugzilla.getcomponents-908"><span class="linenos">908</span></a>
</span><span id="Bugzilla.getcomponents-909"><a href="#Bugzilla.getcomponents-909"><span class="linenos">909</span></a><span class="sd">        On first invocation the value is cached, and subsequent calls</span>
</span><span id="Bugzilla.getcomponents-910"><a href="#Bugzilla.getcomponents-910"><span class="linenos">910</span></a><span class="sd">        will return the cached data.</span>
</span><span id="Bugzilla.getcomponents-911"><a href="#Bugzilla.getcomponents-911"><span class="linenos">911</span></a>
</span><span id="Bugzilla.getcomponents-912"><a href="#Bugzilla.getcomponents-912"><span class="linenos">912</span></a><span class="sd">        :param force_refresh: Force refreshing the cache, and return</span>
</span><span id="Bugzilla.getcomponents-913"><a href="#Bugzilla.getcomponents-913"><span class="linenos">913</span></a><span class="sd">            the new data</span>
</span><span id="Bugzilla.getcomponents-914"><a href="#Bugzilla.getcomponents-914"><span class="linenos">914</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.getcomponents-915"><a href="#Bugzilla.getcomponents-915"><span class="linenos">915</span></a>        <span class="n">proddict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lookup_product_in_cache</span><span class="p">(</span><span class="n">product</span><span class="p">)</span>
</span><span id="Bugzilla.getcomponents-916"><a href="#Bugzilla.getcomponents-916"><span class="linenos">916</span></a>        <span class="n">product_id</span> <span class="o">=</span> <span class="n">proddict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="Bugzilla.getcomponents-917"><a href="#Bugzilla.getcomponents-917"><span class="linenos">917</span></a>
</span><span id="Bugzilla.getcomponents-918"><a href="#Bugzilla.getcomponents-918"><span class="linenos">918</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">force_refresh</span> <span class="ow">or</span> <span class="n">product_id</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span>
</span><span id="Bugzilla.getcomponents-919"><a href="#Bugzilla.getcomponents-919"><span class="linenos">919</span></a>            <span class="s2">&quot;components&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">proddict</span><span class="p">):</span>
</span><span id="Bugzilla.getcomponents-920"><a href="#Bugzilla.getcomponents-920"><span class="linenos">920</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">refresh_products</span><span class="p">(</span>
</span><span id="Bugzilla.getcomponents-921"><a href="#Bugzilla.getcomponents-921"><span class="linenos">921</span></a>                <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="n">product</span><span class="p">],</span>
</span><span id="Bugzilla.getcomponents-922"><a href="#Bugzilla.getcomponents-922"><span class="linenos">922</span></a>                <span class="n">include_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;components.name&quot;</span><span class="p">])</span>
</span><span id="Bugzilla.getcomponents-923"><a href="#Bugzilla.getcomponents-923"><span class="linenos">923</span></a>            <span class="n">proddict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lookup_product_in_cache</span><span class="p">(</span><span class="n">product</span><span class="p">)</span>
</span><span id="Bugzilla.getcomponents-924"><a href="#Bugzilla.getcomponents-924"><span class="linenos">924</span></a>            <span class="k">if</span> <span class="s2">&quot;id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">proddict</span><span class="p">:</span>
</span><span id="Bugzilla.getcomponents-925"><a href="#Bugzilla.getcomponents-925"><span class="linenos">925</span></a>                <span class="k">raise</span> <span class="n">BugzillaError</span><span class="p">(</span><span class="s2">&quot;Product &#39;</span><span class="si">%s</span><span class="s2">&#39; not found&quot;</span> <span class="o">%</span> <span class="n">product</span><span class="p">)</span>
</span><span id="Bugzilla.getcomponents-926"><a href="#Bugzilla.getcomponents-926"><span class="linenos">926</span></a>            <span class="n">product_id</span> <span class="o">=</span> <span class="n">proddict</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span>
</span><span id="Bugzilla.getcomponents-927"><a href="#Bugzilla.getcomponents-927"><span class="linenos">927</span></a>
</span><span id="Bugzilla.getcomponents-928"><a href="#Bugzilla.getcomponents-928"><span class="linenos">928</span></a>        <span class="k">if</span> <span class="n">product_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">component_names</span><span class="p">:</span>
</span><span id="Bugzilla.getcomponents-929"><a href="#Bugzilla.getcomponents-929"><span class="linenos">929</span></a>            <span class="n">names</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Bugzilla.getcomponents-930"><a href="#Bugzilla.getcomponents-930"><span class="linenos">930</span></a>            <span class="k">for</span> <span class="n">comp</span> <span class="ow">in</span> <span class="n">proddict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;components&quot;</span><span class="p">,</span> <span class="p">[]):</span>
</span><span id="Bugzilla.getcomponents-931"><a href="#Bugzilla.getcomponents-931"><span class="linenos">931</span></a>                <span class="n">name</span> <span class="o">=</span> <span class="n">comp</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
</span><span id="Bugzilla.getcomponents-932"><a href="#Bugzilla.getcomponents-932"><span class="linenos">932</span></a>                <span class="k">if</span> <span class="n">name</span><span class="p">:</span>
</span><span id="Bugzilla.getcomponents-933"><a href="#Bugzilla.getcomponents-933"><span class="linenos">933</span></a>                    <span class="n">names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="Bugzilla.getcomponents-934"><a href="#Bugzilla.getcomponents-934"><span class="linenos">934</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">component_names</span><span class="p">[</span><span class="n">product_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">names</span>
</span><span id="Bugzilla.getcomponents-935"><a href="#Bugzilla.getcomponents-935"><span class="linenos">935</span></a>
</span><span id="Bugzilla.getcomponents-936"><a href="#Bugzilla.getcomponents-936"><span class="linenos">936</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">component_names</span><span class="p">[</span><span class="n">product_id</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Return a list of component names for the passed product.</p>

<p>On first invocation the value is cached, and subsequent calls
will return the cached data.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>force_refresh</strong>:  Force refreshing the cache, and return
the new data</li>
</ul>
</div>


                            </div>
                            <div id="Bugzilla.addcomponent" class="classattr">
                                        <input id="Bugzilla.addcomponent-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">addcomponent</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">data</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.addcomponent-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.addcomponent"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.addcomponent-965"><a href="#Bugzilla.addcomponent-965"><span class="linenos">965</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">addcomponent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
</span><span id="Bugzilla.addcomponent-966"><a href="#Bugzilla.addcomponent-966"><span class="linenos">966</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.addcomponent-967"><a href="#Bugzilla.addcomponent-967"><span class="linenos">967</span></a><span class="sd">        A method to create a component in Bugzilla. Takes a dict, with the</span>
</span><span id="Bugzilla.addcomponent-968"><a href="#Bugzilla.addcomponent-968"><span class="linenos">968</span></a><span class="sd">        following elements:</span>
</span><span id="Bugzilla.addcomponent-969"><a href="#Bugzilla.addcomponent-969"><span class="linenos">969</span></a>
</span><span id="Bugzilla.addcomponent-970"><a href="#Bugzilla.addcomponent-970"><span class="linenos">970</span></a><span class="sd">        product: The product to create the component in</span>
</span><span id="Bugzilla.addcomponent-971"><a href="#Bugzilla.addcomponent-971"><span class="linenos">971</span></a><span class="sd">        component: The name of the component to create</span>
</span><span id="Bugzilla.addcomponent-972"><a href="#Bugzilla.addcomponent-972"><span class="linenos">972</span></a><span class="sd">        description: A one sentence summary of the component</span>
</span><span id="Bugzilla.addcomponent-973"><a href="#Bugzilla.addcomponent-973"><span class="linenos">973</span></a><span class="sd">        default_assignee: The bugzilla login (email address) of the initial</span>
</span><span id="Bugzilla.addcomponent-974"><a href="#Bugzilla.addcomponent-974"><span class="linenos">974</span></a><span class="sd">                          owner of the component</span>
</span><span id="Bugzilla.addcomponent-975"><a href="#Bugzilla.addcomponent-975"><span class="linenos">975</span></a><span class="sd">        default_qa_contact (optional): The bugzilla login of the</span>
</span><span id="Bugzilla.addcomponent-976"><a href="#Bugzilla.addcomponent-976"><span class="linenos">976</span></a><span class="sd">                                       initial QA contact</span>
</span><span id="Bugzilla.addcomponent-977"><a href="#Bugzilla.addcomponent-977"><span class="linenos">977</span></a><span class="sd">        default_cc: (optional) The initial list of users to be CC&#39;ed on</span>
</span><span id="Bugzilla.addcomponent-978"><a href="#Bugzilla.addcomponent-978"><span class="linenos">978</span></a><span class="sd">                               new bugs for the component.</span>
</span><span id="Bugzilla.addcomponent-979"><a href="#Bugzilla.addcomponent-979"><span class="linenos">979</span></a><span class="sd">        is_active: (optional) If False, the component is hidden from</span>
</span><span id="Bugzilla.addcomponent-980"><a href="#Bugzilla.addcomponent-980"><span class="linenos">980</span></a><span class="sd">                              the component list when filing new bugs.</span>
</span><span id="Bugzilla.addcomponent-981"><a href="#Bugzilla.addcomponent-981"><span class="linenos">981</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.addcomponent-982"><a href="#Bugzilla.addcomponent-982"><span class="linenos">982</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="Bugzilla.addcomponent-983"><a href="#Bugzilla.addcomponent-983"><span class="linenos">983</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_component_data_convert</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="Bugzilla.addcomponent-984"><a href="#Bugzilla.addcomponent-984"><span class="linenos">984</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">component_create</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>A method to create a component in Bugzilla. Takes a dict, with the
following elements:</p>

<p>product: The product to create the component in
component: The name of the component to create
description: A one sentence summary of the component
default_assignee: The bugzilla login (email address) of the initial
                  owner of the component
default_qa_contact (optional): The bugzilla login of the
                               initial QA contact
default_cc: (optional) The initial list of users to be CC'ed on
                       new bugs for the component.
is_active: (optional) If False, the component is hidden from
                      the component list when filing new bugs.</p>
</div>


                            </div>
                            <div id="Bugzilla.editcomponent" class="classattr">
                                        <input id="Bugzilla.editcomponent-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">editcomponent</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">data</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.editcomponent-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.editcomponent"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.editcomponent-986"><a href="#Bugzilla.editcomponent-986"><span class="linenos">986</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">editcomponent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
</span><span id="Bugzilla.editcomponent-987"><a href="#Bugzilla.editcomponent-987"><span class="linenos">987</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.editcomponent-988"><a href="#Bugzilla.editcomponent-988"><span class="linenos">988</span></a><span class="sd">        A method to edit a component in Bugzilla. Takes a dict, with</span>
</span><span id="Bugzilla.editcomponent-989"><a href="#Bugzilla.editcomponent-989"><span class="linenos">989</span></a><span class="sd">        mandatory elements of product. component, and initialowner.</span>
</span><span id="Bugzilla.editcomponent-990"><a href="#Bugzilla.editcomponent-990"><span class="linenos">990</span></a><span class="sd">        All other elements are optional and use the same names as the</span>
</span><span id="Bugzilla.editcomponent-991"><a href="#Bugzilla.editcomponent-991"><span class="linenos">991</span></a><span class="sd">        addcomponent() method.</span>
</span><span id="Bugzilla.editcomponent-992"><a href="#Bugzilla.editcomponent-992"><span class="linenos">992</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.editcomponent-993"><a href="#Bugzilla.editcomponent-993"><span class="linenos">993</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="Bugzilla.editcomponent-994"><a href="#Bugzilla.editcomponent-994"><span class="linenos">994</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_component_data_convert</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="Bugzilla.editcomponent-995"><a href="#Bugzilla.editcomponent-995"><span class="linenos">995</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">component_update</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>A method to edit a component in Bugzilla. Takes a dict, with
mandatory elements of product. component, and initialowner.
All other elements are optional and use the same names as the
addcomponent() method.</p>
</div>


                            </div>
                            <div id="Bugzilla.bug_autorefresh" class="classattr">
                                        <input id="Bugzilla.bug_autorefresh-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">bug_autorefresh</span>

                <label class="view-source-button" for="Bugzilla.bug_autorefresh-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.bug_autorefresh"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.bug_autorefresh-1029"><a href="#Bugzilla.bug_autorefresh-1029"><span class="linenos">1029</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_get_bug_autorefresh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Bugzilla.bug_autorefresh-1030"><a href="#Bugzilla.bug_autorefresh-1030"><span class="linenos">1030</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.bug_autorefresh-1031"><a href="#Bugzilla.bug_autorefresh-1031"><span class="linenos">1031</span></a><span class="sd">        This value is passed to Bug.autorefresh for all fetched bugs.</span>
</span><span id="Bugzilla.bug_autorefresh-1032"><a href="#Bugzilla.bug_autorefresh-1032"><span class="linenos">1032</span></a><span class="sd">        If True, and an uncached attribute is requested from a Bug,</span>
</span><span id="Bugzilla.bug_autorefresh-1033"><a href="#Bugzilla.bug_autorefresh-1033"><span class="linenos">1033</span></a><span class="sd">            the Bug will update its contents and try again.</span>
</span><span id="Bugzilla.bug_autorefresh-1034"><a href="#Bugzilla.bug_autorefresh-1034"><span class="linenos">1034</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.bug_autorefresh-1035"><a href="#Bugzilla.bug_autorefresh-1035"><span class="linenos">1035</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bug_autorefresh</span>
</span></pre></div>


            <div class="docstring"><p>This value is passed to Bug.autorefresh for all fetched bugs.
If True, and an uncached attribute is requested from a Bug,
    the Bug will update its contents and try again.</p>
</div>


                            </div>
                            <div id="Bugzilla.getbug" class="classattr">
                                        <input id="Bugzilla.getbug-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getbug</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">objid</span>,</span><span class="param">	<span class="n">include_fields</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">exclude_fields</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">extra_fields</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.getbug-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.getbug"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.getbug-1132"><a href="#Bugzilla.getbug-1132"><span class="linenos">1132</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getbug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objid</span><span class="p">,</span>
</span><span id="Bugzilla.getbug-1133"><a href="#Bugzilla.getbug-1133"><span class="linenos">1133</span></a>               <span class="n">include_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extra_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla.getbug-1134"><a href="#Bugzilla.getbug-1134"><span class="linenos">1134</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.getbug-1135"><a href="#Bugzilla.getbug-1135"><span class="linenos">1135</span></a><span class="sd">        Return a Bug object with the full complement of bug data</span>
</span><span id="Bugzilla.getbug-1136"><a href="#Bugzilla.getbug-1136"><span class="linenos">1136</span></a><span class="sd">        already loaded.</span>
</span><span id="Bugzilla.getbug-1137"><a href="#Bugzilla.getbug-1137"><span class="linenos">1137</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.getbug-1138"><a href="#Bugzilla.getbug-1138"><span class="linenos">1138</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getbug</span><span class="p">(</span><span class="n">objid</span><span class="p">,</span>
</span><span id="Bugzilla.getbug-1139"><a href="#Bugzilla.getbug-1139"><span class="linenos">1139</span></a>            <span class="n">include_fields</span><span class="o">=</span><span class="n">include_fields</span><span class="p">,</span> <span class="n">exclude_fields</span><span class="o">=</span><span class="n">exclude_fields</span><span class="p">,</span>
</span><span id="Bugzilla.getbug-1140"><a href="#Bugzilla.getbug-1140"><span class="linenos">1140</span></a>            <span class="n">extra_fields</span><span class="o">=</span><span class="n">extra_fields</span><span class="p">)</span>
</span><span id="Bugzilla.getbug-1141"><a href="#Bugzilla.getbug-1141"><span class="linenos">1141</span></a>        <span class="k">return</span> <span class="n">Bug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dict</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">autorefresh</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bug_autorefresh</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return a Bug object with the full complement of bug data
already loaded.</p>
</div>


                            </div>
                            <div id="Bugzilla.getbugs" class="classattr">
                                        <input id="Bugzilla.getbugs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getbugs</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">idlist</span>,</span><span class="param">	<span class="n">include_fields</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">exclude_fields</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">extra_fields</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">permissive</span><span class="o">=</span><span class="kc">True</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.getbugs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.getbugs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.getbugs-1143"><a href="#Bugzilla.getbugs-1143"><span class="linenos">1143</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getbugs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idlist</span><span class="p">,</span>
</span><span id="Bugzilla.getbugs-1144"><a href="#Bugzilla.getbugs-1144"><span class="linenos">1144</span></a>                <span class="n">include_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extra_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.getbugs-1145"><a href="#Bugzilla.getbugs-1145"><span class="linenos">1145</span></a>                <span class="n">permissive</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="Bugzilla.getbugs-1146"><a href="#Bugzilla.getbugs-1146"><span class="linenos">1146</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.getbugs-1147"><a href="#Bugzilla.getbugs-1147"><span class="linenos">1147</span></a><span class="sd">        Return a list of Bug objects with the full complement of bug data</span>
</span><span id="Bugzilla.getbugs-1148"><a href="#Bugzilla.getbugs-1148"><span class="linenos">1148</span></a><span class="sd">        already loaded. If there&#39;s a problem getting the data for a given id,</span>
</span><span id="Bugzilla.getbugs-1149"><a href="#Bugzilla.getbugs-1149"><span class="linenos">1149</span></a><span class="sd">        the corresponding item in the returned list will be None.</span>
</span><span id="Bugzilla.getbugs-1150"><a href="#Bugzilla.getbugs-1150"><span class="linenos">1150</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.getbugs-1151"><a href="#Bugzilla.getbugs-1151"><span class="linenos">1151</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getbugs</span><span class="p">(</span><span class="n">idlist</span><span class="p">,</span> <span class="n">include_fields</span><span class="o">=</span><span class="n">include_fields</span><span class="p">,</span>
</span><span id="Bugzilla.getbugs-1152"><a href="#Bugzilla.getbugs-1152"><span class="linenos">1152</span></a>            <span class="n">exclude_fields</span><span class="o">=</span><span class="n">exclude_fields</span><span class="p">,</span> <span class="n">extra_fields</span><span class="o">=</span><span class="n">extra_fields</span><span class="p">,</span>
</span><span id="Bugzilla.getbugs-1153"><a href="#Bugzilla.getbugs-1153"><span class="linenos">1153</span></a>            <span class="n">permissive</span><span class="o">=</span><span class="n">permissive</span><span class="p">)</span>
</span><span id="Bugzilla.getbugs-1154"><a href="#Bugzilla.getbugs-1154"><span class="linenos">1154</span></a>        <span class="k">return</span> <span class="p">[(</span><span class="n">b</span> <span class="ow">and</span> <span class="n">Bug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dict</span><span class="o">=</span><span class="n">b</span><span class="p">,</span>
</span><span id="Bugzilla.getbugs-1155"><a href="#Bugzilla.getbugs-1155"><span class="linenos">1155</span></a>                           <span class="n">autorefresh</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bug_autorefresh</span><span class="p">))</span> <span class="ow">or</span> <span class="kc">None</span>
</span><span id="Bugzilla.getbugs-1156"><a href="#Bugzilla.getbugs-1156"><span class="linenos">1156</span></a>                <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Return a list of Bug objects with the full complement of bug data
already loaded. If there's a problem getting the data for a given id,
the corresponding item in the returned list will be None.</p>
</div>


                            </div>
                            <div id="Bugzilla.get_comments" class="classattr">
                                        <input id="Bugzilla.get_comments-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_comments</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">idlist</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.get_comments-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.get_comments"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.get_comments-1158"><a href="#Bugzilla.get_comments-1158"><span class="linenos">1158</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_comments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idlist</span><span class="p">):</span>
</span><span id="Bugzilla.get_comments-1159"><a href="#Bugzilla.get_comments-1159"><span class="linenos">1159</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.get_comments-1160"><a href="#Bugzilla.get_comments-1160"><span class="linenos">1160</span></a><span class="sd">        Returns a dictionary of bugs and comments.  The comments key will</span>
</span><span id="Bugzilla.get_comments-1161"><a href="#Bugzilla.get_comments-1161"><span class="linenos">1161</span></a><span class="sd">        be empty.  See bugzilla docs for details</span>
</span><span id="Bugzilla.get_comments-1162"><a href="#Bugzilla.get_comments-1162"><span class="linenos">1162</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.get_comments-1163"><a href="#Bugzilla.get_comments-1163"><span class="linenos">1163</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_comments</span><span class="p">(</span><span class="n">idlist</span><span class="p">,</span> <span class="p">{})</span>
</span></pre></div>


            <div class="docstring"><p>Returns a dictionary of bugs and comments.  The comments key will
be empty.  See bugzilla docs for details</p>
</div>


                            </div>
                            <div id="Bugzilla.build_query" class="classattr">
                                        <input id="Bugzilla.build_query-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">build_query</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">product</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">component</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">version</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">long_desc</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">bug_id</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">short_desc</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">cc</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">assigned_to</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">reporter</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">qa_contact</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">status</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">blocked</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">dependson</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">keywords</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">keywords_type</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">url</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">url_type</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">status_whiteboard</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">status_whiteboard_type</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">fixed_in</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">fixed_in_type</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">flag</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">alias</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">qa_whiteboard</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">devel_whiteboard</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">bug_severity</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">priority</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">target_release</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">target_milestone</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">emailtype</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">include_fields</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">quicksearch</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">savedsearch</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">savedsearch_sharer_id</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">sub_component</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">tags</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">exclude_fields</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">extra_fields</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">limit</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">resolution</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.build_query-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.build_query"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.build_query-1170"><a href="#Bugzilla.build_query-1170"><span class="linenos">1170</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">build_query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1171"><a href="#Bugzilla.build_query-1171"><span class="linenos">1171</span></a>                    <span class="n">product</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1172"><a href="#Bugzilla.build_query-1172"><span class="linenos">1172</span></a>                    <span class="n">component</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1173"><a href="#Bugzilla.build_query-1173"><span class="linenos">1173</span></a>                    <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1174"><a href="#Bugzilla.build_query-1174"><span class="linenos">1174</span></a>                    <span class="n">long_desc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1175"><a href="#Bugzilla.build_query-1175"><span class="linenos">1175</span></a>                    <span class="n">bug_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1176"><a href="#Bugzilla.build_query-1176"><span class="linenos">1176</span></a>                    <span class="n">short_desc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1177"><a href="#Bugzilla.build_query-1177"><span class="linenos">1177</span></a>                    <span class="n">cc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1178"><a href="#Bugzilla.build_query-1178"><span class="linenos">1178</span></a>                    <span class="n">assigned_to</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1179"><a href="#Bugzilla.build_query-1179"><span class="linenos">1179</span></a>                    <span class="n">reporter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1180"><a href="#Bugzilla.build_query-1180"><span class="linenos">1180</span></a>                    <span class="n">qa_contact</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1181"><a href="#Bugzilla.build_query-1181"><span class="linenos">1181</span></a>                    <span class="n">status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1182"><a href="#Bugzilla.build_query-1182"><span class="linenos">1182</span></a>                    <span class="n">blocked</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1183"><a href="#Bugzilla.build_query-1183"><span class="linenos">1183</span></a>                    <span class="n">dependson</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1184"><a href="#Bugzilla.build_query-1184"><span class="linenos">1184</span></a>                    <span class="n">keywords</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1185"><a href="#Bugzilla.build_query-1185"><span class="linenos">1185</span></a>                    <span class="n">keywords_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1186"><a href="#Bugzilla.build_query-1186"><span class="linenos">1186</span></a>                    <span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1187"><a href="#Bugzilla.build_query-1187"><span class="linenos">1187</span></a>                    <span class="n">url_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1188"><a href="#Bugzilla.build_query-1188"><span class="linenos">1188</span></a>                    <span class="n">status_whiteboard</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1189"><a href="#Bugzilla.build_query-1189"><span class="linenos">1189</span></a>                    <span class="n">status_whiteboard_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1190"><a href="#Bugzilla.build_query-1190"><span class="linenos">1190</span></a>                    <span class="n">fixed_in</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1191"><a href="#Bugzilla.build_query-1191"><span class="linenos">1191</span></a>                    <span class="n">fixed_in_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1192"><a href="#Bugzilla.build_query-1192"><span class="linenos">1192</span></a>                    <span class="n">flag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1193"><a href="#Bugzilla.build_query-1193"><span class="linenos">1193</span></a>                    <span class="n">alias</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1194"><a href="#Bugzilla.build_query-1194"><span class="linenos">1194</span></a>                    <span class="n">qa_whiteboard</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1195"><a href="#Bugzilla.build_query-1195"><span class="linenos">1195</span></a>                    <span class="n">devel_whiteboard</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1196"><a href="#Bugzilla.build_query-1196"><span class="linenos">1196</span></a>                    <span class="n">bug_severity</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1197"><a href="#Bugzilla.build_query-1197"><span class="linenos">1197</span></a>                    <span class="n">priority</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1198"><a href="#Bugzilla.build_query-1198"><span class="linenos">1198</span></a>                    <span class="n">target_release</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1199"><a href="#Bugzilla.build_query-1199"><span class="linenos">1199</span></a>                    <span class="n">target_milestone</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1200"><a href="#Bugzilla.build_query-1200"><span class="linenos">1200</span></a>                    <span class="n">emailtype</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1201"><a href="#Bugzilla.build_query-1201"><span class="linenos">1201</span></a>                    <span class="n">include_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1202"><a href="#Bugzilla.build_query-1202"><span class="linenos">1202</span></a>                    <span class="n">quicksearch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1203"><a href="#Bugzilla.build_query-1203"><span class="linenos">1203</span></a>                    <span class="n">savedsearch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1204"><a href="#Bugzilla.build_query-1204"><span class="linenos">1204</span></a>                    <span class="n">savedsearch_sharer_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1205"><a href="#Bugzilla.build_query-1205"><span class="linenos">1205</span></a>                    <span class="n">sub_component</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1206"><a href="#Bugzilla.build_query-1206"><span class="linenos">1206</span></a>                    <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1207"><a href="#Bugzilla.build_query-1207"><span class="linenos">1207</span></a>                    <span class="n">exclude_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1208"><a href="#Bugzilla.build_query-1208"><span class="linenos">1208</span></a>                    <span class="n">extra_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1209"><a href="#Bugzilla.build_query-1209"><span class="linenos">1209</span></a>                    <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1210"><a href="#Bugzilla.build_query-1210"><span class="linenos">1210</span></a>                    <span class="n">resolution</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla.build_query-1211"><a href="#Bugzilla.build_query-1211"><span class="linenos">1211</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.build_query-1212"><a href="#Bugzilla.build_query-1212"><span class="linenos">1212</span></a><span class="sd">        Build a query string from passed arguments. Will handle</span>
</span><span id="Bugzilla.build_query-1213"><a href="#Bugzilla.build_query-1213"><span class="linenos">1213</span></a><span class="sd">        query parameter differences between various bugzilla versions.</span>
</span><span id="Bugzilla.build_query-1214"><a href="#Bugzilla.build_query-1214"><span class="linenos">1214</span></a>
</span><span id="Bugzilla.build_query-1215"><a href="#Bugzilla.build_query-1215"><span class="linenos">1215</span></a><span class="sd">        Most of the parameters should be self-explanatory. However,</span>
</span><span id="Bugzilla.build_query-1216"><a href="#Bugzilla.build_query-1216"><span class="linenos">1216</span></a><span class="sd">        if you want to perform a complex query, and easy way is to</span>
</span><span id="Bugzilla.build_query-1217"><a href="#Bugzilla.build_query-1217"><span class="linenos">1217</span></a><span class="sd">        create it with the bugzilla web UI, copy the entire URL it</span>
</span><span id="Bugzilla.build_query-1218"><a href="#Bugzilla.build_query-1218"><span class="linenos">1218</span></a><span class="sd">        generates, and pass it to the static method</span>
</span><span id="Bugzilla.build_query-1219"><a href="#Bugzilla.build_query-1219"><span class="linenos">1219</span></a>
</span><span id="Bugzilla.build_query-1220"><a href="#Bugzilla.build_query-1220"><span class="linenos">1220</span></a><span class="sd">        Bugzilla.url_to_query</span>
</span><span id="Bugzilla.build_query-1221"><a href="#Bugzilla.build_query-1221"><span class="linenos">1221</span></a>
</span><span id="Bugzilla.build_query-1222"><a href="#Bugzilla.build_query-1222"><span class="linenos">1222</span></a><span class="sd">        Then pass the output to Bugzilla.query()</span>
</span><span id="Bugzilla.build_query-1223"><a href="#Bugzilla.build_query-1223"><span class="linenos">1223</span></a>
</span><span id="Bugzilla.build_query-1224"><a href="#Bugzilla.build_query-1224"><span class="linenos">1224</span></a><span class="sd">        For details about the specific argument formats, see the bugzilla docs:</span>
</span><span id="Bugzilla.build_query-1225"><a href="#Bugzilla.build_query-1225"><span class="linenos">1225</span></a><span class="sd">        https://bugzilla.readthedocs.io/en/latest/api/core/v1/bug.html#search-bugs</span>
</span><span id="Bugzilla.build_query-1226"><a href="#Bugzilla.build_query-1226"><span class="linenos">1226</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.build_query-1227"><a href="#Bugzilla.build_query-1227"><span class="linenos">1227</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Bugzilla.build_query-1228"><a href="#Bugzilla.build_query-1228"><span class="linenos">1228</span></a>            <span class="s2">&quot;alias&quot;</span><span class="p">:</span> <span class="n">alias</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1229"><a href="#Bugzilla.build_query-1229"><span class="linenos">1229</span></a>            <span class="s2">&quot;product&quot;</span><span class="p">:</span> <span class="n">listify</span><span class="p">(</span><span class="n">product</span><span class="p">),</span>
</span><span id="Bugzilla.build_query-1230"><a href="#Bugzilla.build_query-1230"><span class="linenos">1230</span></a>            <span class="s2">&quot;component&quot;</span><span class="p">:</span> <span class="n">listify</span><span class="p">(</span><span class="n">component</span><span class="p">),</span>
</span><span id="Bugzilla.build_query-1231"><a href="#Bugzilla.build_query-1231"><span class="linenos">1231</span></a>            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="n">version</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1232"><a href="#Bugzilla.build_query-1232"><span class="linenos">1232</span></a>            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">bug_id</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1233"><a href="#Bugzilla.build_query-1233"><span class="linenos">1233</span></a>            <span class="s2">&quot;short_desc&quot;</span><span class="p">:</span> <span class="n">short_desc</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1234"><a href="#Bugzilla.build_query-1234"><span class="linenos">1234</span></a>            <span class="s2">&quot;bug_status&quot;</span><span class="p">:</span> <span class="n">status</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1235"><a href="#Bugzilla.build_query-1235"><span class="linenos">1235</span></a>            <span class="s2">&quot;bug_severity&quot;</span><span class="p">:</span> <span class="n">bug_severity</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1236"><a href="#Bugzilla.build_query-1236"><span class="linenos">1236</span></a>            <span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="n">priority</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1237"><a href="#Bugzilla.build_query-1237"><span class="linenos">1237</span></a>            <span class="s2">&quot;target_release&quot;</span><span class="p">:</span> <span class="n">target_release</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1238"><a href="#Bugzilla.build_query-1238"><span class="linenos">1238</span></a>            <span class="s2">&quot;target_milestone&quot;</span><span class="p">:</span> <span class="n">target_milestone</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1239"><a href="#Bugzilla.build_query-1239"><span class="linenos">1239</span></a>            <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="n">listify</span><span class="p">(</span><span class="n">tags</span><span class="p">),</span>
</span><span id="Bugzilla.build_query-1240"><a href="#Bugzilla.build_query-1240"><span class="linenos">1240</span></a>            <span class="s2">&quot;quicksearch&quot;</span><span class="p">:</span> <span class="n">quicksearch</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1241"><a href="#Bugzilla.build_query-1241"><span class="linenos">1241</span></a>            <span class="s2">&quot;savedsearch&quot;</span><span class="p">:</span> <span class="n">savedsearch</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1242"><a href="#Bugzilla.build_query-1242"><span class="linenos">1242</span></a>            <span class="s2">&quot;sharer_id&quot;</span><span class="p">:</span> <span class="n">savedsearch_sharer_id</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1243"><a href="#Bugzilla.build_query-1243"><span class="linenos">1243</span></a>            <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1244"><a href="#Bugzilla.build_query-1244"><span class="linenos">1244</span></a>            <span class="s2">&quot;resolution&quot;</span><span class="p">:</span> <span class="n">resolution</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1245"><a href="#Bugzilla.build_query-1245"><span class="linenos">1245</span></a>
</span><span id="Bugzilla.build_query-1246"><a href="#Bugzilla.build_query-1246"><span class="linenos">1246</span></a>            <span class="c1"># RH extensions... don&#39;t add any more. See comment below</span>
</span><span id="Bugzilla.build_query-1247"><a href="#Bugzilla.build_query-1247"><span class="linenos">1247</span></a>            <span class="s2">&quot;sub_components&quot;</span><span class="p">:</span> <span class="n">listify</span><span class="p">(</span><span class="n">sub_component</span><span class="p">),</span>
</span><span id="Bugzilla.build_query-1248"><a href="#Bugzilla.build_query-1248"><span class="linenos">1248</span></a>        <span class="p">}</span>
</span><span id="Bugzilla.build_query-1249"><a href="#Bugzilla.build_query-1249"><span class="linenos">1249</span></a>
</span><span id="Bugzilla.build_query-1250"><a href="#Bugzilla.build_query-1250"><span class="linenos">1250</span></a>        <span class="k">def</span><span class="w"> </span><span class="nf">add_bool</span><span class="p">(</span><span class="n">bzkey</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">,</span> <span class="n">booltype</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla.build_query-1251"><a href="#Bugzilla.build_query-1251"><span class="linenos">1251</span></a>            <span class="n">value</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="Bugzilla.build_query-1252"><a href="#Bugzilla.build_query-1252"><span class="linenos">1252</span></a>            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.build_query-1253"><a href="#Bugzilla.build_query-1253"><span class="linenos">1253</span></a>                <span class="k">return</span> <span class="n">bool_id</span>
</span><span id="Bugzilla.build_query-1254"><a href="#Bugzilla.build_query-1254"><span class="linenos">1254</span></a>
</span><span id="Bugzilla.build_query-1255"><a href="#Bugzilla.build_query-1255"><span class="linenos">1255</span></a>            <span class="n">query</span><span class="p">[</span><span class="s2">&quot;query_format&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;advanced&quot;</span>
</span><span id="Bugzilla.build_query-1256"><a href="#Bugzilla.build_query-1256"><span class="linenos">1256</span></a>            <span class="k">for</span> <span class="n">boolval</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
</span><span id="Bugzilla.build_query-1257"><a href="#Bugzilla.build_query-1257"><span class="linenos">1257</span></a>                <span class="k">def</span><span class="w"> </span><span class="nf">make_bool_str</span><span class="p">(</span><span class="n">prefix</span><span class="p">):</span>
</span><span id="Bugzilla.build_query-1258"><a href="#Bugzilla.build_query-1258"><span class="linenos">1258</span></a>                    <span class="c1"># pylint: disable=cell-var-from-loop</span>
</span><span id="Bugzilla.build_query-1259"><a href="#Bugzilla.build_query-1259"><span class="linenos">1259</span></a>                    <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s%i</span><span class="s2">-0-0&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">)</span>
</span><span id="Bugzilla.build_query-1260"><a href="#Bugzilla.build_query-1260"><span class="linenos">1260</span></a>
</span><span id="Bugzilla.build_query-1261"><a href="#Bugzilla.build_query-1261"><span class="linenos">1261</span></a>                <span class="n">query</span><span class="p">[</span><span class="n">make_bool_str</span><span class="p">(</span><span class="s2">&quot;field&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">bzkey</span>
</span><span id="Bugzilla.build_query-1262"><a href="#Bugzilla.build_query-1262"><span class="linenos">1262</span></a>                <span class="n">query</span><span class="p">[</span><span class="n">make_bool_str</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">boolval</span>
</span><span id="Bugzilla.build_query-1263"><a href="#Bugzilla.build_query-1263"><span class="linenos">1263</span></a>                <span class="n">query</span><span class="p">[</span><span class="n">make_bool_str</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">booltype</span> <span class="ow">or</span> <span class="s2">&quot;substring&quot;</span>
</span><span id="Bugzilla.build_query-1264"><a href="#Bugzilla.build_query-1264"><span class="linenos">1264</span></a>
</span><span id="Bugzilla.build_query-1265"><a href="#Bugzilla.build_query-1265"><span class="linenos">1265</span></a>                <span class="n">bool_id</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="Bugzilla.build_query-1266"><a href="#Bugzilla.build_query-1266"><span class="linenos">1266</span></a>            <span class="k">return</span> <span class="n">bool_id</span>
</span><span id="Bugzilla.build_query-1267"><a href="#Bugzilla.build_query-1267"><span class="linenos">1267</span></a>
</span><span id="Bugzilla.build_query-1268"><a href="#Bugzilla.build_query-1268"><span class="linenos">1268</span></a>        <span class="c1"># RH extensions that we have to maintain here for back compat,</span>
</span><span id="Bugzilla.build_query-1269"><a href="#Bugzilla.build_query-1269"><span class="linenos">1269</span></a>        <span class="c1"># but all future custom fields should be specified via</span>
</span><span id="Bugzilla.build_query-1270"><a href="#Bugzilla.build_query-1270"><span class="linenos">1270</span></a>        <span class="c1"># cli --field option, or via extending the query dict() manually.</span>
</span><span id="Bugzilla.build_query-1271"><a href="#Bugzilla.build_query-1271"><span class="linenos">1271</span></a>        <span class="c1"># No more supporting custom fields in this API</span>
</span><span id="Bugzilla.build_query-1272"><a href="#Bugzilla.build_query-1272"><span class="linenos">1272</span></a>        <span class="n">bool_id</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Bugzilla.build_query-1273"><a href="#Bugzilla.build_query-1273"><span class="linenos">1273</span></a>        <span class="n">bool_id</span> <span class="o">=</span> <span class="n">add_bool</span><span class="p">(</span><span class="s2">&quot;keywords&quot;</span><span class="p">,</span> <span class="n">keywords</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">,</span> <span class="n">keywords_type</span><span class="p">)</span>
</span><span id="Bugzilla.build_query-1274"><a href="#Bugzilla.build_query-1274"><span class="linenos">1274</span></a>        <span class="n">bool_id</span> <span class="o">=</span> <span class="n">add_bool</span><span class="p">(</span><span class="s2">&quot;blocked&quot;</span><span class="p">,</span> <span class="n">blocked</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">)</span>
</span><span id="Bugzilla.build_query-1275"><a href="#Bugzilla.build_query-1275"><span class="linenos">1275</span></a>        <span class="n">bool_id</span> <span class="o">=</span> <span class="n">add_bool</span><span class="p">(</span><span class="s2">&quot;dependson&quot;</span><span class="p">,</span> <span class="n">dependson</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">)</span>
</span><span id="Bugzilla.build_query-1276"><a href="#Bugzilla.build_query-1276"><span class="linenos">1276</span></a>        <span class="n">bool_id</span> <span class="o">=</span> <span class="n">add_bool</span><span class="p">(</span><span class="s2">&quot;bug_file_loc&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">,</span> <span class="n">url_type</span><span class="p">)</span>
</span><span id="Bugzilla.build_query-1277"><a href="#Bugzilla.build_query-1277"><span class="linenos">1277</span></a>        <span class="n">bool_id</span> <span class="o">=</span> <span class="n">add_bool</span><span class="p">(</span><span class="s2">&quot;cf_fixed_in&quot;</span><span class="p">,</span> <span class="n">fixed_in</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">,</span> <span class="n">fixed_in_type</span><span class="p">)</span>
</span><span id="Bugzilla.build_query-1278"><a href="#Bugzilla.build_query-1278"><span class="linenos">1278</span></a>        <span class="n">bool_id</span> <span class="o">=</span> <span class="n">add_bool</span><span class="p">(</span><span class="s2">&quot;flagtypes.name&quot;</span><span class="p">,</span> <span class="n">flag</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">)</span>
</span><span id="Bugzilla.build_query-1279"><a href="#Bugzilla.build_query-1279"><span class="linenos">1279</span></a>        <span class="n">bool_id</span> <span class="o">=</span> <span class="n">add_bool</span><span class="p">(</span><span class="s2">&quot;status_whiteboard&quot;</span><span class="p">,</span>
</span><span id="Bugzilla.build_query-1280"><a href="#Bugzilla.build_query-1280"><span class="linenos">1280</span></a>                           <span class="n">status_whiteboard</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">,</span> <span class="n">status_whiteboard_type</span><span class="p">)</span>
</span><span id="Bugzilla.build_query-1281"><a href="#Bugzilla.build_query-1281"><span class="linenos">1281</span></a>        <span class="n">bool_id</span> <span class="o">=</span> <span class="n">add_bool</span><span class="p">(</span><span class="s2">&quot;cf_qa_whiteboard&quot;</span><span class="p">,</span> <span class="n">qa_whiteboard</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">)</span>
</span><span id="Bugzilla.build_query-1282"><a href="#Bugzilla.build_query-1282"><span class="linenos">1282</span></a>        <span class="n">bool_id</span> <span class="o">=</span> <span class="n">add_bool</span><span class="p">(</span><span class="s2">&quot;cf_devel_whiteboard&quot;</span><span class="p">,</span> <span class="n">devel_whiteboard</span><span class="p">,</span> <span class="n">bool_id</span><span class="p">)</span>
</span><span id="Bugzilla.build_query-1283"><a href="#Bugzilla.build_query-1283"><span class="linenos">1283</span></a>
</span><span id="Bugzilla.build_query-1284"><a href="#Bugzilla.build_query-1284"><span class="linenos">1284</span></a>        <span class="k">def</span><span class="w"> </span><span class="nf">add_email</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="Bugzilla.build_query-1285"><a href="#Bugzilla.build_query-1285"><span class="linenos">1285</span></a>            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.build_query-1286"><a href="#Bugzilla.build_query-1286"><span class="linenos">1286</span></a>                <span class="k">return</span> <span class="n">count</span>
</span><span id="Bugzilla.build_query-1287"><a href="#Bugzilla.build_query-1287"><span class="linenos">1287</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">emailtype</span><span class="p">:</span>
</span><span id="Bugzilla.build_query-1288"><a href="#Bugzilla.build_query-1288"><span class="linenos">1288</span></a>                <span class="n">query</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Bugzilla.build_query-1289"><a href="#Bugzilla.build_query-1289"><span class="linenos">1289</span></a>                <span class="k">return</span> <span class="n">count</span>
</span><span id="Bugzilla.build_query-1290"><a href="#Bugzilla.build_query-1290"><span class="linenos">1290</span></a>
</span><span id="Bugzilla.build_query-1291"><a href="#Bugzilla.build_query-1291"><span class="linenos">1291</span></a>            <span class="n">query</span><span class="p">[</span><span class="s2">&quot;query_format&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;advanced&quot;</span>
</span><span id="Bugzilla.build_query-1292"><a href="#Bugzilla.build_query-1292"><span class="linenos">1292</span></a>            <span class="n">query</span><span class="p">[</span><span class="s1">&#39;email</span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">count</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Bugzilla.build_query-1293"><a href="#Bugzilla.build_query-1293"><span class="linenos">1293</span></a>            <span class="n">query</span><span class="p">[</span><span class="s1">&#39;email</span><span class="si">%s%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">count</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Bugzilla.build_query-1294"><a href="#Bugzilla.build_query-1294"><span class="linenos">1294</span></a>            <span class="n">query</span><span class="p">[</span><span class="s1">&#39;emailtype</span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">count</span><span class="p">]</span> <span class="o">=</span> <span class="n">emailtype</span>
</span><span id="Bugzilla.build_query-1295"><a href="#Bugzilla.build_query-1295"><span class="linenos">1295</span></a>            <span class="k">return</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="Bugzilla.build_query-1296"><a href="#Bugzilla.build_query-1296"><span class="linenos">1296</span></a>
</span><span id="Bugzilla.build_query-1297"><a href="#Bugzilla.build_query-1297"><span class="linenos">1297</span></a>        <span class="n">email_count</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="Bugzilla.build_query-1298"><a href="#Bugzilla.build_query-1298"><span class="linenos">1298</span></a>        <span class="n">email_count</span> <span class="o">=</span> <span class="n">add_email</span><span class="p">(</span><span class="s2">&quot;cc&quot;</span><span class="p">,</span> <span class="n">cc</span><span class="p">,</span> <span class="n">email_count</span><span class="p">)</span>
</span><span id="Bugzilla.build_query-1299"><a href="#Bugzilla.build_query-1299"><span class="linenos">1299</span></a>        <span class="n">email_count</span> <span class="o">=</span> <span class="n">add_email</span><span class="p">(</span><span class="s2">&quot;assigned_to&quot;</span><span class="p">,</span> <span class="n">assigned_to</span><span class="p">,</span> <span class="n">email_count</span><span class="p">)</span>
</span><span id="Bugzilla.build_query-1300"><a href="#Bugzilla.build_query-1300"><span class="linenos">1300</span></a>        <span class="n">email_count</span> <span class="o">=</span> <span class="n">add_email</span><span class="p">(</span><span class="s2">&quot;reporter&quot;</span><span class="p">,</span> <span class="n">reporter</span><span class="p">,</span> <span class="n">email_count</span><span class="p">)</span>
</span><span id="Bugzilla.build_query-1301"><a href="#Bugzilla.build_query-1301"><span class="linenos">1301</span></a>        <span class="n">email_count</span> <span class="o">=</span> <span class="n">add_email</span><span class="p">(</span><span class="s2">&quot;qa_contact&quot;</span><span class="p">,</span> <span class="n">qa_contact</span><span class="p">,</span> <span class="n">email_count</span><span class="p">)</span>
</span><span id="Bugzilla.build_query-1302"><a href="#Bugzilla.build_query-1302"><span class="linenos">1302</span></a>
</span><span id="Bugzilla.build_query-1303"><a href="#Bugzilla.build_query-1303"><span class="linenos">1303</span></a>        <span class="k">if</span> <span class="n">long_desc</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.build_query-1304"><a href="#Bugzilla.build_query-1304"><span class="linenos">1304</span></a>            <span class="n">query</span><span class="p">[</span><span class="s2">&quot;query_format&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;advanced&quot;</span>
</span><span id="Bugzilla.build_query-1305"><a href="#Bugzilla.build_query-1305"><span class="linenos">1305</span></a>            <span class="n">query</span><span class="p">[</span><span class="s2">&quot;longdesc&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">long_desc</span>
</span><span id="Bugzilla.build_query-1306"><a href="#Bugzilla.build_query-1306"><span class="linenos">1306</span></a>            <span class="n">query</span><span class="p">[</span><span class="s2">&quot;longdesc_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;allwordssubstr&quot;</span>
</span><span id="Bugzilla.build_query-1307"><a href="#Bugzilla.build_query-1307"><span class="linenos">1307</span></a>
</span><span id="Bugzilla.build_query-1308"><a href="#Bugzilla.build_query-1308"><span class="linenos">1308</span></a>        <span class="c1"># &#39;include_fields&#39; only available for Bugzilla4+</span>
</span><span id="Bugzilla.build_query-1309"><a href="#Bugzilla.build_query-1309"><span class="linenos">1309</span></a>        <span class="c1"># &#39;extra_fields&#39; is an RHBZ extension</span>
</span><span id="Bugzilla.build_query-1310"><a href="#Bugzilla.build_query-1310"><span class="linenos">1310</span></a>        <span class="n">query</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_process_include_fields</span><span class="p">(</span>
</span><span id="Bugzilla.build_query-1311"><a href="#Bugzilla.build_query-1311"><span class="linenos">1311</span></a>            <span class="n">include_fields</span><span class="p">,</span> <span class="n">exclude_fields</span><span class="p">,</span> <span class="n">extra_fields</span><span class="p">))</span>
</span><span id="Bugzilla.build_query-1312"><a href="#Bugzilla.build_query-1312"><span class="linenos">1312</span></a>
</span><span id="Bugzilla.build_query-1313"><a href="#Bugzilla.build_query-1313"><span class="linenos">1313</span></a>        <span class="c1"># Strip out None elements in the dict</span>
</span><span id="Bugzilla.build_query-1314"><a href="#Bugzilla.build_query-1314"><span class="linenos">1314</span></a>        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">query</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Bugzilla.build_query-1315"><a href="#Bugzilla.build_query-1315"><span class="linenos">1315</span></a>            <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.build_query-1316"><a href="#Bugzilla.build_query-1316"><span class="linenos">1316</span></a>                <span class="k">del</span> <span class="n">query</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
</span><span id="Bugzilla.build_query-1317"><a href="#Bugzilla.build_query-1317"><span class="linenos">1317</span></a>
</span><span id="Bugzilla.build_query-1318"><a href="#Bugzilla.build_query-1318"><span class="linenos">1318</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pre_translation</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</span><span id="Bugzilla.build_query-1319"><a href="#Bugzilla.build_query-1319"><span class="linenos">1319</span></a>        <span class="k">return</span> <span class="n">query</span>
</span></pre></div>


            <div class="docstring"><p>Build a query string from passed arguments. Will handle
query parameter differences between various bugzilla versions.</p>

<p>Most of the parameters should be self-explanatory. However,
if you want to perform a complex query, and easy way is to
create it with the bugzilla web UI, copy the entire URL it
generates, and pass it to the static method</p>

<p><a href="#Bugzilla.url_to_query">Bugzilla.url_to_query</a></p>

<p>Then pass the output to <a href="#Bugzilla.query">Bugzilla.query()</a></p>

<p>For details about the specific argument formats, see the bugzilla docs:
<a href="https://bugzilla.readthedocs.io/en/latest/api/core/v1/bug.html#search-bugs">https://bugzilla.readthedocs.io/en/latest/api/core/v1/bug.html#search-bugs</a></p>
</div>


                            </div>
                            <div id="Bugzilla.query_return_extra" class="classattr">
                                        <input id="Bugzilla.query_return_extra-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">query_return_extra</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">query</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.query_return_extra-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.query_return_extra"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.query_return_extra-1322"><a href="#Bugzilla.query_return_extra-1322"><span class="linenos">1322</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">query_return_extra</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">):</span>
</span><span id="Bugzilla.query_return_extra-1323"><a href="#Bugzilla.query_return_extra-1323"><span class="linenos">1323</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.query_return_extra-1324"><a href="#Bugzilla.query_return_extra-1324"><span class="linenos">1324</span></a><span class="sd">        Same as `query()`, but the return value is altered to be</span>
</span><span id="Bugzilla.query_return_extra-1325"><a href="#Bugzilla.query_return_extra-1325"><span class="linenos">1325</span></a><span class="sd">        (buglist, values), where `values` is raw dictionary output from</span>
</span><span id="Bugzilla.query_return_extra-1326"><a href="#Bugzilla.query_return_extra-1326"><span class="linenos">1326</span></a><span class="sd">        the API call, excluding the bug content. For example this may</span>
</span><span id="Bugzilla.query_return_extra-1327"><a href="#Bugzilla.query_return_extra-1327"><span class="linenos">1327</span></a><span class="sd">        include a `limit` value if the bugzilla instance puts an implied</span>
</span><span id="Bugzilla.query_return_extra-1328"><a href="#Bugzilla.query_return_extra-1328"><span class="linenos">1328</span></a><span class="sd">        limit on returned result numbers.</span>
</span><span id="Bugzilla.query_return_extra-1329"><a href="#Bugzilla.query_return_extra-1329"><span class="linenos">1329</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.query_return_extra-1330"><a href="#Bugzilla.query_return_extra-1330"><span class="linenos">1330</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Bugzilla.query_return_extra-1331"><a href="#Bugzilla.query_return_extra-1331"><span class="linenos">1331</span></a>            <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_search</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</span><span id="Bugzilla.query_return_extra-1332"><a href="#Bugzilla.query_return_extra-1332"><span class="linenos">1332</span></a>            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;bug_search returned:</span><span class="se">\n</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">))</span>
</span><span id="Bugzilla.query_return_extra-1333"><a href="#Bugzilla.query_return_extra-1333"><span class="linenos">1333</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="Bugzilla.query_return_extra-1334"><a href="#Bugzilla.query_return_extra-1334"><span class="linenos">1334</span></a>            <span class="c1"># Try to give a hint in the error message if url_to_query</span>
</span><span id="Bugzilla.query_return_extra-1335"><a href="#Bugzilla.query_return_extra-1335"><span class="linenos">1335</span></a>            <span class="c1"># isn&#39;t supported by this bugzilla instance</span>
</span><span id="Bugzilla.query_return_extra-1336"><a href="#Bugzilla.query_return_extra-1336"><span class="linenos">1336</span></a>            <span class="k">if</span> <span class="p">(</span><span class="s2">&quot;query_format&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="ow">or</span>
</span><span id="Bugzilla.query_return_extra-1337"><a href="#Bugzilla.query_return_extra-1337"><span class="linenos">1337</span></a>                <span class="ow">not</span> <span class="n">BugzillaError</span><span class="o">.</span><span class="n">get_bugzilla_error_code</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="ow">or</span>
</span><span id="Bugzilla.query_return_extra-1338"><a href="#Bugzilla.query_return_extra-1338"><span class="linenos">1338</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_get_version</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mf">5.0</span><span class="p">):</span>
</span><span id="Bugzilla.query_return_extra-1339"><a href="#Bugzilla.query_return_extra-1339"><span class="linenos">1339</span></a>                <span class="k">raise</span>
</span><span id="Bugzilla.query_return_extra-1340"><a href="#Bugzilla.query_return_extra-1340"><span class="linenos">1340</span></a>            <span class="k">raise</span> <span class="n">BugzillaError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s2">Your bugzilla instance does not &quot;</span>
</span><span id="Bugzilla.query_return_extra-1341"><a href="#Bugzilla.query_return_extra-1341"><span class="linenos">1341</span></a>                <span class="s2">&quot;appear to support API queries derived from bugzilla &quot;</span>
</span><span id="Bugzilla.query_return_extra-1342"><a href="#Bugzilla.query_return_extra-1342"><span class="linenos">1342</span></a>                <span class="s2">&quot;web URL queries.&quot;</span> <span class="o">%</span> <span class="n">e</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="kc">None</span>
</span><span id="Bugzilla.query_return_extra-1343"><a href="#Bugzilla.query_return_extra-1343"><span class="linenos">1343</span></a>
</span><span id="Bugzilla.query_return_extra-1344"><a href="#Bugzilla.query_return_extra-1344"><span class="linenos">1344</span></a>        <span class="n">rawbugs</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;bugs&quot;</span><span class="p">)</span>
</span><span id="Bugzilla.query_return_extra-1345"><a href="#Bugzilla.query_return_extra-1345"><span class="linenos">1345</span></a>        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Query returned </span><span class="si">%s</span><span class="s2"> bugs&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">rawbugs</span><span class="p">))</span>
</span><span id="Bugzilla.query_return_extra-1346"><a href="#Bugzilla.query_return_extra-1346"><span class="linenos">1346</span></a>        <span class="n">bugs</span> <span class="o">=</span> <span class="p">[</span><span class="n">Bug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dict</span><span class="o">=</span><span class="n">b</span><span class="p">,</span>
</span><span id="Bugzilla.query_return_extra-1347"><a href="#Bugzilla.query_return_extra-1347"><span class="linenos">1347</span></a>                <span class="n">autorefresh</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bug_autorefresh</span><span class="p">)</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">rawbugs</span><span class="p">]</span>
</span><span id="Bugzilla.query_return_extra-1348"><a href="#Bugzilla.query_return_extra-1348"><span class="linenos">1348</span></a>
</span><span id="Bugzilla.query_return_extra-1349"><a href="#Bugzilla.query_return_extra-1349"><span class="linenos">1349</span></a>        <span class="k">return</span> <span class="n">bugs</span><span class="p">,</span> <span class="n">r</span>
</span></pre></div>


            <div class="docstring"><p>Same as <code><a href="#Bugzilla.query">query()</a></code>, but the return value is altered to be
(buglist, values), where <code>values</code> is raw dictionary output from
the API call, excluding the bug content. For example this may
include a <code>limit</code> value if the bugzilla instance puts an implied
limit on returned result numbers.</p>
</div>


                            </div>
                            <div id="Bugzilla.query" class="classattr">
                                        <input id="Bugzilla.query-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">query</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">query</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.query-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.query"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.query-1351"><a href="#Bugzilla.query-1351"><span class="linenos">1351</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">):</span>
</span><span id="Bugzilla.query-1352"><a href="#Bugzilla.query-1352"><span class="linenos">1352</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.query-1353"><a href="#Bugzilla.query-1353"><span class="linenos">1353</span></a><span class="sd">        Pass search terms to bugzilla and and return a list of matching</span>
</span><span id="Bugzilla.query-1354"><a href="#Bugzilla.query-1354"><span class="linenos">1354</span></a><span class="sd">        Bug objects.</span>
</span><span id="Bugzilla.query-1355"><a href="#Bugzilla.query-1355"><span class="linenos">1355</span></a>
</span><span id="Bugzilla.query-1356"><a href="#Bugzilla.query-1356"><span class="linenos">1356</span></a><span class="sd">        See `build_query` for more details about constructing the</span>
</span><span id="Bugzilla.query-1357"><a href="#Bugzilla.query-1357"><span class="linenos">1357</span></a><span class="sd">        `query` dict parameter.</span>
</span><span id="Bugzilla.query-1358"><a href="#Bugzilla.query-1358"><span class="linenos">1358</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.query-1359"><a href="#Bugzilla.query-1359"><span class="linenos">1359</span></a>        <span class="n">bugs</span><span class="p">,</span> <span class="n">dummy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query_return_extra</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</span><span id="Bugzilla.query-1360"><a href="#Bugzilla.query-1360"><span class="linenos">1360</span></a>        <span class="k">return</span> <span class="n">bugs</span>
</span></pre></div>


            <div class="docstring"><p>Pass search terms to bugzilla and and return a list of matching
Bug objects.</p>

<p>See <code><a href="#Bugzilla.build_query">build_query</a></code> for more details about constructing the
<code><a href="#Bugzilla.query">query</a></code> dict parameter.</p>
</div>


                            </div>
                            <div id="Bugzilla.pre_translation" class="classattr">
                                        <input id="Bugzilla.pre_translation-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">pre_translation</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">query</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.pre_translation-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.pre_translation"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.pre_translation-1362"><a href="#Bugzilla.pre_translation-1362"><span class="linenos">1362</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">pre_translation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">):</span>
</span><span id="Bugzilla.pre_translation-1363"><a href="#Bugzilla.pre_translation-1363"><span class="linenos">1363</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.pre_translation-1364"><a href="#Bugzilla.pre_translation-1364"><span class="linenos">1364</span></a><span class="sd">        In order to keep the API the same, Bugzilla4 needs to process the</span>
</span><span id="Bugzilla.pre_translation-1365"><a href="#Bugzilla.pre_translation-1365"><span class="linenos">1365</span></a><span class="sd">        query and the result. This also applies to the refresh() function</span>
</span><span id="Bugzilla.pre_translation-1366"><a href="#Bugzilla.pre_translation-1366"><span class="linenos">1366</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.pre_translation-1367"><a href="#Bugzilla.pre_translation-1367"><span class="linenos">1367</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_redhat_bugzilla</span><span class="p">:</span>
</span><span id="Bugzilla.pre_translation-1368"><a href="#Bugzilla.pre_translation-1368"><span class="linenos">1368</span></a>            <span class="n">_RHBugzillaConverters</span><span class="o">.</span><span class="n">pre_translation</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</span><span id="Bugzilla.pre_translation-1369"><a href="#Bugzilla.pre_translation-1369"><span class="linenos">1369</span></a>            <span class="n">query</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_process_include_fields</span><span class="p">(</span>
</span><span id="Bugzilla.pre_translation-1370"><a href="#Bugzilla.pre_translation-1370"><span class="linenos">1370</span></a>                <span class="n">query</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_fields&quot;</span><span class="p">,</span> <span class="p">[]),</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>In order to keep the API the same, Bugzilla4 needs to process the
query and the result. This also applies to the refresh() function</p>
</div>


                            </div>
                            <div id="Bugzilla.post_translation" class="classattr">
                                        <input id="Bugzilla.post_translation-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">post_translation</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">query</span>, </span><span class="param"><span class="n">bug</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.post_translation-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.post_translation"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.post_translation-1372"><a href="#Bugzilla.post_translation-1372"><span class="linenos">1372</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">post_translation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">bug</span><span class="p">):</span>
</span><span id="Bugzilla.post_translation-1373"><a href="#Bugzilla.post_translation-1373"><span class="linenos">1373</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.post_translation-1374"><a href="#Bugzilla.post_translation-1374"><span class="linenos">1374</span></a><span class="sd">        In order to keep the API the same, Bugzilla4 needs to process the</span>
</span><span id="Bugzilla.post_translation-1375"><a href="#Bugzilla.post_translation-1375"><span class="linenos">1375</span></a><span class="sd">        query and the result. This also applies to the refresh() function</span>
</span><span id="Bugzilla.post_translation-1376"><a href="#Bugzilla.post_translation-1376"><span class="linenos">1376</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.post_translation-1377"><a href="#Bugzilla.post_translation-1377"><span class="linenos">1377</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_redhat_bugzilla</span><span class="p">:</span>
</span><span id="Bugzilla.post_translation-1378"><a href="#Bugzilla.post_translation-1378"><span class="linenos">1378</span></a>            <span class="n">_RHBugzillaConverters</span><span class="o">.</span><span class="n">post_translation</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">bug</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>In order to keep the API the same, Bugzilla4 needs to process the
query and the result. This also applies to the refresh() function</p>
</div>


                            </div>
                            <div id="Bugzilla.bugs_history_raw" class="classattr">
                                        <input id="Bugzilla.bugs_history_raw-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">bugs_history_raw</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">bug_ids</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.bugs_history_raw-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.bugs_history_raw"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.bugs_history_raw-1380"><a href="#Bugzilla.bugs_history_raw-1380"><span class="linenos">1380</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">bugs_history_raw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bug_ids</span><span class="p">):</span>
</span><span id="Bugzilla.bugs_history_raw-1381"><a href="#Bugzilla.bugs_history_raw-1381"><span class="linenos">1381</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.bugs_history_raw-1382"><a href="#Bugzilla.bugs_history_raw-1382"><span class="linenos">1382</span></a><span class="sd">        Experimental. Gets the history of changes for</span>
</span><span id="Bugzilla.bugs_history_raw-1383"><a href="#Bugzilla.bugs_history_raw-1383"><span class="linenos">1383</span></a><span class="sd">        particular bugs in the database.</span>
</span><span id="Bugzilla.bugs_history_raw-1384"><a href="#Bugzilla.bugs_history_raw-1384"><span class="linenos">1384</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.bugs_history_raw-1385"><a href="#Bugzilla.bugs_history_raw-1385"><span class="linenos">1385</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_history</span><span class="p">(</span><span class="n">bug_ids</span><span class="p">,</span> <span class="p">{})</span>
</span></pre></div>


            <div class="docstring"><p>Experimental. Gets the history of changes for
particular bugs in the database.</p>
</div>


                            </div>
                            <div id="Bugzilla.update_bugs" class="classattr">
                                        <input id="Bugzilla.update_bugs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_bugs</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">ids</span>, </span><span class="param"><span class="n">updates</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.update_bugs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.update_bugs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.update_bugs-1394"><a href="#Bugzilla.update_bugs-1394"><span class="linenos">1394</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_bugs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="n">updates</span><span class="p">):</span>
</span><span id="Bugzilla.update_bugs-1395"><a href="#Bugzilla.update_bugs-1395"><span class="linenos">1395</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.update_bugs-1396"><a href="#Bugzilla.update_bugs-1396"><span class="linenos">1396</span></a><span class="sd">        A thin wrapper around bugzilla Bug.update(). Used to update all</span>
</span><span id="Bugzilla.update_bugs-1397"><a href="#Bugzilla.update_bugs-1397"><span class="linenos">1397</span></a><span class="sd">        values of an existing bug report, as well as add comments.</span>
</span><span id="Bugzilla.update_bugs-1398"><a href="#Bugzilla.update_bugs-1398"><span class="linenos">1398</span></a>
</span><span id="Bugzilla.update_bugs-1399"><a href="#Bugzilla.update_bugs-1399"><span class="linenos">1399</span></a><span class="sd">        The dictionary passed to this function should be generated with</span>
</span><span id="Bugzilla.update_bugs-1400"><a href="#Bugzilla.update_bugs-1400"><span class="linenos">1400</span></a><span class="sd">        build_update(), otherwise we cannot guarantee back compatibility.</span>
</span><span id="Bugzilla.update_bugs-1401"><a href="#Bugzilla.update_bugs-1401"><span class="linenos">1401</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.update_bugs-1402"><a href="#Bugzilla.update_bugs-1402"><span class="linenos">1402</span></a>        <span class="n">tmp</span> <span class="o">=</span> <span class="n">updates</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="Bugzilla.update_bugs-1403"><a href="#Bugzilla.update_bugs-1403"><span class="linenos">1403</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_update</span><span class="p">(</span><span class="n">listify</span><span class="p">(</span><span class="n">ids</span><span class="p">),</span> <span class="n">tmp</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>A thin wrapper around bugzilla Bug.update(). Used to update all
values of an existing bug report, as well as add comments.</p>

<p>The dictionary passed to this function should be generated with
build_update(), otherwise we cannot guarantee back compatibility.</p>
</div>


                            </div>
                            <div id="Bugzilla.update_tags" class="classattr">
                                        <input id="Bugzilla.update_tags-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_tags</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">idlist</span>, </span><span class="param"><span class="n">tags_add</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">tags_remove</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.update_tags-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.update_tags"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.update_tags-1405"><a href="#Bugzilla.update_tags-1405"><span class="linenos">1405</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_tags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idlist</span><span class="p">,</span> <span class="n">tags_add</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags_remove</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla.update_tags-1406"><a href="#Bugzilla.update_tags-1406"><span class="linenos">1406</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.update_tags-1407"><a href="#Bugzilla.update_tags-1407"><span class="linenos">1407</span></a><span class="sd">        Updates the &#39;tags&#39; field for a bug.</span>
</span><span id="Bugzilla.update_tags-1408"><a href="#Bugzilla.update_tags-1408"><span class="linenos">1408</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.update_tags-1409"><a href="#Bugzilla.update_tags-1409"><span class="linenos">1409</span></a>        <span class="n">tags</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla.update_tags-1410"><a href="#Bugzilla.update_tags-1410"><span class="linenos">1410</span></a>        <span class="k">if</span> <span class="n">tags_add</span><span class="p">:</span>
</span><span id="Bugzilla.update_tags-1411"><a href="#Bugzilla.update_tags-1411"><span class="linenos">1411</span></a>            <span class="n">tags</span><span class="p">[</span><span class="s2">&quot;add&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">tags_add</span><span class="p">)</span>
</span><span id="Bugzilla.update_tags-1412"><a href="#Bugzilla.update_tags-1412"><span class="linenos">1412</span></a>        <span class="k">if</span> <span class="n">tags_remove</span><span class="p">:</span>
</span><span id="Bugzilla.update_tags-1413"><a href="#Bugzilla.update_tags-1413"><span class="linenos">1413</span></a>            <span class="n">tags</span><span class="p">[</span><span class="s2">&quot;remove&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">tags_remove</span><span class="p">)</span>
</span><span id="Bugzilla.update_tags-1414"><a href="#Bugzilla.update_tags-1414"><span class="linenos">1414</span></a>
</span><span id="Bugzilla.update_tags-1415"><a href="#Bugzilla.update_tags-1415"><span class="linenos">1415</span></a>        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Bugzilla.update_tags-1416"><a href="#Bugzilla.update_tags-1416"><span class="linenos">1416</span></a>            <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="n">tags</span><span class="p">,</span>
</span><span id="Bugzilla.update_tags-1417"><a href="#Bugzilla.update_tags-1417"><span class="linenos">1417</span></a>        <span class="p">}</span>
</span><span id="Bugzilla.update_tags-1418"><a href="#Bugzilla.update_tags-1418"><span class="linenos">1418</span></a>
</span><span id="Bugzilla.update_tags-1419"><a href="#Bugzilla.update_tags-1419"><span class="linenos">1419</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_update_tags</span><span class="p">(</span><span class="n">listify</span><span class="p">(</span><span class="n">idlist</span><span class="p">),</span> <span class="n">d</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Updates the 'tags' field for a bug.</p>
</div>


                            </div>
                            <div id="Bugzilla.update_flags" class="classattr">
                                        <input id="Bugzilla.update_flags-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_flags</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">idlist</span>, </span><span class="param"><span class="n">flags</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.update_flags-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.update_flags"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.update_flags-1421"><a href="#Bugzilla.update_flags-1421"><span class="linenos">1421</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_flags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idlist</span><span class="p">,</span> <span class="n">flags</span><span class="p">):</span>
</span><span id="Bugzilla.update_flags-1422"><a href="#Bugzilla.update_flags-1422"><span class="linenos">1422</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.update_flags-1423"><a href="#Bugzilla.update_flags-1423"><span class="linenos">1423</span></a><span class="sd">        A thin back compat wrapper around build_update(flags=X)</span>
</span><span id="Bugzilla.update_flags-1424"><a href="#Bugzilla.update_flags-1424"><span class="linenos">1424</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.update_flags-1425"><a href="#Bugzilla.update_flags-1425"><span class="linenos">1425</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_bugs</span><span class="p">(</span><span class="n">idlist</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_update</span><span class="p">(</span><span class="n">flags</span><span class="o">=</span><span class="n">flags</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>A thin back compat wrapper around build_update(flags=X)</p>
</div>


                            </div>
                            <div id="Bugzilla.build_update" class="classattr">
                                        <input id="Bugzilla.build_update-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">build_update</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">alias</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">assigned_to</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">blocks_add</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">blocks_remove</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">blocks_set</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">depends_on_add</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">depends_on_remove</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">depends_on_set</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">cc_add</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">cc_remove</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">is_cc_accessible</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">comment</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">comment_private</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">component</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">deadline</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">dupe_of</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">estimated_time</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">groups_add</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">groups_remove</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">keywords_add</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">keywords_remove</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">keywords_set</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">op_sys</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">platform</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">priority</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">product</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">qa_contact</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">is_creator_accessible</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">remaining_time</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">reset_assigned_to</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">reset_qa_contact</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">resolution</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">see_also_add</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">see_also_remove</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">severity</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">status</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">summary</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">target_milestone</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">target_release</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">url</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">version</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">whiteboard</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">work_time</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">fixed_in</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">qa_whiteboard</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">devel_whiteboard</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">internal_whiteboard</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">sub_component</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">flags</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">comment_tags</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">minor_update</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.build_update-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.build_update"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.build_update-1428"><a href="#Bugzilla.build_update-1428"><span class="linenos">1428</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">build_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1429"><a href="#Bugzilla.build_update-1429"><span class="linenos">1429</span></a>                     <span class="n">alias</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1430"><a href="#Bugzilla.build_update-1430"><span class="linenos">1430</span></a>                     <span class="n">assigned_to</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1431"><a href="#Bugzilla.build_update-1431"><span class="linenos">1431</span></a>                     <span class="n">blocks_add</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1432"><a href="#Bugzilla.build_update-1432"><span class="linenos">1432</span></a>                     <span class="n">blocks_remove</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1433"><a href="#Bugzilla.build_update-1433"><span class="linenos">1433</span></a>                     <span class="n">blocks_set</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1434"><a href="#Bugzilla.build_update-1434"><span class="linenos">1434</span></a>                     <span class="n">depends_on_add</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1435"><a href="#Bugzilla.build_update-1435"><span class="linenos">1435</span></a>                     <span class="n">depends_on_remove</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1436"><a href="#Bugzilla.build_update-1436"><span class="linenos">1436</span></a>                     <span class="n">depends_on_set</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1437"><a href="#Bugzilla.build_update-1437"><span class="linenos">1437</span></a>                     <span class="n">cc_add</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1438"><a href="#Bugzilla.build_update-1438"><span class="linenos">1438</span></a>                     <span class="n">cc_remove</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1439"><a href="#Bugzilla.build_update-1439"><span class="linenos">1439</span></a>                     <span class="n">is_cc_accessible</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1440"><a href="#Bugzilla.build_update-1440"><span class="linenos">1440</span></a>                     <span class="n">comment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1441"><a href="#Bugzilla.build_update-1441"><span class="linenos">1441</span></a>                     <span class="n">comment_private</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1442"><a href="#Bugzilla.build_update-1442"><span class="linenos">1442</span></a>                     <span class="n">component</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1443"><a href="#Bugzilla.build_update-1443"><span class="linenos">1443</span></a>                     <span class="n">deadline</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1444"><a href="#Bugzilla.build_update-1444"><span class="linenos">1444</span></a>                     <span class="n">dupe_of</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1445"><a href="#Bugzilla.build_update-1445"><span class="linenos">1445</span></a>                     <span class="n">estimated_time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1446"><a href="#Bugzilla.build_update-1446"><span class="linenos">1446</span></a>                     <span class="n">groups_add</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1447"><a href="#Bugzilla.build_update-1447"><span class="linenos">1447</span></a>                     <span class="n">groups_remove</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1448"><a href="#Bugzilla.build_update-1448"><span class="linenos">1448</span></a>                     <span class="n">keywords_add</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1449"><a href="#Bugzilla.build_update-1449"><span class="linenos">1449</span></a>                     <span class="n">keywords_remove</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1450"><a href="#Bugzilla.build_update-1450"><span class="linenos">1450</span></a>                     <span class="n">keywords_set</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1451"><a href="#Bugzilla.build_update-1451"><span class="linenos">1451</span></a>                     <span class="n">op_sys</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1452"><a href="#Bugzilla.build_update-1452"><span class="linenos">1452</span></a>                     <span class="n">platform</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1453"><a href="#Bugzilla.build_update-1453"><span class="linenos">1453</span></a>                     <span class="n">priority</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1454"><a href="#Bugzilla.build_update-1454"><span class="linenos">1454</span></a>                     <span class="n">product</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1455"><a href="#Bugzilla.build_update-1455"><span class="linenos">1455</span></a>                     <span class="n">qa_contact</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1456"><a href="#Bugzilla.build_update-1456"><span class="linenos">1456</span></a>                     <span class="n">is_creator_accessible</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1457"><a href="#Bugzilla.build_update-1457"><span class="linenos">1457</span></a>                     <span class="n">remaining_time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1458"><a href="#Bugzilla.build_update-1458"><span class="linenos">1458</span></a>                     <span class="n">reset_assigned_to</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1459"><a href="#Bugzilla.build_update-1459"><span class="linenos">1459</span></a>                     <span class="n">reset_qa_contact</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1460"><a href="#Bugzilla.build_update-1460"><span class="linenos">1460</span></a>                     <span class="n">resolution</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1461"><a href="#Bugzilla.build_update-1461"><span class="linenos">1461</span></a>                     <span class="n">see_also_add</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1462"><a href="#Bugzilla.build_update-1462"><span class="linenos">1462</span></a>                     <span class="n">see_also_remove</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1463"><a href="#Bugzilla.build_update-1463"><span class="linenos">1463</span></a>                     <span class="n">severity</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1464"><a href="#Bugzilla.build_update-1464"><span class="linenos">1464</span></a>                     <span class="n">status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1465"><a href="#Bugzilla.build_update-1465"><span class="linenos">1465</span></a>                     <span class="n">summary</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1466"><a href="#Bugzilla.build_update-1466"><span class="linenos">1466</span></a>                     <span class="n">target_milestone</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1467"><a href="#Bugzilla.build_update-1467"><span class="linenos">1467</span></a>                     <span class="n">target_release</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1468"><a href="#Bugzilla.build_update-1468"><span class="linenos">1468</span></a>                     <span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1469"><a href="#Bugzilla.build_update-1469"><span class="linenos">1469</span></a>                     <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1470"><a href="#Bugzilla.build_update-1470"><span class="linenos">1470</span></a>                     <span class="n">whiteboard</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1471"><a href="#Bugzilla.build_update-1471"><span class="linenos">1471</span></a>                     <span class="n">work_time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1472"><a href="#Bugzilla.build_update-1472"><span class="linenos">1472</span></a>                     <span class="n">fixed_in</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1473"><a href="#Bugzilla.build_update-1473"><span class="linenos">1473</span></a>                     <span class="n">qa_whiteboard</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1474"><a href="#Bugzilla.build_update-1474"><span class="linenos">1474</span></a>                     <span class="n">devel_whiteboard</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1475"><a href="#Bugzilla.build_update-1475"><span class="linenos">1475</span></a>                     <span class="n">internal_whiteboard</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1476"><a href="#Bugzilla.build_update-1476"><span class="linenos">1476</span></a>                     <span class="n">sub_component</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1477"><a href="#Bugzilla.build_update-1477"><span class="linenos">1477</span></a>                     <span class="n">flags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1478"><a href="#Bugzilla.build_update-1478"><span class="linenos">1478</span></a>                     <span class="n">comment_tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1479"><a href="#Bugzilla.build_update-1479"><span class="linenos">1479</span></a>                     <span class="n">minor_update</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla.build_update-1480"><a href="#Bugzilla.build_update-1480"><span class="linenos">1480</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.build_update-1481"><a href="#Bugzilla.build_update-1481"><span class="linenos">1481</span></a><span class="sd">        Returns a python dict() with properly formatted parameters to</span>
</span><span id="Bugzilla.build_update-1482"><a href="#Bugzilla.build_update-1482"><span class="linenos">1482</span></a><span class="sd">        pass to update_bugs(). See bugzilla documentation for the format</span>
</span><span id="Bugzilla.build_update-1483"><a href="#Bugzilla.build_update-1483"><span class="linenos">1483</span></a><span class="sd">        of the individual fields:</span>
</span><span id="Bugzilla.build_update-1484"><a href="#Bugzilla.build_update-1484"><span class="linenos">1484</span></a>
</span><span id="Bugzilla.build_update-1485"><a href="#Bugzilla.build_update-1485"><span class="linenos">1485</span></a><span class="sd">        https://bugzilla.readthedocs.io/en/latest/api/core/v1/bug.html#create-bug</span>
</span><span id="Bugzilla.build_update-1486"><a href="#Bugzilla.build_update-1486"><span class="linenos">1486</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.build_update-1487"><a href="#Bugzilla.build_update-1487"><span class="linenos">1487</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla.build_update-1488"><a href="#Bugzilla.build_update-1488"><span class="linenos">1488</span></a>        <span class="n">rhbzret</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla.build_update-1489"><a href="#Bugzilla.build_update-1489"><span class="linenos">1489</span></a>
</span><span id="Bugzilla.build_update-1490"><a href="#Bugzilla.build_update-1490"><span class="linenos">1490</span></a>        <span class="c1"># These are only supported for rhbugzilla</span>
</span><span id="Bugzilla.build_update-1491"><a href="#Bugzilla.build_update-1491"><span class="linenos">1491</span></a>        <span class="c1">#</span>
</span><span id="Bugzilla.build_update-1492"><a href="#Bugzilla.build_update-1492"><span class="linenos">1492</span></a>        <span class="c1"># This should not be extended any more.</span>
</span><span id="Bugzilla.build_update-1493"><a href="#Bugzilla.build_update-1493"><span class="linenos">1493</span></a>        <span class="c1"># If people want to handle custom fields, manually extend the</span>
</span><span id="Bugzilla.build_update-1494"><a href="#Bugzilla.build_update-1494"><span class="linenos">1494</span></a>        <span class="c1"># returned dictionary.</span>
</span><span id="Bugzilla.build_update-1495"><a href="#Bugzilla.build_update-1495"><span class="linenos">1495</span></a>        <span class="n">rhbzargs</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Bugzilla.build_update-1496"><a href="#Bugzilla.build_update-1496"><span class="linenos">1496</span></a>            <span class="s2">&quot;fixed_in&quot;</span><span class="p">:</span> <span class="n">fixed_in</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1497"><a href="#Bugzilla.build_update-1497"><span class="linenos">1497</span></a>            <span class="s2">&quot;devel_whiteboard&quot;</span><span class="p">:</span> <span class="n">devel_whiteboard</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1498"><a href="#Bugzilla.build_update-1498"><span class="linenos">1498</span></a>            <span class="s2">&quot;qa_whiteboard&quot;</span><span class="p">:</span> <span class="n">qa_whiteboard</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1499"><a href="#Bugzilla.build_update-1499"><span class="linenos">1499</span></a>            <span class="s2">&quot;internal_whiteboard&quot;</span><span class="p">:</span> <span class="n">internal_whiteboard</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1500"><a href="#Bugzilla.build_update-1500"><span class="linenos">1500</span></a>            <span class="s2">&quot;sub_component&quot;</span><span class="p">:</span> <span class="n">sub_component</span><span class="p">,</span>
</span><span id="Bugzilla.build_update-1501"><a href="#Bugzilla.build_update-1501"><span class="linenos">1501</span></a>        <span class="p">}</span>
</span><span id="Bugzilla.build_update-1502"><a href="#Bugzilla.build_update-1502"><span class="linenos">1502</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_redhat_bugzilla</span><span class="p">:</span>
</span><span id="Bugzilla.build_update-1503"><a href="#Bugzilla.build_update-1503"><span class="linenos">1503</span></a>            <span class="n">rhbzret</span> <span class="o">=</span> <span class="n">_RHBugzillaConverters</span><span class="o">.</span><span class="n">convert_build_update</span><span class="p">(</span>
</span><span id="Bugzilla.build_update-1504"><a href="#Bugzilla.build_update-1504"><span class="linenos">1504</span></a>                <span class="n">component</span><span class="o">=</span><span class="n">component</span><span class="p">,</span> <span class="o">**</span><span class="n">rhbzargs</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1505"><a href="#Bugzilla.build_update-1505"><span class="linenos">1505</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Bugzilla.build_update-1506"><a href="#Bugzilla.build_update-1506"><span class="linenos">1506</span></a>            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">rhbzargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Bugzilla.build_update-1507"><a href="#Bugzilla.build_update-1507"><span class="linenos">1507</span></a>                <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.build_update-1508"><a href="#Bugzilla.build_update-1508"><span class="linenos">1508</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;bugzilla instance does not support &quot;</span>
</span><span id="Bugzilla.build_update-1509"><a href="#Bugzilla.build_update-1509"><span class="linenos">1509</span></a>                                     <span class="s2">&quot;updating &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="n">key</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1510"><a href="#Bugzilla.build_update-1510"><span class="linenos">1510</span></a>
</span><span id="Bugzilla.build_update-1511"><a href="#Bugzilla.build_update-1511"><span class="linenos">1511</span></a>        <span class="k">def</span><span class="w"> </span><span class="nf">s</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">convert</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla.build_update-1512"><a href="#Bugzilla.build_update-1512"><span class="linenos">1512</span></a>            <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.build_update-1513"><a href="#Bugzilla.build_update-1513"><span class="linenos">1513</span></a>                <span class="k">return</span>
</span><span id="Bugzilla.build_update-1514"><a href="#Bugzilla.build_update-1514"><span class="linenos">1514</span></a>            <span class="k">if</span> <span class="n">convert</span><span class="p">:</span>
</span><span id="Bugzilla.build_update-1515"><a href="#Bugzilla.build_update-1515"><span class="linenos">1515</span></a>                <span class="n">val</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1516"><a href="#Bugzilla.build_update-1516"><span class="linenos">1516</span></a>            <span class="n">ret</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>
</span><span id="Bugzilla.build_update-1517"><a href="#Bugzilla.build_update-1517"><span class="linenos">1517</span></a>
</span><span id="Bugzilla.build_update-1518"><a href="#Bugzilla.build_update-1518"><span class="linenos">1518</span></a>        <span class="k">def</span><span class="w"> </span><span class="nf">add_dict</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">add</span><span class="p">,</span> <span class="n">remove</span><span class="p">,</span> <span class="n">_set</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla.build_update-1519"><a href="#Bugzilla.build_update-1519"><span class="linenos">1519</span></a>            <span class="k">if</span> <span class="n">add</span> <span class="ow">is</span> <span class="n">remove</span> <span class="ow">is</span> <span class="n">_set</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.build_update-1520"><a href="#Bugzilla.build_update-1520"><span class="linenos">1520</span></a>                <span class="k">return</span>
</span><span id="Bugzilla.build_update-1521"><a href="#Bugzilla.build_update-1521"><span class="linenos">1521</span></a>
</span><span id="Bugzilla.build_update-1522"><a href="#Bugzilla.build_update-1522"><span class="linenos">1522</span></a>            <span class="n">newdict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla.build_update-1523"><a href="#Bugzilla.build_update-1523"><span class="linenos">1523</span></a>            <span class="k">if</span> <span class="n">add</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.build_update-1524"><a href="#Bugzilla.build_update-1524"><span class="linenos">1524</span></a>                <span class="n">newdict</span><span class="p">[</span><span class="s2">&quot;add&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">add</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1525"><a href="#Bugzilla.build_update-1525"><span class="linenos">1525</span></a>            <span class="k">if</span> <span class="n">remove</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.build_update-1526"><a href="#Bugzilla.build_update-1526"><span class="linenos">1526</span></a>                <span class="n">newdict</span><span class="p">[</span><span class="s2">&quot;remove&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">remove</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1527"><a href="#Bugzilla.build_update-1527"><span class="linenos">1527</span></a>            <span class="k">if</span> <span class="n">_set</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.build_update-1528"><a href="#Bugzilla.build_update-1528"><span class="linenos">1528</span></a>                <span class="n">newdict</span><span class="p">[</span><span class="s2">&quot;set&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">_set</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1529"><a href="#Bugzilla.build_update-1529"><span class="linenos">1529</span></a>            <span class="n">ret</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">newdict</span>
</span><span id="Bugzilla.build_update-1530"><a href="#Bugzilla.build_update-1530"><span class="linenos">1530</span></a>
</span><span id="Bugzilla.build_update-1531"><a href="#Bugzilla.build_update-1531"><span class="linenos">1531</span></a>
</span><span id="Bugzilla.build_update-1532"><a href="#Bugzilla.build_update-1532"><span class="linenos">1532</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;alias&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1533"><a href="#Bugzilla.build_update-1533"><span class="linenos">1533</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;assigned_to&quot;</span><span class="p">,</span> <span class="n">assigned_to</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1534"><a href="#Bugzilla.build_update-1534"><span class="linenos">1534</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;is_cc_accessible&quot;</span><span class="p">,</span> <span class="n">is_cc_accessible</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1535"><a href="#Bugzilla.build_update-1535"><span class="linenos">1535</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;component&quot;</span><span class="p">,</span> <span class="n">component</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1536"><a href="#Bugzilla.build_update-1536"><span class="linenos">1536</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;deadline&quot;</span><span class="p">,</span> <span class="n">deadline</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1537"><a href="#Bugzilla.build_update-1537"><span class="linenos">1537</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;dupe_of&quot;</span><span class="p">,</span> <span class="n">dupe_of</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1538"><a href="#Bugzilla.build_update-1538"><span class="linenos">1538</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;estimated_time&quot;</span><span class="p">,</span> <span class="n">estimated_time</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1539"><a href="#Bugzilla.build_update-1539"><span class="linenos">1539</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;op_sys&quot;</span><span class="p">,</span> <span class="n">op_sys</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1540"><a href="#Bugzilla.build_update-1540"><span class="linenos">1540</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;platform&quot;</span><span class="p">,</span> <span class="n">platform</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1541"><a href="#Bugzilla.build_update-1541"><span class="linenos">1541</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;priority&quot;</span><span class="p">,</span> <span class="n">priority</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1542"><a href="#Bugzilla.build_update-1542"><span class="linenos">1542</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;product&quot;</span><span class="p">,</span> <span class="n">product</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1543"><a href="#Bugzilla.build_update-1543"><span class="linenos">1543</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;qa_contact&quot;</span><span class="p">,</span> <span class="n">qa_contact</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1544"><a href="#Bugzilla.build_update-1544"><span class="linenos">1544</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;is_creator_accessible&quot;</span><span class="p">,</span> <span class="n">is_creator_accessible</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1545"><a href="#Bugzilla.build_update-1545"><span class="linenos">1545</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;remaining_time&quot;</span><span class="p">,</span> <span class="n">remaining_time</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1546"><a href="#Bugzilla.build_update-1546"><span class="linenos">1546</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;reset_assigned_to&quot;</span><span class="p">,</span> <span class="n">reset_assigned_to</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1547"><a href="#Bugzilla.build_update-1547"><span class="linenos">1547</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;reset_qa_contact&quot;</span><span class="p">,</span> <span class="n">reset_qa_contact</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1548"><a href="#Bugzilla.build_update-1548"><span class="linenos">1548</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;resolution&quot;</span><span class="p">,</span> <span class="n">resolution</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1549"><a href="#Bugzilla.build_update-1549"><span class="linenos">1549</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;severity&quot;</span><span class="p">,</span> <span class="n">severity</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1550"><a href="#Bugzilla.build_update-1550"><span class="linenos">1550</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="n">status</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1551"><a href="#Bugzilla.build_update-1551"><span class="linenos">1551</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;summary&quot;</span><span class="p">,</span> <span class="n">summary</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1552"><a href="#Bugzilla.build_update-1552"><span class="linenos">1552</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;target_milestone&quot;</span><span class="p">,</span> <span class="n">target_milestone</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1553"><a href="#Bugzilla.build_update-1553"><span class="linenos">1553</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;target_release&quot;</span><span class="p">,</span> <span class="n">target_release</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1554"><a href="#Bugzilla.build_update-1554"><span class="linenos">1554</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;url&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1555"><a href="#Bugzilla.build_update-1555"><span class="linenos">1555</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">,</span> <span class="n">version</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1556"><a href="#Bugzilla.build_update-1556"><span class="linenos">1556</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;whiteboard&quot;</span><span class="p">,</span> <span class="n">whiteboard</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1557"><a href="#Bugzilla.build_update-1557"><span class="linenos">1557</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;work_time&quot;</span><span class="p">,</span> <span class="n">work_time</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1558"><a href="#Bugzilla.build_update-1558"><span class="linenos">1558</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;flags&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1559"><a href="#Bugzilla.build_update-1559"><span class="linenos">1559</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;comment_tags&quot;</span><span class="p">,</span> <span class="n">comment_tags</span><span class="p">,</span> <span class="n">listify</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1560"><a href="#Bugzilla.build_update-1560"><span class="linenos">1560</span></a>        <span class="n">s</span><span class="p">(</span><span class="s2">&quot;minor_update&quot;</span><span class="p">,</span> <span class="n">minor_update</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1561"><a href="#Bugzilla.build_update-1561"><span class="linenos">1561</span></a>
</span><span id="Bugzilla.build_update-1562"><a href="#Bugzilla.build_update-1562"><span class="linenos">1562</span></a>        <span class="n">add_dict</span><span class="p">(</span><span class="s2">&quot;blocks&quot;</span><span class="p">,</span> <span class="n">blocks_add</span><span class="p">,</span> <span class="n">blocks_remove</span><span class="p">,</span> <span class="n">blocks_set</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1563"><a href="#Bugzilla.build_update-1563"><span class="linenos">1563</span></a>        <span class="n">add_dict</span><span class="p">(</span><span class="s2">&quot;depends_on&quot;</span><span class="p">,</span> <span class="n">depends_on_add</span><span class="p">,</span> <span class="n">depends_on_remove</span><span class="p">,</span> <span class="n">depends_on_set</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1564"><a href="#Bugzilla.build_update-1564"><span class="linenos">1564</span></a>        <span class="n">add_dict</span><span class="p">(</span><span class="s2">&quot;cc&quot;</span><span class="p">,</span> <span class="n">cc_add</span><span class="p">,</span> <span class="n">cc_remove</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1565"><a href="#Bugzilla.build_update-1565"><span class="linenos">1565</span></a>        <span class="n">add_dict</span><span class="p">(</span><span class="s2">&quot;groups&quot;</span><span class="p">,</span> <span class="n">groups_add</span><span class="p">,</span> <span class="n">groups_remove</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1566"><a href="#Bugzilla.build_update-1566"><span class="linenos">1566</span></a>        <span class="n">add_dict</span><span class="p">(</span><span class="s2">&quot;keywords&quot;</span><span class="p">,</span> <span class="n">keywords_add</span><span class="p">,</span> <span class="n">keywords_remove</span><span class="p">,</span> <span class="n">keywords_set</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1567"><a href="#Bugzilla.build_update-1567"><span class="linenos">1567</span></a>        <span class="n">add_dict</span><span class="p">(</span><span class="s2">&quot;see_also&quot;</span><span class="p">,</span> <span class="n">see_also_add</span><span class="p">,</span> <span class="n">see_also_remove</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1568"><a href="#Bugzilla.build_update-1568"><span class="linenos">1568</span></a>
</span><span id="Bugzilla.build_update-1569"><a href="#Bugzilla.build_update-1569"><span class="linenos">1569</span></a>        <span class="k">if</span> <span class="n">comment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.build_update-1570"><a href="#Bugzilla.build_update-1570"><span class="linenos">1570</span></a>            <span class="n">ret</span><span class="p">[</span><span class="s2">&quot;comment&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="n">comment</span><span class="p">}</span>
</span><span id="Bugzilla.build_update-1571"><a href="#Bugzilla.build_update-1571"><span class="linenos">1571</span></a>            <span class="k">if</span> <span class="n">comment_private</span><span class="p">:</span>
</span><span id="Bugzilla.build_update-1572"><a href="#Bugzilla.build_update-1572"><span class="linenos">1572</span></a>                <span class="n">ret</span><span class="p">[</span><span class="s2">&quot;comment&quot;</span><span class="p">][</span><span class="s2">&quot;is_private&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">comment_private</span>
</span><span id="Bugzilla.build_update-1573"><a href="#Bugzilla.build_update-1573"><span class="linenos">1573</span></a>
</span><span id="Bugzilla.build_update-1574"><a href="#Bugzilla.build_update-1574"><span class="linenos">1574</span></a>        <span class="n">ret</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">rhbzret</span><span class="p">)</span>
</span><span id="Bugzilla.build_update-1575"><a href="#Bugzilla.build_update-1575"><span class="linenos">1575</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span></pre></div>


            <div class="docstring"><p>Returns a python dict() with properly formatted parameters to
pass to update_bugs(). See bugzilla documentation for the format
of the individual fields:</p>

<p><a href="https://bugzilla.readthedocs.io/en/latest/api/core/v1/bug.html#create-bug">https://bugzilla.readthedocs.io/en/latest/api/core/v1/bug.html#create-bug</a></p>
</div>


                            </div>
                            <div id="Bugzilla.attachfile" class="classattr">
                                        <input id="Bugzilla.attachfile-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">attachfile</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">idlist</span>, </span><span class="param"><span class="n">attachfile</span>, </span><span class="param"><span class="n">description</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.attachfile-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.attachfile"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.attachfile-1582"><a href="#Bugzilla.attachfile-1582"><span class="linenos">1582</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">attachfile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idlist</span><span class="p">,</span> <span class="n">attachfile</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Bugzilla.attachfile-1583"><a href="#Bugzilla.attachfile-1583"><span class="linenos">1583</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.attachfile-1584"><a href="#Bugzilla.attachfile-1584"><span class="linenos">1584</span></a><span class="sd">        Attach a file to the given bug IDs. Returns the ID of the attachment</span>
</span><span id="Bugzilla.attachfile-1585"><a href="#Bugzilla.attachfile-1585"><span class="linenos">1585</span></a><span class="sd">        or raises XMLRPC Fault if something goes wrong.</span>
</span><span id="Bugzilla.attachfile-1586"><a href="#Bugzilla.attachfile-1586"><span class="linenos">1586</span></a>
</span><span id="Bugzilla.attachfile-1587"><a href="#Bugzilla.attachfile-1587"><span class="linenos">1587</span></a><span class="sd">        attachfile may be a filename (which will be opened) or a file-like</span>
</span><span id="Bugzilla.attachfile-1588"><a href="#Bugzilla.attachfile-1588"><span class="linenos">1588</span></a><span class="sd">        object, which must provide a &#39;read&#39; method. If it&#39;s not one of these,</span>
</span><span id="Bugzilla.attachfile-1589"><a href="#Bugzilla.attachfile-1589"><span class="linenos">1589</span></a><span class="sd">        this method will raise a TypeError.</span>
</span><span id="Bugzilla.attachfile-1590"><a href="#Bugzilla.attachfile-1590"><span class="linenos">1590</span></a><span class="sd">        description is the short description of this attachment.</span>
</span><span id="Bugzilla.attachfile-1591"><a href="#Bugzilla.attachfile-1591"><span class="linenos">1591</span></a>
</span><span id="Bugzilla.attachfile-1592"><a href="#Bugzilla.attachfile-1592"><span class="linenos">1592</span></a><span class="sd">        Optional keyword args are as follows:</span>
</span><span id="Bugzilla.attachfile-1593"><a href="#Bugzilla.attachfile-1593"><span class="linenos">1593</span></a><span class="sd">            file_name:  this will be used as the filename for the attachment.</span>
</span><span id="Bugzilla.attachfile-1594"><a href="#Bugzilla.attachfile-1594"><span class="linenos">1594</span></a><span class="sd">                       REQUIRED if attachfile is a file-like object with no</span>
</span><span id="Bugzilla.attachfile-1595"><a href="#Bugzilla.attachfile-1595"><span class="linenos">1595</span></a><span class="sd">                       &#39;name&#39; attribute, otherwise the filename or .name</span>
</span><span id="Bugzilla.attachfile-1596"><a href="#Bugzilla.attachfile-1596"><span class="linenos">1596</span></a><span class="sd">                       attribute will be used.</span>
</span><span id="Bugzilla.attachfile-1597"><a href="#Bugzilla.attachfile-1597"><span class="linenos">1597</span></a><span class="sd">            comment:   An optional comment about this attachment.</span>
</span><span id="Bugzilla.attachfile-1598"><a href="#Bugzilla.attachfile-1598"><span class="linenos">1598</span></a><span class="sd">            is_private: Set to True if the attachment should be marked private.</span>
</span><span id="Bugzilla.attachfile-1599"><a href="#Bugzilla.attachfile-1599"><span class="linenos">1599</span></a><span class="sd">            is_patch:   Set to True if the attachment is a patch.</span>
</span><span id="Bugzilla.attachfile-1600"><a href="#Bugzilla.attachfile-1600"><span class="linenos">1600</span></a><span class="sd">            content_type: The mime-type of the attached file. Defaults to</span>
</span><span id="Bugzilla.attachfile-1601"><a href="#Bugzilla.attachfile-1601"><span class="linenos">1601</span></a><span class="sd">                          application/octet-stream if not set. NOTE that text</span>
</span><span id="Bugzilla.attachfile-1602"><a href="#Bugzilla.attachfile-1602"><span class="linenos">1602</span></a><span class="sd">                          files will *not* be viewable in bugzilla unless you</span>
</span><span id="Bugzilla.attachfile-1603"><a href="#Bugzilla.attachfile-1603"><span class="linenos">1603</span></a><span class="sd">                          remember to set this to text/plain. So remember that!</span>
</span><span id="Bugzilla.attachfile-1604"><a href="#Bugzilla.attachfile-1604"><span class="linenos">1604</span></a>
</span><span id="Bugzilla.attachfile-1605"><a href="#Bugzilla.attachfile-1605"><span class="linenos">1605</span></a><span class="sd">        Returns the list of attachment ids that were added. If only one</span>
</span><span id="Bugzilla.attachfile-1606"><a href="#Bugzilla.attachfile-1606"><span class="linenos">1606</span></a><span class="sd">        attachment was added, we return the single int ID for back compat</span>
</span><span id="Bugzilla.attachfile-1607"><a href="#Bugzilla.attachfile-1607"><span class="linenos">1607</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.attachfile-1608"><a href="#Bugzilla.attachfile-1608"><span class="linenos">1608</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attachfile</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="Bugzilla.attachfile-1609"><a href="#Bugzilla.attachfile-1609"><span class="linenos">1609</span></a>            <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">attachfile</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>
</span><span id="Bugzilla.attachfile-1610"><a href="#Bugzilla.attachfile-1610"><span class="linenos">1610</span></a>        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">attachfile</span><span class="p">,</span> <span class="s1">&#39;read&#39;</span><span class="p">):</span>
</span><span id="Bugzilla.attachfile-1611"><a href="#Bugzilla.attachfile-1611"><span class="linenos">1611</span></a>            <span class="n">f</span> <span class="o">=</span> <span class="n">attachfile</span>
</span><span id="Bugzilla.attachfile-1612"><a href="#Bugzilla.attachfile-1612"><span class="linenos">1612</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Bugzilla.attachfile-1613"><a href="#Bugzilla.attachfile-1613"><span class="linenos">1613</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;attachfile must be filename or file-like object&quot;</span><span class="p">)</span>
</span><span id="Bugzilla.attachfile-1614"><a href="#Bugzilla.attachfile-1614"><span class="linenos">1614</span></a>
</span><span id="Bugzilla.attachfile-1615"><a href="#Bugzilla.attachfile-1615"><span class="linenos">1615</span></a>        <span class="c1"># Back compat</span>
</span><span id="Bugzilla.attachfile-1616"><a href="#Bugzilla.attachfile-1616"><span class="linenos">1616</span></a>        <span class="k">if</span> <span class="s2">&quot;contenttype&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="Bugzilla.attachfile-1617"><a href="#Bugzilla.attachfile-1617"><span class="linenos">1617</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;content_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;contenttype&quot;</span><span class="p">)</span>
</span><span id="Bugzilla.attachfile-1618"><a href="#Bugzilla.attachfile-1618"><span class="linenos">1618</span></a>        <span class="k">if</span> <span class="s2">&quot;ispatch&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="Bugzilla.attachfile-1619"><a href="#Bugzilla.attachfile-1619"><span class="linenos">1619</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;is_patch&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;ispatch&quot;</span><span class="p">)</span>
</span><span id="Bugzilla.attachfile-1620"><a href="#Bugzilla.attachfile-1620"><span class="linenos">1620</span></a>        <span class="k">if</span> <span class="s2">&quot;isprivate&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="Bugzilla.attachfile-1621"><a href="#Bugzilla.attachfile-1621"><span class="linenos">1621</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;is_private&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;isprivate&quot;</span><span class="p">)</span>
</span><span id="Bugzilla.attachfile-1622"><a href="#Bugzilla.attachfile-1622"><span class="linenos">1622</span></a>        <span class="k">if</span> <span class="s2">&quot;filename&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="Bugzilla.attachfile-1623"><a href="#Bugzilla.attachfile-1623"><span class="linenos">1623</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;file_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;filename&quot;</span><span class="p">)</span>
</span><span id="Bugzilla.attachfile-1624"><a href="#Bugzilla.attachfile-1624"><span class="linenos">1624</span></a>
</span><span id="Bugzilla.attachfile-1625"><a href="#Bugzilla.attachfile-1625"><span class="linenos">1625</span></a>        <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;summary&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">description</span>
</span><span id="Bugzilla.attachfile-1626"><a href="#Bugzilla.attachfile-1626"><span class="linenos">1626</span></a>
</span><span id="Bugzilla.attachfile-1627"><a href="#Bugzilla.attachfile-1627"><span class="linenos">1627</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span id="Bugzilla.attachfile-1628"><a href="#Bugzilla.attachfile-1628"><span class="linenos">1628</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>  <span class="c1"># pragma: no cover</span>
</span><span id="Bugzilla.attachfile-1629"><a href="#Bugzilla.attachfile-1629"><span class="linenos">1629</span></a>            <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">getpreferredencoding</span><span class="p">())</span>
</span><span id="Bugzilla.attachfile-1630"><a href="#Bugzilla.attachfile-1630"><span class="linenos">1630</span></a>
</span><span id="Bugzilla.attachfile-1631"><a href="#Bugzilla.attachfile-1631"><span class="linenos">1631</span></a>        <span class="k">if</span> <span class="s1">&#39;file_name&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">):</span>
</span><span id="Bugzilla.attachfile-1632"><a href="#Bugzilla.attachfile-1632"><span class="linenos">1632</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;file_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</span><span id="Bugzilla.attachfile-1633"><a href="#Bugzilla.attachfile-1633"><span class="linenos">1633</span></a>        <span class="k">if</span> <span class="s1">&#39;content_type&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="Bugzilla.attachfile-1634"><a href="#Bugzilla.attachfile-1634"><span class="linenos">1634</span></a>            <span class="n">ctype</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Bugzilla.attachfile-1635"><a href="#Bugzilla.attachfile-1635"><span class="linenos">1635</span></a>            <span class="k">if</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;file_name&#39;</span><span class="p">]:</span>
</span><span id="Bugzilla.attachfile-1636"><a href="#Bugzilla.attachfile-1636"><span class="linenos">1636</span></a>                <span class="n">ctype</span> <span class="o">=</span> <span class="n">mimetypes</span><span class="o">.</span><span class="n">guess_type</span><span class="p">(</span>
</span><span id="Bugzilla.attachfile-1637"><a href="#Bugzilla.attachfile-1637"><span class="linenos">1637</span></a>                    <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;file_name&#39;</span><span class="p">],</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Bugzilla.attachfile-1638"><a href="#Bugzilla.attachfile-1638"><span class="linenos">1638</span></a>            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;content_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctype</span> <span class="ow">or</span> <span class="s1">&#39;application/octet-stream&#39;</span>
</span><span id="Bugzilla.attachfile-1639"><a href="#Bugzilla.attachfile-1639"><span class="linenos">1639</span></a>
</span><span id="Bugzilla.attachfile-1640"><a href="#Bugzilla.attachfile-1640"><span class="linenos">1640</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_attachment_create</span><span class="p">(</span>
</span><span id="Bugzilla.attachfile-1641"><a href="#Bugzilla.attachfile-1641"><span class="linenos">1641</span></a>            <span class="n">listify</span><span class="p">(</span><span class="n">idlist</span><span class="p">),</span> <span class="n">data</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
</span><span id="Bugzilla.attachfile-1642"><a href="#Bugzilla.attachfile-1642"><span class="linenos">1642</span></a>
</span><span id="Bugzilla.attachfile-1643"><a href="#Bugzilla.attachfile-1643"><span class="linenos">1643</span></a>        <span class="k">if</span> <span class="s2">&quot;attachments&quot;</span> <span class="ow">in</span> <span class="n">ret</span><span class="p">:</span>
</span><span id="Bugzilla.attachfile-1644"><a href="#Bugzilla.attachfile-1644"><span class="linenos">1644</span></a>            <span class="c1"># Up to BZ 4.2</span>
</span><span id="Bugzilla.attachfile-1645"><a href="#Bugzilla.attachfile-1645"><span class="linenos">1645</span></a>            <span class="n">ret</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ret</span><span class="p">[</span><span class="s2">&quot;attachments&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>
</span><span id="Bugzilla.attachfile-1646"><a href="#Bugzilla.attachfile-1646"><span class="linenos">1646</span></a>        <span class="k">elif</span> <span class="s2">&quot;ids&quot;</span> <span class="ow">in</span> <span class="n">ret</span><span class="p">:</span>
</span><span id="Bugzilla.attachfile-1647"><a href="#Bugzilla.attachfile-1647"><span class="linenos">1647</span></a>            <span class="c1"># BZ 4.4+</span>
</span><span id="Bugzilla.attachfile-1648"><a href="#Bugzilla.attachfile-1648"><span class="linenos">1648</span></a>            <span class="n">ret</span> <span class="o">=</span> <span class="n">ret</span><span class="p">[</span><span class="s2">&quot;ids&quot;</span><span class="p">]</span>
</span><span id="Bugzilla.attachfile-1649"><a href="#Bugzilla.attachfile-1649"><span class="linenos">1649</span></a>
</span><span id="Bugzilla.attachfile-1650"><a href="#Bugzilla.attachfile-1650"><span class="linenos">1650</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ret</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Bugzilla.attachfile-1651"><a href="#Bugzilla.attachfile-1651"><span class="linenos">1651</span></a>            <span class="n">ret</span> <span class="o">=</span> <span class="n">ret</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Bugzilla.attachfile-1652"><a href="#Bugzilla.attachfile-1652"><span class="linenos">1652</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span></pre></div>


            <div class="docstring"><p>Attach a file to the given bug IDs. Returns the ID of the attachment
or raises XMLRPC Fault if something goes wrong.</p>

<p>attachfile may be a filename (which will be opened) or a file-like
object, which must provide a 'read' method. If it's not one of these,
this method will raise a TypeError.
description is the short description of this attachment.</p>

<p>Optional keyword args are as follows:
    file_name:  this will be used as the filename for the attachment.
               REQUIRED if attachfile is a file-like object with no
               'name' attribute, otherwise the filename or .name
               attribute will be used.
    comment:   An optional comment about this attachment.
    is_private: Set to True if the attachment should be marked private.
    is_patch:   Set to True if the attachment is a patch.
    content_type: The mime-type of the attached file. Defaults to
                  application/octet-stream if not set. NOTE that text
                  files will <em>not</em> be viewable in bugzilla unless you
                  remember to set this to text/plain. So remember that!</p>

<p>Returns the list of attachment ids that were added. If only one
attachment was added, we return the single int ID for back compat</p>
</div>


                            </div>
                            <div id="Bugzilla.openattachment_data" class="classattr">
                                        <input id="Bugzilla.openattachment_data-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">openattachment_data</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">attachment_dict</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.openattachment_data-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.openattachment_data"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.openattachment_data-1654"><a href="#Bugzilla.openattachment_data-1654"><span class="linenos">1654</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">openattachment_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attachment_dict</span><span class="p">):</span>
</span><span id="Bugzilla.openattachment_data-1655"><a href="#Bugzilla.openattachment_data-1655"><span class="linenos">1655</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.openattachment_data-1656"><a href="#Bugzilla.openattachment_data-1656"><span class="linenos">1656</span></a><span class="sd">        Helper for turning passed API attachment dictionary into a</span>
</span><span id="Bugzilla.openattachment_data-1657"><a href="#Bugzilla.openattachment_data-1657"><span class="linenos">1657</span></a><span class="sd">        filelike object</span>
</span><span id="Bugzilla.openattachment_data-1658"><a href="#Bugzilla.openattachment_data-1658"><span class="linenos">1658</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.openattachment_data-1659"><a href="#Bugzilla.openattachment_data-1659"><span class="linenos">1659</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">BytesIO</span><span class="p">()</span>
</span><span id="Bugzilla.openattachment_data-1660"><a href="#Bugzilla.openattachment_data-1660"><span class="linenos">1660</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="n">attachment_dict</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
</span><span id="Bugzilla.openattachment_data-1661"><a href="#Bugzilla.openattachment_data-1661"><span class="linenos">1661</span></a>
</span><span id="Bugzilla.openattachment_data-1662"><a href="#Bugzilla.openattachment_data-1662"><span class="linenos">1662</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">):</span>
</span><span id="Bugzilla.openattachment_data-1663"><a href="#Bugzilla.openattachment_data-1663"><span class="linenos">1663</span></a>            <span class="c1"># This is for xmlrpc Binary</span>
</span><span id="Bugzilla.openattachment_data-1664"><a href="#Bugzilla.openattachment_data-1664"><span class="linenos">1664</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">data</span>  <span class="c1"># pragma: no cover</span>
</span><span id="Bugzilla.openattachment_data-1665"><a href="#Bugzilla.openattachment_data-1665"><span class="linenos">1665</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Bugzilla.openattachment_data-1666"><a href="#Bugzilla.openattachment_data-1666"><span class="linenos">1666</span></a>            <span class="kn">import</span><span class="w"> </span><span class="nn">base64</span>
</span><span id="Bugzilla.openattachment_data-1667"><a href="#Bugzilla.openattachment_data-1667"><span class="linenos">1667</span></a>            <span class="n">content</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="Bugzilla.openattachment_data-1668"><a href="#Bugzilla.openattachment_data-1668"><span class="linenos">1668</span></a>
</span><span id="Bugzilla.openattachment_data-1669"><a href="#Bugzilla.openattachment_data-1669"><span class="linenos">1669</span></a>        <span class="n">ret</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</span><span id="Bugzilla.openattachment_data-1670"><a href="#Bugzilla.openattachment_data-1670"><span class="linenos">1670</span></a>        <span class="n">ret</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">attachment_dict</span><span class="p">[</span><span class="s2">&quot;file_name&quot;</span><span class="p">]</span>
</span><span id="Bugzilla.openattachment_data-1671"><a href="#Bugzilla.openattachment_data-1671"><span class="linenos">1671</span></a>        <span class="n">ret</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="Bugzilla.openattachment_data-1672"><a href="#Bugzilla.openattachment_data-1672"><span class="linenos">1672</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span></pre></div>


            <div class="docstring"><p>Helper for turning passed API attachment dictionary into a
filelike object</p>
</div>


                            </div>
                            <div id="Bugzilla.openattachment" class="classattr">
                                        <input id="Bugzilla.openattachment-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">openattachment</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">attachid</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.openattachment-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.openattachment"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.openattachment-1674"><a href="#Bugzilla.openattachment-1674"><span class="linenos">1674</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">openattachment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attachid</span><span class="p">):</span>
</span><span id="Bugzilla.openattachment-1675"><a href="#Bugzilla.openattachment-1675"><span class="linenos">1675</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.openattachment-1676"><a href="#Bugzilla.openattachment-1676"><span class="linenos">1676</span></a><span class="sd">        Get the contents of the attachment with the given attachment ID.</span>
</span><span id="Bugzilla.openattachment-1677"><a href="#Bugzilla.openattachment-1677"><span class="linenos">1677</span></a><span class="sd">        Returns a file-like object.</span>
</span><span id="Bugzilla.openattachment-1678"><a href="#Bugzilla.openattachment-1678"><span class="linenos">1678</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.openattachment-1679"><a href="#Bugzilla.openattachment-1679"><span class="linenos">1679</span></a>        <span class="n">attachments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attachments</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">attachid</span><span class="p">)</span>
</span><span id="Bugzilla.openattachment-1680"><a href="#Bugzilla.openattachment-1680"><span class="linenos">1680</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="n">attachments</span><span class="p">[</span><span class="s2">&quot;attachments&quot;</span><span class="p">][</span><span class="nb">str</span><span class="p">(</span><span class="n">attachid</span><span class="p">)]</span>
</span><span id="Bugzilla.openattachment-1681"><a href="#Bugzilla.openattachment-1681"><span class="linenos">1681</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">openattachment_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the contents of the attachment with the given attachment ID.
Returns a file-like object.</p>
</div>


                            </div>
                            <div id="Bugzilla.updateattachmentflags" class="classattr">
                                        <input id="Bugzilla.updateattachmentflags-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">updateattachmentflags</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">bugid</span>, </span><span class="param"><span class="n">attachid</span>, </span><span class="param"><span class="n">flagname</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.updateattachmentflags-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.updateattachmentflags"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.updateattachmentflags-1683"><a href="#Bugzilla.updateattachmentflags-1683"><span class="linenos">1683</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">updateattachmentflags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bugid</span><span class="p">,</span> <span class="n">attachid</span><span class="p">,</span> <span class="n">flagname</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Bugzilla.updateattachmentflags-1684"><a href="#Bugzilla.updateattachmentflags-1684"><span class="linenos">1684</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.updateattachmentflags-1685"><a href="#Bugzilla.updateattachmentflags-1685"><span class="linenos">1685</span></a><span class="sd">        Updates a flag for the given attachment ID.</span>
</span><span id="Bugzilla.updateattachmentflags-1686"><a href="#Bugzilla.updateattachmentflags-1686"><span class="linenos">1686</span></a><span class="sd">        Optional keyword args are:</span>
</span><span id="Bugzilla.updateattachmentflags-1687"><a href="#Bugzilla.updateattachmentflags-1687"><span class="linenos">1687</span></a><span class="sd">            status:    new status for the flag (&#39;-&#39;, &#39;+&#39;, &#39;?&#39;, &#39;X&#39;)</span>
</span><span id="Bugzilla.updateattachmentflags-1688"><a href="#Bugzilla.updateattachmentflags-1688"><span class="linenos">1688</span></a><span class="sd">            requestee: new requestee for the flag</span>
</span><span id="Bugzilla.updateattachmentflags-1689"><a href="#Bugzilla.updateattachmentflags-1689"><span class="linenos">1689</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.updateattachmentflags-1690"><a href="#Bugzilla.updateattachmentflags-1690"><span class="linenos">1690</span></a>        <span class="c1"># Bug ID was used for the original custom redhat API, no longer</span>
</span><span id="Bugzilla.updateattachmentflags-1691"><a href="#Bugzilla.updateattachmentflags-1691"><span class="linenos">1691</span></a>        <span class="c1"># needed though</span>
</span><span id="Bugzilla.updateattachmentflags-1692"><a href="#Bugzilla.updateattachmentflags-1692"><span class="linenos">1692</span></a>        <span class="n">ignore</span> <span class="o">=</span> <span class="n">bugid</span>
</span><span id="Bugzilla.updateattachmentflags-1693"><a href="#Bugzilla.updateattachmentflags-1693"><span class="linenos">1693</span></a>
</span><span id="Bugzilla.updateattachmentflags-1694"><a href="#Bugzilla.updateattachmentflags-1694"><span class="linenos">1694</span></a>        <span class="n">flags</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">flagname</span><span class="p">}</span>
</span><span id="Bugzilla.updateattachmentflags-1695"><a href="#Bugzilla.updateattachmentflags-1695"><span class="linenos">1695</span></a>        <span class="n">flags</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Bugzilla.updateattachmentflags-1696"><a href="#Bugzilla.updateattachmentflags-1696"><span class="linenos">1696</span></a>        <span class="n">attachment_ids</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">attachid</span><span class="p">)]</span>
</span><span id="Bugzilla.updateattachmentflags-1697"><a href="#Bugzilla.updateattachmentflags-1697"><span class="linenos">1697</span></a>        <span class="n">update</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;flags&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">flags</span><span class="p">]}</span>
</span><span id="Bugzilla.updateattachmentflags-1698"><a href="#Bugzilla.updateattachmentflags-1698"><span class="linenos">1698</span></a>
</span><span id="Bugzilla.updateattachmentflags-1699"><a href="#Bugzilla.updateattachmentflags-1699"><span class="linenos">1699</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_attachment_update</span><span class="p">(</span><span class="n">attachment_ids</span><span class="p">,</span> <span class="n">update</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Updates a flag for the given attachment ID.
Optional keyword args are:
    status:    new status for the flag ('-', '+', '?', 'X')
    requestee: new requestee for the flag</p>
</div>


                            </div>
                            <div id="Bugzilla.get_attachments" class="classattr">
                                        <input id="Bugzilla.get_attachments-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_attachments</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">ids</span>, </span><span class="param"><span class="n">attachment_ids</span>, </span><span class="param"><span class="n">include_fields</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">exclude_fields</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.get_attachments-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.get_attachments"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.get_attachments-1701"><a href="#Bugzilla.get_attachments-1701"><span class="linenos">1701</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_attachments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="n">attachment_ids</span><span class="p">,</span>
</span><span id="Bugzilla.get_attachments-1702"><a href="#Bugzilla.get_attachments-1702"><span class="linenos">1702</span></a>                        <span class="n">include_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla.get_attachments-1703"><a href="#Bugzilla.get_attachments-1703"><span class="linenos">1703</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.get_attachments-1704"><a href="#Bugzilla.get_attachments-1704"><span class="linenos">1704</span></a><span class="sd">        Wrapper for Bug.attachments. One of ids or attachment_ids is required</span>
</span><span id="Bugzilla.get_attachments-1705"><a href="#Bugzilla.get_attachments-1705"><span class="linenos">1705</span></a>
</span><span id="Bugzilla.get_attachments-1706"><a href="#Bugzilla.get_attachments-1706"><span class="linenos">1706</span></a><span class="sd">        :param ids: Get attachments for this bug ID</span>
</span><span id="Bugzilla.get_attachments-1707"><a href="#Bugzilla.get_attachments-1707"><span class="linenos">1707</span></a><span class="sd">        :param attachment_ids: Specific attachment ID to get</span>
</span><span id="Bugzilla.get_attachments-1708"><a href="#Bugzilla.get_attachments-1708"><span class="linenos">1708</span></a>
</span><span id="Bugzilla.get_attachments-1709"><a href="#Bugzilla.get_attachments-1709"><span class="linenos">1709</span></a><span class="sd">        https://bugzilla.readthedocs.io/en/latest/api/core/v1/attachment.html#get-attachment</span>
</span><span id="Bugzilla.get_attachments-1710"><a href="#Bugzilla.get_attachments-1710"><span class="linenos">1710</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.get_attachments-1711"><a href="#Bugzilla.get_attachments-1711"><span class="linenos">1711</span></a>        <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla.get_attachments-1712"><a href="#Bugzilla.get_attachments-1712"><span class="linenos">1712</span></a>        <span class="k">if</span> <span class="n">include_fields</span><span class="p">:</span>
</span><span id="Bugzilla.get_attachments-1713"><a href="#Bugzilla.get_attachments-1713"><span class="linenos">1713</span></a>            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;include_fields&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">include_fields</span><span class="p">)</span>
</span><span id="Bugzilla.get_attachments-1714"><a href="#Bugzilla.get_attachments-1714"><span class="linenos">1714</span></a>        <span class="k">if</span> <span class="n">exclude_fields</span><span class="p">:</span>
</span><span id="Bugzilla.get_attachments-1715"><a href="#Bugzilla.get_attachments-1715"><span class="linenos">1715</span></a>            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;exclude_fields&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">exclude_fields</span><span class="p">)</span>
</span><span id="Bugzilla.get_attachments-1716"><a href="#Bugzilla.get_attachments-1716"><span class="linenos">1716</span></a>
</span><span id="Bugzilla.get_attachments-1717"><a href="#Bugzilla.get_attachments-1717"><span class="linenos">1717</span></a>        <span class="k">if</span> <span class="n">attachment_ids</span><span class="p">:</span>
</span><span id="Bugzilla.get_attachments-1718"><a href="#Bugzilla.get_attachments-1718"><span class="linenos">1718</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_attachment_get</span><span class="p">(</span><span class="n">attachment_ids</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
</span><span id="Bugzilla.get_attachments-1719"><a href="#Bugzilla.get_attachments-1719"><span class="linenos">1719</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_attachment_get_all</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Wrapper for Bug.attachments. One of ids or attachment_ids is required</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>ids</strong>:  Get attachments for this bug ID</li>
<li><strong>attachment_ids</strong>:  Specific attachment ID to get</li>
</ul>

<p><a href="https://bugzilla.readthedocs.io/en/latest/api/core/v1/attachment.html#get-attachment">https://bugzilla.readthedocs.io/en/latest/api/core/v1/attachment.html#get-attachment</a></p>
</div>


                            </div>
                            <div id="Bugzilla.createbug_required" class="classattr">
                                <div class="attr variable">
            <span class="name">createbug_required</span>        =
<span class="default_value">(&#39;product&#39;, &#39;component&#39;, &#39;summary&#39;, &#39;version&#39;, &#39;description&#39;)</span>

        
    </div>
    <a class="headerlink" href="#Bugzilla.createbug_required"></a>
    
    

                            </div>
                            <div id="Bugzilla.build_createbug" class="classattr">
                                        <input id="Bugzilla.build_createbug-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">build_createbug</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">product</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">component</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">version</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">summary</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">description</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">comment_private</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">blocks</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">cc</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">assigned_to</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">keywords</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">depends_on</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">groups</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">op_sys</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">platform</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">priority</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">qa_contact</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">resolution</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">severity</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">status</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">target_milestone</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">target_release</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">url</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">sub_component</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">alias</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">comment_tags</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.build_createbug-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.build_createbug"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.build_createbug-1729"><a href="#Bugzilla.build_createbug-1729"><span class="linenos">1729</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">build_createbug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1730"><a href="#Bugzilla.build_createbug-1730"><span class="linenos">1730</span></a>        <span class="n">product</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1731"><a href="#Bugzilla.build_createbug-1731"><span class="linenos">1731</span></a>        <span class="n">component</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1732"><a href="#Bugzilla.build_createbug-1732"><span class="linenos">1732</span></a>        <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1733"><a href="#Bugzilla.build_createbug-1733"><span class="linenos">1733</span></a>        <span class="n">summary</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1734"><a href="#Bugzilla.build_createbug-1734"><span class="linenos">1734</span></a>        <span class="n">description</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1735"><a href="#Bugzilla.build_createbug-1735"><span class="linenos">1735</span></a>        <span class="n">comment_private</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1736"><a href="#Bugzilla.build_createbug-1736"><span class="linenos">1736</span></a>        <span class="n">blocks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1737"><a href="#Bugzilla.build_createbug-1737"><span class="linenos">1737</span></a>        <span class="n">cc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1738"><a href="#Bugzilla.build_createbug-1738"><span class="linenos">1738</span></a>        <span class="n">assigned_to</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1739"><a href="#Bugzilla.build_createbug-1739"><span class="linenos">1739</span></a>        <span class="n">keywords</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1740"><a href="#Bugzilla.build_createbug-1740"><span class="linenos">1740</span></a>        <span class="n">depends_on</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1741"><a href="#Bugzilla.build_createbug-1741"><span class="linenos">1741</span></a>        <span class="n">groups</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1742"><a href="#Bugzilla.build_createbug-1742"><span class="linenos">1742</span></a>        <span class="n">op_sys</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1743"><a href="#Bugzilla.build_createbug-1743"><span class="linenos">1743</span></a>        <span class="n">platform</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1744"><a href="#Bugzilla.build_createbug-1744"><span class="linenos">1744</span></a>        <span class="n">priority</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1745"><a href="#Bugzilla.build_createbug-1745"><span class="linenos">1745</span></a>        <span class="n">qa_contact</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1746"><a href="#Bugzilla.build_createbug-1746"><span class="linenos">1746</span></a>        <span class="n">resolution</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1747"><a href="#Bugzilla.build_createbug-1747"><span class="linenos">1747</span></a>        <span class="n">severity</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1748"><a href="#Bugzilla.build_createbug-1748"><span class="linenos">1748</span></a>        <span class="n">status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1749"><a href="#Bugzilla.build_createbug-1749"><span class="linenos">1749</span></a>        <span class="n">target_milestone</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1750"><a href="#Bugzilla.build_createbug-1750"><span class="linenos">1750</span></a>        <span class="n">target_release</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1751"><a href="#Bugzilla.build_createbug-1751"><span class="linenos">1751</span></a>        <span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1752"><a href="#Bugzilla.build_createbug-1752"><span class="linenos">1752</span></a>        <span class="n">sub_component</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1753"><a href="#Bugzilla.build_createbug-1753"><span class="linenos">1753</span></a>        <span class="n">alias</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1754"><a href="#Bugzilla.build_createbug-1754"><span class="linenos">1754</span></a>        <span class="n">comment_tags</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla.build_createbug-1755"><a href="#Bugzilla.build_createbug-1755"><span class="linenos">1755</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.build_createbug-1756"><a href="#Bugzilla.build_createbug-1756"><span class="linenos">1756</span></a><span class="sd">        Returns a python dict() with properly formatted parameters to</span>
</span><span id="Bugzilla.build_createbug-1757"><a href="#Bugzilla.build_createbug-1757"><span class="linenos">1757</span></a><span class="sd">        pass to createbug(). See bugzilla documentation for the format</span>
</span><span id="Bugzilla.build_createbug-1758"><a href="#Bugzilla.build_createbug-1758"><span class="linenos">1758</span></a><span class="sd">        of the individual fields:</span>
</span><span id="Bugzilla.build_createbug-1759"><a href="#Bugzilla.build_createbug-1759"><span class="linenos">1759</span></a>
</span><span id="Bugzilla.build_createbug-1760"><a href="#Bugzilla.build_createbug-1760"><span class="linenos">1760</span></a><span class="sd">        https://bugzilla.readthedocs.io/en/latest/api/core/v1/bug.html#update-bug</span>
</span><span id="Bugzilla.build_createbug-1761"><a href="#Bugzilla.build_createbug-1761"><span class="linenos">1761</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.build_createbug-1762"><a href="#Bugzilla.build_createbug-1762"><span class="linenos">1762</span></a>
</span><span id="Bugzilla.build_createbug-1763"><a href="#Bugzilla.build_createbug-1763"><span class="linenos">1763</span></a>        <span class="n">localdict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla.build_createbug-1764"><a href="#Bugzilla.build_createbug-1764"><span class="linenos">1764</span></a>        <span class="k">if</span> <span class="n">blocks</span><span class="p">:</span>
</span><span id="Bugzilla.build_createbug-1765"><a href="#Bugzilla.build_createbug-1765"><span class="linenos">1765</span></a>            <span class="n">localdict</span><span class="p">[</span><span class="s2">&quot;blocks&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">blocks</span><span class="p">)</span>
</span><span id="Bugzilla.build_createbug-1766"><a href="#Bugzilla.build_createbug-1766"><span class="linenos">1766</span></a>        <span class="k">if</span> <span class="n">cc</span><span class="p">:</span>
</span><span id="Bugzilla.build_createbug-1767"><a href="#Bugzilla.build_createbug-1767"><span class="linenos">1767</span></a>            <span class="n">localdict</span><span class="p">[</span><span class="s2">&quot;cc&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">cc</span><span class="p">)</span>
</span><span id="Bugzilla.build_createbug-1768"><a href="#Bugzilla.build_createbug-1768"><span class="linenos">1768</span></a>        <span class="k">if</span> <span class="n">depends_on</span><span class="p">:</span>
</span><span id="Bugzilla.build_createbug-1769"><a href="#Bugzilla.build_createbug-1769"><span class="linenos">1769</span></a>            <span class="n">localdict</span><span class="p">[</span><span class="s2">&quot;depends_on&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">depends_on</span><span class="p">)</span>
</span><span id="Bugzilla.build_createbug-1770"><a href="#Bugzilla.build_createbug-1770"><span class="linenos">1770</span></a>        <span class="k">if</span> <span class="n">groups</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.build_createbug-1771"><a href="#Bugzilla.build_createbug-1771"><span class="linenos">1771</span></a>            <span class="n">localdict</span><span class="p">[</span><span class="s2">&quot;groups&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">groups</span><span class="p">)</span>
</span><span id="Bugzilla.build_createbug-1772"><a href="#Bugzilla.build_createbug-1772"><span class="linenos">1772</span></a>        <span class="k">if</span> <span class="n">keywords</span><span class="p">:</span>
</span><span id="Bugzilla.build_createbug-1773"><a href="#Bugzilla.build_createbug-1773"><span class="linenos">1773</span></a>            <span class="n">localdict</span><span class="p">[</span><span class="s2">&quot;keywords&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">keywords</span><span class="p">)</span>
</span><span id="Bugzilla.build_createbug-1774"><a href="#Bugzilla.build_createbug-1774"><span class="linenos">1774</span></a>        <span class="k">if</span> <span class="n">description</span><span class="p">:</span>
</span><span id="Bugzilla.build_createbug-1775"><a href="#Bugzilla.build_createbug-1775"><span class="linenos">1775</span></a>            <span class="n">localdict</span><span class="p">[</span><span class="s2">&quot;description&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">description</span>
</span><span id="Bugzilla.build_createbug-1776"><a href="#Bugzilla.build_createbug-1776"><span class="linenos">1776</span></a>            <span class="k">if</span> <span class="n">comment_private</span><span class="p">:</span>
</span><span id="Bugzilla.build_createbug-1777"><a href="#Bugzilla.build_createbug-1777"><span class="linenos">1777</span></a>                <span class="n">localdict</span><span class="p">[</span><span class="s2">&quot;comment_is_private&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Bugzilla.build_createbug-1778"><a href="#Bugzilla.build_createbug-1778"><span class="linenos">1778</span></a>
</span><span id="Bugzilla.build_createbug-1779"><a href="#Bugzilla.build_createbug-1779"><span class="linenos">1779</span></a>        <span class="c1"># Most of the machinery and formatting here is the same as</span>
</span><span id="Bugzilla.build_createbug-1780"><a href="#Bugzilla.build_createbug-1780"><span class="linenos">1780</span></a>        <span class="c1"># build_update, so reuse that as much as possible</span>
</span><span id="Bugzilla.build_createbug-1781"><a href="#Bugzilla.build_createbug-1781"><span class="linenos">1781</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_update</span><span class="p">(</span><span class="n">product</span><span class="o">=</span><span class="n">product</span><span class="p">,</span> <span class="n">component</span><span class="o">=</span><span class="n">component</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1782"><a href="#Bugzilla.build_createbug-1782"><span class="linenos">1782</span></a>                <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span> <span class="n">summary</span><span class="o">=</span><span class="n">summary</span><span class="p">,</span> <span class="n">op_sys</span><span class="o">=</span><span class="n">op_sys</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1783"><a href="#Bugzilla.build_createbug-1783"><span class="linenos">1783</span></a>                <span class="n">platform</span><span class="o">=</span><span class="n">platform</span><span class="p">,</span> <span class="n">priority</span><span class="o">=</span><span class="n">priority</span><span class="p">,</span> <span class="n">qa_contact</span><span class="o">=</span><span class="n">qa_contact</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1784"><a href="#Bugzilla.build_createbug-1784"><span class="linenos">1784</span></a>                <span class="n">resolution</span><span class="o">=</span><span class="n">resolution</span><span class="p">,</span> <span class="n">severity</span><span class="o">=</span><span class="n">severity</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1785"><a href="#Bugzilla.build_createbug-1785"><span class="linenos">1785</span></a>                <span class="n">target_milestone</span><span class="o">=</span><span class="n">target_milestone</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1786"><a href="#Bugzilla.build_createbug-1786"><span class="linenos">1786</span></a>                <span class="n">target_release</span><span class="o">=</span><span class="n">target_release</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1787"><a href="#Bugzilla.build_createbug-1787"><span class="linenos">1787</span></a>                <span class="n">assigned_to</span><span class="o">=</span><span class="n">assigned_to</span><span class="p">,</span> <span class="n">sub_component</span><span class="o">=</span><span class="n">sub_component</span><span class="p">,</span>
</span><span id="Bugzilla.build_createbug-1788"><a href="#Bugzilla.build_createbug-1788"><span class="linenos">1788</span></a>                <span class="n">alias</span><span class="o">=</span><span class="n">alias</span><span class="p">,</span> <span class="n">comment_tags</span><span class="o">=</span><span class="n">comment_tags</span><span class="p">)</span>
</span><span id="Bugzilla.build_createbug-1789"><a href="#Bugzilla.build_createbug-1789"><span class="linenos">1789</span></a>
</span><span id="Bugzilla.build_createbug-1790"><a href="#Bugzilla.build_createbug-1790"><span class="linenos">1790</span></a>        <span class="n">ret</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">localdict</span><span class="p">)</span>
</span><span id="Bugzilla.build_createbug-1791"><a href="#Bugzilla.build_createbug-1791"><span class="linenos">1791</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span></pre></div>


            <div class="docstring"><p>Returns a python dict() with properly formatted parameters to
pass to createbug(). See bugzilla documentation for the format
of the individual fields:</p>

<p><a href="https://bugzilla.readthedocs.io/en/latest/api/core/v1/bug.html#update-bug">https://bugzilla.readthedocs.io/en/latest/api/core/v1/bug.html#update-bug</a></p>
</div>


                            </div>
                            <div id="Bugzilla.createbug" class="classattr">
                                        <input id="Bugzilla.createbug-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">createbug</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.createbug-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.createbug"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.createbug-1824"><a href="#Bugzilla.createbug-1824"><span class="linenos">1824</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">createbug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Bugzilla.createbug-1825"><a href="#Bugzilla.createbug-1825"><span class="linenos">1825</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.createbug-1826"><a href="#Bugzilla.createbug-1826"><span class="linenos">1826</span></a><span class="sd">        Create a bug with the given info. Returns a new Bug object.</span>
</span><span id="Bugzilla.createbug-1827"><a href="#Bugzilla.createbug-1827"><span class="linenos">1827</span></a><span class="sd">        Check bugzilla API documentation for valid values, at least</span>
</span><span id="Bugzilla.createbug-1828"><a href="#Bugzilla.createbug-1828"><span class="linenos">1828</span></a><span class="sd">        product, component, summary, version, and description need to</span>
</span><span id="Bugzilla.createbug-1829"><a href="#Bugzilla.createbug-1829"><span class="linenos">1829</span></a><span class="sd">        be passed.</span>
</span><span id="Bugzilla.createbug-1830"><a href="#Bugzilla.createbug-1830"><span class="linenos">1830</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.createbug-1831"><a href="#Bugzilla.createbug-1831"><span class="linenos">1831</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_createbug</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Bugzilla.createbug-1832"><a href="#Bugzilla.createbug-1832"><span class="linenos">1832</span></a>        <span class="n">rawbug</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">bug_create</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="Bugzilla.createbug-1833"><a href="#Bugzilla.createbug-1833"><span class="linenos">1833</span></a>        <span class="k">return</span> <span class="n">Bug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bug_id</span><span class="o">=</span><span class="n">rawbug</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span>
</span><span id="Bugzilla.createbug-1834"><a href="#Bugzilla.createbug-1834"><span class="linenos">1834</span></a>                   <span class="n">autorefresh</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bug_autorefresh</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Create a bug with the given info. Returns a new Bug object.
Check bugzilla API documentation for valid values, at least
product, component, summary, version, and description need to
be passed.</p>
</div>


                            </div>
                            <div id="Bugzilla.getuser" class="classattr">
                                        <input id="Bugzilla.getuser-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getuser</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">username</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.getuser-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.getuser"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.getuser-1841"><a href="#Bugzilla.getuser-1841"><span class="linenos">1841</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getuser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">):</span>
</span><span id="Bugzilla.getuser-1842"><a href="#Bugzilla.getuser-1842"><span class="linenos">1842</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.getuser-1843"><a href="#Bugzilla.getuser-1843"><span class="linenos">1843</span></a><span class="sd">        Return a bugzilla User for the given username</span>
</span><span id="Bugzilla.getuser-1844"><a href="#Bugzilla.getuser-1844"><span class="linenos">1844</span></a>
</span><span id="Bugzilla.getuser-1845"><a href="#Bugzilla.getuser-1845"><span class="linenos">1845</span></a><span class="sd">        :arg username: The username used in bugzilla.</span>
</span><span id="Bugzilla.getuser-1846"><a href="#Bugzilla.getuser-1846"><span class="linenos">1846</span></a><span class="sd">        :raises XMLRPC Fault: Code 51 if the username does not exist</span>
</span><span id="Bugzilla.getuser-1847"><a href="#Bugzilla.getuser-1847"><span class="linenos">1847</span></a><span class="sd">        :returns: User record for the username</span>
</span><span id="Bugzilla.getuser-1848"><a href="#Bugzilla.getuser-1848"><span class="linenos">1848</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.getuser-1849"><a href="#Bugzilla.getuser-1849"><span class="linenos">1849</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getusers</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
</span><span id="Bugzilla.getuser-1850"><a href="#Bugzilla.getuser-1850"><span class="linenos">1850</span></a>        <span class="k">return</span> <span class="n">ret</span> <span class="ow">and</span> <span class="n">ret</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Return a bugzilla User for the given username</p>

<p>:arg username: The username used in bugzilla.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>XMLRPC Fault</strong>:  Code 51 if the username does not exist
:returns: User record for the username</li>
</ul>
</div>


                            </div>
                            <div id="Bugzilla.getusers" class="classattr">
                                        <input id="Bugzilla.getusers-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getusers</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">userlist</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.getusers-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.getusers"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.getusers-1852"><a href="#Bugzilla.getusers-1852"><span class="linenos">1852</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getusers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">userlist</span><span class="p">):</span>
</span><span id="Bugzilla.getusers-1853"><a href="#Bugzilla.getusers-1853"><span class="linenos">1853</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.getusers-1854"><a href="#Bugzilla.getusers-1854"><span class="linenos">1854</span></a><span class="sd">        Return a list of Users from .</span>
</span><span id="Bugzilla.getusers-1855"><a href="#Bugzilla.getusers-1855"><span class="linenos">1855</span></a>
</span><span id="Bugzilla.getusers-1856"><a href="#Bugzilla.getusers-1856"><span class="linenos">1856</span></a><span class="sd">        :userlist: List of usernames to lookup</span>
</span><span id="Bugzilla.getusers-1857"><a href="#Bugzilla.getusers-1857"><span class="linenos">1857</span></a><span class="sd">        :returns: List of User records</span>
</span><span id="Bugzilla.getusers-1858"><a href="#Bugzilla.getusers-1858"><span class="linenos">1858</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.getusers-1859"><a href="#Bugzilla.getusers-1859"><span class="linenos">1859</span></a>        <span class="n">userlist</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">userlist</span><span class="p">)</span>
</span><span id="Bugzilla.getusers-1860"><a href="#Bugzilla.getusers-1860"><span class="linenos">1860</span></a>        <span class="n">rawusers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">user_get</span><span class="p">({</span><span class="s2">&quot;names&quot;</span><span class="p">:</span> <span class="n">userlist</span><span class="p">})</span>
</span><span id="Bugzilla.getusers-1861"><a href="#Bugzilla.getusers-1861"><span class="linenos">1861</span></a>        <span class="n">userobjs</span> <span class="o">=</span> <span class="p">[</span><span class="n">User</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">rawuser</span><span class="p">)</span> <span class="k">for</span> <span class="n">rawuser</span> <span class="ow">in</span>
</span><span id="Bugzilla.getusers-1862"><a href="#Bugzilla.getusers-1862"><span class="linenos">1862</span></a>                    <span class="n">rawusers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">,</span> <span class="p">[])]</span>
</span><span id="Bugzilla.getusers-1863"><a href="#Bugzilla.getusers-1863"><span class="linenos">1863</span></a>
</span><span id="Bugzilla.getusers-1864"><a href="#Bugzilla.getusers-1864"><span class="linenos">1864</span></a>        <span class="c1"># Return users in same order they were passed in</span>
</span><span id="Bugzilla.getusers-1865"><a href="#Bugzilla.getusers-1865"><span class="linenos">1865</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Bugzilla.getusers-1866"><a href="#Bugzilla.getusers-1866"><span class="linenos">1866</span></a>        <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">userlist</span><span class="p">:</span>
</span><span id="Bugzilla.getusers-1867"><a href="#Bugzilla.getusers-1867"><span class="linenos">1867</span></a>            <span class="k">for</span> <span class="n">uobj</span> <span class="ow">in</span> <span class="n">userobjs</span><span class="p">[:]:</span>
</span><span id="Bugzilla.getusers-1868"><a href="#Bugzilla.getusers-1868"><span class="linenos">1868</span></a>                <span class="k">if</span> <span class="n">uobj</span><span class="o">.</span><span class="n">email</span> <span class="o">==</span> <span class="n">u</span><span class="p">:</span>
</span><span id="Bugzilla.getusers-1869"><a href="#Bugzilla.getusers-1869"><span class="linenos">1869</span></a>                    <span class="n">userobjs</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">uobj</span><span class="p">)</span>
</span><span id="Bugzilla.getusers-1870"><a href="#Bugzilla.getusers-1870"><span class="linenos">1870</span></a>                    <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">uobj</span><span class="p">)</span>
</span><span id="Bugzilla.getusers-1871"><a href="#Bugzilla.getusers-1871"><span class="linenos">1871</span></a>                    <span class="k">break</span>
</span><span id="Bugzilla.getusers-1872"><a href="#Bugzilla.getusers-1872"><span class="linenos">1872</span></a>        <span class="n">ret</span> <span class="o">+=</span> <span class="n">userobjs</span>
</span><span id="Bugzilla.getusers-1873"><a href="#Bugzilla.getusers-1873"><span class="linenos">1873</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span></pre></div>


            <div class="docstring"><p>Return a list of Users from .</p>

<p>:userlist: List of usernames to lookup
:returns: List of User records</p>
</div>


                            </div>
                            <div id="Bugzilla.searchusers" class="classattr">
                                        <input id="Bugzilla.searchusers-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">searchusers</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">pattern</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.searchusers-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.searchusers"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.searchusers-1876"><a href="#Bugzilla.searchusers-1876"><span class="linenos">1876</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">searchusers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">):</span>
</span><span id="Bugzilla.searchusers-1877"><a href="#Bugzilla.searchusers-1877"><span class="linenos">1877</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.searchusers-1878"><a href="#Bugzilla.searchusers-1878"><span class="linenos">1878</span></a><span class="sd">        Return a bugzilla User for the given list of patterns</span>
</span><span id="Bugzilla.searchusers-1879"><a href="#Bugzilla.searchusers-1879"><span class="linenos">1879</span></a>
</span><span id="Bugzilla.searchusers-1880"><a href="#Bugzilla.searchusers-1880"><span class="linenos">1880</span></a><span class="sd">        :arg pattern: List of patterns to match against.</span>
</span><span id="Bugzilla.searchusers-1881"><a href="#Bugzilla.searchusers-1881"><span class="linenos">1881</span></a><span class="sd">        :returns: List of User records</span>
</span><span id="Bugzilla.searchusers-1882"><a href="#Bugzilla.searchusers-1882"><span class="linenos">1882</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.searchusers-1883"><a href="#Bugzilla.searchusers-1883"><span class="linenos">1883</span></a>        <span class="n">rawusers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">user_get</span><span class="p">({</span><span class="s2">&quot;match&quot;</span><span class="p">:</span> <span class="n">listify</span><span class="p">(</span><span class="n">pattern</span><span class="p">)})</span>
</span><span id="Bugzilla.searchusers-1884"><a href="#Bugzilla.searchusers-1884"><span class="linenos">1884</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">User</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">rawuser</span><span class="p">)</span> <span class="k">for</span> <span class="n">rawuser</span> <span class="ow">in</span>
</span><span id="Bugzilla.searchusers-1885"><a href="#Bugzilla.searchusers-1885"><span class="linenos">1885</span></a>                <span class="n">rawusers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">,</span> <span class="p">[])]</span>
</span></pre></div>


            <div class="docstring"><p>Return a bugzilla User for the given list of patterns</p>

<p>:arg pattern: List of patterns to match against.
:returns: List of User records</p>
</div>


                            </div>
                            <div id="Bugzilla.createuser" class="classattr">
                                        <input id="Bugzilla.createuser-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">createuser</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">email</span>, </span><span class="param"><span class="n">name</span><span class="o">=</span><span class="s1">&#39;&#39;</span>, </span><span class="param"><span class="n">password</span><span class="o">=</span><span class="s1">&#39;&#39;</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.createuser-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.createuser"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.createuser-1887"><a href="#Bugzilla.createuser-1887"><span class="linenos">1887</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">createuser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
</span><span id="Bugzilla.createuser-1888"><a href="#Bugzilla.createuser-1888"><span class="linenos">1888</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.createuser-1889"><a href="#Bugzilla.createuser-1889"><span class="linenos">1889</span></a><span class="sd">        Return a bugzilla User for the given username</span>
</span><span id="Bugzilla.createuser-1890"><a href="#Bugzilla.createuser-1890"><span class="linenos">1890</span></a>
</span><span id="Bugzilla.createuser-1891"><a href="#Bugzilla.createuser-1891"><span class="linenos">1891</span></a><span class="sd">        :arg email: The email address to use in bugzilla</span>
</span><span id="Bugzilla.createuser-1892"><a href="#Bugzilla.createuser-1892"><span class="linenos">1892</span></a><span class="sd">        :kwarg name: Real name to associate with the account</span>
</span><span id="Bugzilla.createuser-1893"><a href="#Bugzilla.createuser-1893"><span class="linenos">1893</span></a><span class="sd">        :kwarg password: Password to set for the bugzilla account</span>
</span><span id="Bugzilla.createuser-1894"><a href="#Bugzilla.createuser-1894"><span class="linenos">1894</span></a><span class="sd">        :raises XMLRPC Fault: Code 501 if the username already exists</span>
</span><span id="Bugzilla.createuser-1895"><a href="#Bugzilla.createuser-1895"><span class="linenos">1895</span></a><span class="sd">            Code 500 if the email address isn&#39;t valid</span>
</span><span id="Bugzilla.createuser-1896"><a href="#Bugzilla.createuser-1896"><span class="linenos">1896</span></a><span class="sd">            Code 502 if the password is too short</span>
</span><span id="Bugzilla.createuser-1897"><a href="#Bugzilla.createuser-1897"><span class="linenos">1897</span></a><span class="sd">            Code 503 if the password is too long</span>
</span><span id="Bugzilla.createuser-1898"><a href="#Bugzilla.createuser-1898"><span class="linenos">1898</span></a><span class="sd">        :return: User record for the username</span>
</span><span id="Bugzilla.createuser-1899"><a href="#Bugzilla.createuser-1899"><span class="linenos">1899</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.createuser-1900"><a href="#Bugzilla.createuser-1900"><span class="linenos">1900</span></a>        <span class="n">args</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="n">email</span><span class="p">}</span>
</span><span id="Bugzilla.createuser-1901"><a href="#Bugzilla.createuser-1901"><span class="linenos">1901</span></a>        <span class="k">if</span> <span class="n">name</span><span class="p">:</span>
</span><span id="Bugzilla.createuser-1902"><a href="#Bugzilla.createuser-1902"><span class="linenos">1902</span></a>            <span class="n">args</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="Bugzilla.createuser-1903"><a href="#Bugzilla.createuser-1903"><span class="linenos">1903</span></a>        <span class="k">if</span> <span class="n">password</span><span class="p">:</span>
</span><span id="Bugzilla.createuser-1904"><a href="#Bugzilla.createuser-1904"><span class="linenos">1904</span></a>            <span class="n">args</span><span class="p">[</span><span class="s2">&quot;password&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">password</span>
</span><span id="Bugzilla.createuser-1905"><a href="#Bugzilla.createuser-1905"><span class="linenos">1905</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">user_create</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</span><span id="Bugzilla.createuser-1906"><a href="#Bugzilla.createuser-1906"><span class="linenos">1906</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">getuser</span><span class="p">(</span><span class="n">email</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return a bugzilla User for the given username</p>

<p>:arg email: The email address to use in bugzilla
:kwarg name: Real name to associate with the account
:kwarg password: Password to set for the bugzilla account</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>XMLRPC Fault</strong>:  Code 501 if the username already exists
Code 500 if the email address isn't valid
Code 502 if the password is too short
Code 503 if the password is too long</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>User record for the username</p>
</blockquote>
</div>


                            </div>
                            <div id="Bugzilla.updateperms" class="classattr">
                                        <input id="Bugzilla.updateperms-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">updateperms</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">user</span>, </span><span class="param"><span class="n">action</span>, </span><span class="param"><span class="n">groups</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.updateperms-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.updateperms"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.updateperms-1908"><a href="#Bugzilla.updateperms-1908"><span class="linenos">1908</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">updateperms</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">groups</span><span class="p">):</span>
</span><span id="Bugzilla.updateperms-1909"><a href="#Bugzilla.updateperms-1909"><span class="linenos">1909</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.updateperms-1910"><a href="#Bugzilla.updateperms-1910"><span class="linenos">1910</span></a><span class="sd">        A method to update the permissions (group membership) of a bugzilla</span>
</span><span id="Bugzilla.updateperms-1911"><a href="#Bugzilla.updateperms-1911"><span class="linenos">1911</span></a><span class="sd">        user.</span>
</span><span id="Bugzilla.updateperms-1912"><a href="#Bugzilla.updateperms-1912"><span class="linenos">1912</span></a>
</span><span id="Bugzilla.updateperms-1913"><a href="#Bugzilla.updateperms-1913"><span class="linenos">1913</span></a><span class="sd">        :arg user: The e-mail address of the user to be acted upon. Can</span>
</span><span id="Bugzilla.updateperms-1914"><a href="#Bugzilla.updateperms-1914"><span class="linenos">1914</span></a><span class="sd">            also be a list of emails.</span>
</span><span id="Bugzilla.updateperms-1915"><a href="#Bugzilla.updateperms-1915"><span class="linenos">1915</span></a><span class="sd">        :arg action: add, remove, or set</span>
</span><span id="Bugzilla.updateperms-1916"><a href="#Bugzilla.updateperms-1916"><span class="linenos">1916</span></a><span class="sd">        :arg groups: list of groups to be added to (i.e. [&#39;fedora_contrib&#39;])</span>
</span><span id="Bugzilla.updateperms-1917"><a href="#Bugzilla.updateperms-1917"><span class="linenos">1917</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.updateperms-1918"><a href="#Bugzilla.updateperms-1918"><span class="linenos">1918</span></a>        <span class="n">groups</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">groups</span><span class="p">)</span>
</span><span id="Bugzilla.updateperms-1919"><a href="#Bugzilla.updateperms-1919"><span class="linenos">1919</span></a>        <span class="k">if</span> <span class="n">action</span> <span class="o">==</span> <span class="s2">&quot;rem&quot;</span><span class="p">:</span>
</span><span id="Bugzilla.updateperms-1920"><a href="#Bugzilla.updateperms-1920"><span class="linenos">1920</span></a>            <span class="n">action</span> <span class="o">=</span> <span class="s2">&quot;remove&quot;</span>
</span><span id="Bugzilla.updateperms-1921"><a href="#Bugzilla.updateperms-1921"><span class="linenos">1921</span></a>        <span class="k">if</span> <span class="n">action</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;add&quot;</span><span class="p">,</span> <span class="s2">&quot;remove&quot;</span><span class="p">,</span> <span class="s2">&quot;set&quot;</span><span class="p">]:</span>
</span><span id="Bugzilla.updateperms-1922"><a href="#Bugzilla.updateperms-1922"><span class="linenos">1922</span></a>            <span class="k">raise</span> <span class="n">BugzillaError</span><span class="p">(</span><span class="s2">&quot;Unknown user permission action &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="n">action</span><span class="p">)</span>
</span><span id="Bugzilla.updateperms-1923"><a href="#Bugzilla.updateperms-1923"><span class="linenos">1923</span></a>
</span><span id="Bugzilla.updateperms-1924"><a href="#Bugzilla.updateperms-1924"><span class="linenos">1924</span></a>        <span class="n">update</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Bugzilla.updateperms-1925"><a href="#Bugzilla.updateperms-1925"><span class="linenos">1925</span></a>            <span class="s2">&quot;names&quot;</span><span class="p">:</span> <span class="n">listify</span><span class="p">(</span><span class="n">user</span><span class="p">),</span>
</span><span id="Bugzilla.updateperms-1926"><a href="#Bugzilla.updateperms-1926"><span class="linenos">1926</span></a>            <span class="s2">&quot;groups&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="Bugzilla.updateperms-1927"><a href="#Bugzilla.updateperms-1927"><span class="linenos">1927</span></a>                <span class="n">action</span><span class="p">:</span> <span class="n">groups</span><span class="p">,</span>
</span><span id="Bugzilla.updateperms-1928"><a href="#Bugzilla.updateperms-1928"><span class="linenos">1928</span></a>            <span class="p">}</span>
</span><span id="Bugzilla.updateperms-1929"><a href="#Bugzilla.updateperms-1929"><span class="linenos">1929</span></a>        <span class="p">}</span>
</span><span id="Bugzilla.updateperms-1930"><a href="#Bugzilla.updateperms-1930"><span class="linenos">1930</span></a>
</span><span id="Bugzilla.updateperms-1931"><a href="#Bugzilla.updateperms-1931"><span class="linenos">1931</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">user_update</span><span class="p">(</span><span class="n">update</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>A method to update the permissions (group membership) of a bugzilla
user.</p>

<p>:arg user: The e-mail address of the user to be acted upon. Can
    also be a list of emails.
:arg action: add, remove, or set
:arg groups: list of groups to be added to (i.e. ['fedora_contrib'])</p>
</div>


                            </div>
                            <div id="Bugzilla.getgroup" class="classattr">
                                        <input id="Bugzilla.getgroup-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getgroup</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">name</span>, </span><span class="param"><span class="n">membership</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.getgroup-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.getgroup"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.getgroup-1958"><a href="#Bugzilla.getgroup-1958"><span class="linenos">1958</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getgroup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">membership</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Bugzilla.getgroup-1959"><a href="#Bugzilla.getgroup-1959"><span class="linenos">1959</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.getgroup-1960"><a href="#Bugzilla.getgroup-1960"><span class="linenos">1960</span></a><span class="sd">        Return a bugzilla Group for the given name</span>
</span><span id="Bugzilla.getgroup-1961"><a href="#Bugzilla.getgroup-1961"><span class="linenos">1961</span></a>
</span><span id="Bugzilla.getgroup-1962"><a href="#Bugzilla.getgroup-1962"><span class="linenos">1962</span></a><span class="sd">        :arg name: The group name used in bugzilla.</span>
</span><span id="Bugzilla.getgroup-1963"><a href="#Bugzilla.getgroup-1963"><span class="linenos">1963</span></a><span class="sd">        :raises XMLRPC Fault: Code 51 if the name does not exist</span>
</span><span id="Bugzilla.getgroup-1964"><a href="#Bugzilla.getgroup-1964"><span class="linenos">1964</span></a><span class="sd">        :raises XMLRPC Fault: Code 805 if the user does not have enough</span>
</span><span id="Bugzilla.getgroup-1965"><a href="#Bugzilla.getgroup-1965"><span class="linenos">1965</span></a><span class="sd">            permissions to view groups</span>
</span><span id="Bugzilla.getgroup-1966"><a href="#Bugzilla.getgroup-1966"><span class="linenos">1966</span></a><span class="sd">        :returns: Group record for the name</span>
</span><span id="Bugzilla.getgroup-1967"><a href="#Bugzilla.getgroup-1967"><span class="linenos">1967</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.getgroup-1968"><a href="#Bugzilla.getgroup-1968"><span class="linenos">1968</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getgroups</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">membership</span><span class="o">=</span><span class="n">membership</span><span class="p">)</span>
</span><span id="Bugzilla.getgroup-1969"><a href="#Bugzilla.getgroup-1969"><span class="linenos">1969</span></a>        <span class="k">return</span> <span class="n">ret</span> <span class="ow">and</span> <span class="n">ret</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Return a bugzilla Group for the given name</p>

<p>:arg name: The group name used in bugzilla.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>XMLRPC Fault</strong>:  Code 51 if the name does not exist</li>
<li><strong>XMLRPC Fault</strong>:  Code 805 if the user does not have enough
permissions to view groups
:returns: Group record for the name</li>
</ul>
</div>


                            </div>
                            <div id="Bugzilla.getgroups" class="classattr">
                                        <input id="Bugzilla.getgroups-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">getgroups</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">grouplist</span>, </span><span class="param"><span class="n">membership</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.getgroups-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.getgroups"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.getgroups-1971"><a href="#Bugzilla.getgroups-1971"><span class="linenos">1971</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getgroups</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">grouplist</span><span class="p">,</span> <span class="n">membership</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Bugzilla.getgroups-1972"><a href="#Bugzilla.getgroups-1972"><span class="linenos">1972</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.getgroups-1973"><a href="#Bugzilla.getgroups-1973"><span class="linenos">1973</span></a><span class="sd">        Return a list of Groups from .</span>
</span><span id="Bugzilla.getgroups-1974"><a href="#Bugzilla.getgroups-1974"><span class="linenos">1974</span></a>
</span><span id="Bugzilla.getgroups-1975"><a href="#Bugzilla.getgroups-1975"><span class="linenos">1975</span></a><span class="sd">        :userlist: List of group names to lookup</span>
</span><span id="Bugzilla.getgroups-1976"><a href="#Bugzilla.getgroups-1976"><span class="linenos">1976</span></a><span class="sd">        :returns: List of Group records</span>
</span><span id="Bugzilla.getgroups-1977"><a href="#Bugzilla.getgroups-1977"><span class="linenos">1977</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.getgroups-1978"><a href="#Bugzilla.getgroups-1978"><span class="linenos">1978</span></a>        <span class="n">grouplist</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">grouplist</span><span class="p">)</span>
</span><span id="Bugzilla.getgroups-1979"><a href="#Bugzilla.getgroups-1979"><span class="linenos">1979</span></a>        <span class="n">groupobjs</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="Bugzilla.getgroups-1980"><a href="#Bugzilla.getgroups-1980"><span class="linenos">1980</span></a>            <span class="n">Group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">rawgroup</span><span class="p">)</span>
</span><span id="Bugzilla.getgroups-1981"><a href="#Bugzilla.getgroups-1981"><span class="linenos">1981</span></a>            <span class="k">for</span> <span class="n">rawgroup</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getgroups</span><span class="p">(</span>
</span><span id="Bugzilla.getgroups-1982"><a href="#Bugzilla.getgroups-1982"><span class="linenos">1982</span></a>                <span class="n">names</span><span class="o">=</span><span class="n">grouplist</span><span class="p">,</span> <span class="n">membership</span><span class="o">=</span><span class="n">membership</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;groups&#39;</span><span class="p">,</span> <span class="p">[])</span>
</span><span id="Bugzilla.getgroups-1983"><a href="#Bugzilla.getgroups-1983"><span class="linenos">1983</span></a>        <span class="p">]</span>
</span><span id="Bugzilla.getgroups-1984"><a href="#Bugzilla.getgroups-1984"><span class="linenos">1984</span></a>
</span><span id="Bugzilla.getgroups-1985"><a href="#Bugzilla.getgroups-1985"><span class="linenos">1985</span></a>        <span class="c1"># Return in same order they were passed in</span>
</span><span id="Bugzilla.getgroups-1986"><a href="#Bugzilla.getgroups-1986"><span class="linenos">1986</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Bugzilla.getgroups-1987"><a href="#Bugzilla.getgroups-1987"><span class="linenos">1987</span></a>        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">grouplist</span><span class="p">:</span>
</span><span id="Bugzilla.getgroups-1988"><a href="#Bugzilla.getgroups-1988"><span class="linenos">1988</span></a>            <span class="k">for</span> <span class="n">gobj</span> <span class="ow">in</span> <span class="n">groupobjs</span><span class="p">[:]:</span>
</span><span id="Bugzilla.getgroups-1989"><a href="#Bugzilla.getgroups-1989"><span class="linenos">1989</span></a>                <span class="k">if</span> <span class="n">gobj</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">g</span><span class="p">:</span>
</span><span id="Bugzilla.getgroups-1990"><a href="#Bugzilla.getgroups-1990"><span class="linenos">1990</span></a>                    <span class="n">groupobjs</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span>
</span><span id="Bugzilla.getgroups-1991"><a href="#Bugzilla.getgroups-1991"><span class="linenos">1991</span></a>                    <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span>
</span><span id="Bugzilla.getgroups-1992"><a href="#Bugzilla.getgroups-1992"><span class="linenos">1992</span></a>                    <span class="k">break</span>
</span><span id="Bugzilla.getgroups-1993"><a href="#Bugzilla.getgroups-1993"><span class="linenos">1993</span></a>        <span class="n">ret</span> <span class="o">+=</span> <span class="n">groupobjs</span>
</span><span id="Bugzilla.getgroups-1994"><a href="#Bugzilla.getgroups-1994"><span class="linenos">1994</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span></pre></div>


            <div class="docstring"><p>Return a list of Groups from .</p>

<p>:userlist: List of group names to lookup
:returns: List of Group records</p>
</div>


                            </div>
                            <div id="Bugzilla.add_external_tracker" class="classattr">
                                        <input id="Bugzilla.add_external_tracker-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">add_external_tracker</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">bug_ids</span>,</span><span class="param">	<span class="n">ext_bz_bug_id</span>,</span><span class="param">	<span class="n">ext_type_id</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">ext_type_description</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">ext_type_url</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">ext_status</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">ext_description</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">ext_priority</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.add_external_tracker-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.add_external_tracker"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.add_external_tracker-2001"><a href="#Bugzilla.add_external_tracker-2001"><span class="linenos">2001</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">add_external_tracker</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bug_ids</span><span class="p">,</span> <span class="n">ext_bz_bug_id</span><span class="p">,</span> <span class="n">ext_type_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.add_external_tracker-2002"><a href="#Bugzilla.add_external_tracker-2002"><span class="linenos">2002</span></a>                             <span class="n">ext_type_description</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ext_type_url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.add_external_tracker-2003"><a href="#Bugzilla.add_external_tracker-2003"><span class="linenos">2003</span></a>                             <span class="n">ext_status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ext_description</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.add_external_tracker-2004"><a href="#Bugzilla.add_external_tracker-2004"><span class="linenos">2004</span></a>                             <span class="n">ext_priority</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla.add_external_tracker-2005"><a href="#Bugzilla.add_external_tracker-2005"><span class="linenos">2005</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.add_external_tracker-2006"><a href="#Bugzilla.add_external_tracker-2006"><span class="linenos">2006</span></a><span class="sd">        Wrapper method to allow adding of external tracking bugs using the</span>
</span><span id="Bugzilla.add_external_tracker-2007"><a href="#Bugzilla.add_external_tracker-2007"><span class="linenos">2007</span></a><span class="sd">        ExternalBugs::WebService::add_external_bug method.</span>
</span><span id="Bugzilla.add_external_tracker-2008"><a href="#Bugzilla.add_external_tracker-2008"><span class="linenos">2008</span></a>
</span><span id="Bugzilla.add_external_tracker-2009"><a href="#Bugzilla.add_external_tracker-2009"><span class="linenos">2009</span></a><span class="sd">        This is documented at</span>
</span><span id="Bugzilla.add_external_tracker-2010"><a href="#Bugzilla.add_external_tracker-2010"><span class="linenos">2010</span></a><span class="sd">        https://bugzilla.redhat.com/docs/en/html/integrating/api/Bugzilla/Extension/ExternalBugs/WebService.html#add-external-bug</span>
</span><span id="Bugzilla.add_external_tracker-2011"><a href="#Bugzilla.add_external_tracker-2011"><span class="linenos">2011</span></a>
</span><span id="Bugzilla.add_external_tracker-2012"><a href="#Bugzilla.add_external_tracker-2012"><span class="linenos">2012</span></a><span class="sd">        bug_ids: A single bug id or list of bug ids to have external trackers</span>
</span><span id="Bugzilla.add_external_tracker-2013"><a href="#Bugzilla.add_external_tracker-2013"><span class="linenos">2013</span></a><span class="sd">            added.</span>
</span><span id="Bugzilla.add_external_tracker-2014"><a href="#Bugzilla.add_external_tracker-2014"><span class="linenos">2014</span></a><span class="sd">        ext_bz_bug_id: The external bug id (ie: the bug number in the</span>
</span><span id="Bugzilla.add_external_tracker-2015"><a href="#Bugzilla.add_external_tracker-2015"><span class="linenos">2015</span></a><span class="sd">            external tracker).</span>
</span><span id="Bugzilla.add_external_tracker-2016"><a href="#Bugzilla.add_external_tracker-2016"><span class="linenos">2016</span></a><span class="sd">        ext_type_id: The external tracker id as used by Bugzilla.</span>
</span><span id="Bugzilla.add_external_tracker-2017"><a href="#Bugzilla.add_external_tracker-2017"><span class="linenos">2017</span></a><span class="sd">        ext_type_description: The external tracker description as used by</span>
</span><span id="Bugzilla.add_external_tracker-2018"><a href="#Bugzilla.add_external_tracker-2018"><span class="linenos">2018</span></a><span class="sd">            Bugzilla.</span>
</span><span id="Bugzilla.add_external_tracker-2019"><a href="#Bugzilla.add_external_tracker-2019"><span class="linenos">2019</span></a><span class="sd">        ext_type_url: The external tracker url as used by Bugzilla.</span>
</span><span id="Bugzilla.add_external_tracker-2020"><a href="#Bugzilla.add_external_tracker-2020"><span class="linenos">2020</span></a><span class="sd">        ext_status: The status of the external bug.</span>
</span><span id="Bugzilla.add_external_tracker-2021"><a href="#Bugzilla.add_external_tracker-2021"><span class="linenos">2021</span></a><span class="sd">        ext_description: The description of the external bug.</span>
</span><span id="Bugzilla.add_external_tracker-2022"><a href="#Bugzilla.add_external_tracker-2022"><span class="linenos">2022</span></a><span class="sd">        ext_priority: The priority of the external bug.</span>
</span><span id="Bugzilla.add_external_tracker-2023"><a href="#Bugzilla.add_external_tracker-2023"><span class="linenos">2023</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.add_external_tracker-2024"><a href="#Bugzilla.add_external_tracker-2024"><span class="linenos">2024</span></a>        <span class="n">param_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ext_bz_bug_id&#39;</span><span class="p">:</span> <span class="n">ext_bz_bug_id</span><span class="p">}</span>
</span><span id="Bugzilla.add_external_tracker-2025"><a href="#Bugzilla.add_external_tracker-2025"><span class="linenos">2025</span></a>        <span class="k">if</span> <span class="n">ext_type_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.add_external_tracker-2026"><a href="#Bugzilla.add_external_tracker-2026"><span class="linenos">2026</span></a>            <span class="n">param_dict</span><span class="p">[</span><span class="s1">&#39;ext_type_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_type_id</span>
</span><span id="Bugzilla.add_external_tracker-2027"><a href="#Bugzilla.add_external_tracker-2027"><span class="linenos">2027</span></a>        <span class="k">if</span> <span class="n">ext_type_description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.add_external_tracker-2028"><a href="#Bugzilla.add_external_tracker-2028"><span class="linenos">2028</span></a>            <span class="n">param_dict</span><span class="p">[</span><span class="s1">&#39;ext_type_description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_type_description</span>
</span><span id="Bugzilla.add_external_tracker-2029"><a href="#Bugzilla.add_external_tracker-2029"><span class="linenos">2029</span></a>        <span class="k">if</span> <span class="n">ext_type_url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.add_external_tracker-2030"><a href="#Bugzilla.add_external_tracker-2030"><span class="linenos">2030</span></a>            <span class="n">param_dict</span><span class="p">[</span><span class="s1">&#39;ext_type_url&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_type_url</span>
</span><span id="Bugzilla.add_external_tracker-2031"><a href="#Bugzilla.add_external_tracker-2031"><span class="linenos">2031</span></a>        <span class="k">if</span> <span class="n">ext_status</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.add_external_tracker-2032"><a href="#Bugzilla.add_external_tracker-2032"><span class="linenos">2032</span></a>            <span class="n">param_dict</span><span class="p">[</span><span class="s1">&#39;ext_status&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_status</span>
</span><span id="Bugzilla.add_external_tracker-2033"><a href="#Bugzilla.add_external_tracker-2033"><span class="linenos">2033</span></a>        <span class="k">if</span> <span class="n">ext_description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.add_external_tracker-2034"><a href="#Bugzilla.add_external_tracker-2034"><span class="linenos">2034</span></a>            <span class="n">param_dict</span><span class="p">[</span><span class="s1">&#39;ext_description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_description</span>
</span><span id="Bugzilla.add_external_tracker-2035"><a href="#Bugzilla.add_external_tracker-2035"><span class="linenos">2035</span></a>        <span class="k">if</span> <span class="n">ext_priority</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.add_external_tracker-2036"><a href="#Bugzilla.add_external_tracker-2036"><span class="linenos">2036</span></a>            <span class="n">param_dict</span><span class="p">[</span><span class="s1">&#39;ext_priority&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_priority</span>
</span><span id="Bugzilla.add_external_tracker-2037"><a href="#Bugzilla.add_external_tracker-2037"><span class="linenos">2037</span></a>        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Bugzilla.add_external_tracker-2038"><a href="#Bugzilla.add_external_tracker-2038"><span class="linenos">2038</span></a>            <span class="s1">&#39;bug_ids&#39;</span><span class="p">:</span> <span class="n">listify</span><span class="p">(</span><span class="n">bug_ids</span><span class="p">),</span>
</span><span id="Bugzilla.add_external_tracker-2039"><a href="#Bugzilla.add_external_tracker-2039"><span class="linenos">2039</span></a>            <span class="s1">&#39;external_bugs&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">param_dict</span><span class="p">],</span>
</span><span id="Bugzilla.add_external_tracker-2040"><a href="#Bugzilla.add_external_tracker-2040"><span class="linenos">2040</span></a>        <span class="p">}</span>
</span><span id="Bugzilla.add_external_tracker-2041"><a href="#Bugzilla.add_external_tracker-2041"><span class="linenos">2041</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">externalbugs_add</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Wrapper method to allow adding of external tracking bugs using the
ExternalBugs::WebService::add_external_bug method.</p>

<p>This is documented at
<a href="https://bugzilla.redhat.com/docs/en/html/integrating/api/Bugzilla/Extension/ExternalBugs/WebService.html#add-external-bug">https://bugzilla.redhat.com/docs/en/html/integrating/api/Bugzilla/Extension/ExternalBugs/WebService.html#add-external-bug</a></p>

<p>bug_ids: A single bug id or list of bug ids to have external trackers
    added.
ext_bz_bug_id: The external bug id (ie: the bug number in the
    external tracker).
ext_type_id: The external tracker id as used by Bugzilla.
ext_type_description: The external tracker description as used by
    Bugzilla.
ext_type_url: The external tracker url as used by Bugzilla.
ext_status: The status of the external bug.
ext_description: The description of the external bug.
ext_priority: The priority of the external bug.</p>
</div>


                            </div>
                            <div id="Bugzilla.update_external_tracker" class="classattr">
                                        <input id="Bugzilla.update_external_tracker-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_external_tracker</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">ids</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">ext_type_id</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">ext_type_description</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">ext_type_url</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">ext_bz_bug_id</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">bug_ids</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">ext_status</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">ext_description</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">ext_priority</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.update_external_tracker-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.update_external_tracker"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.update_external_tracker-2043"><a href="#Bugzilla.update_external_tracker-2043"><span class="linenos">2043</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_external_tracker</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ext_type_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.update_external_tracker-2044"><a href="#Bugzilla.update_external_tracker-2044"><span class="linenos">2044</span></a>                                <span class="n">ext_type_description</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ext_type_url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.update_external_tracker-2045"><a href="#Bugzilla.update_external_tracker-2045"><span class="linenos">2045</span></a>                                <span class="n">ext_bz_bug_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bug_ids</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.update_external_tracker-2046"><a href="#Bugzilla.update_external_tracker-2046"><span class="linenos">2046</span></a>                                <span class="n">ext_status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ext_description</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.update_external_tracker-2047"><a href="#Bugzilla.update_external_tracker-2047"><span class="linenos">2047</span></a>                                <span class="n">ext_priority</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla.update_external_tracker-2048"><a href="#Bugzilla.update_external_tracker-2048"><span class="linenos">2048</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.update_external_tracker-2049"><a href="#Bugzilla.update_external_tracker-2049"><span class="linenos">2049</span></a><span class="sd">        Wrapper method to allow adding of external tracking bugs using the</span>
</span><span id="Bugzilla.update_external_tracker-2050"><a href="#Bugzilla.update_external_tracker-2050"><span class="linenos">2050</span></a><span class="sd">        ExternalBugs::WebService::update_external_bug method.</span>
</span><span id="Bugzilla.update_external_tracker-2051"><a href="#Bugzilla.update_external_tracker-2051"><span class="linenos">2051</span></a>
</span><span id="Bugzilla.update_external_tracker-2052"><a href="#Bugzilla.update_external_tracker-2052"><span class="linenos">2052</span></a><span class="sd">        This is documented at</span>
</span><span id="Bugzilla.update_external_tracker-2053"><a href="#Bugzilla.update_external_tracker-2053"><span class="linenos">2053</span></a><span class="sd">        https://bugzilla.redhat.com/docs/en/html/integrating/api/Bugzilla/Extension/ExternalBugs/WebService.html#update-external-bug</span>
</span><span id="Bugzilla.update_external_tracker-2054"><a href="#Bugzilla.update_external_tracker-2054"><span class="linenos">2054</span></a>
</span><span id="Bugzilla.update_external_tracker-2055"><a href="#Bugzilla.update_external_tracker-2055"><span class="linenos">2055</span></a><span class="sd">        ids: A single external tracker bug id or list of external tracker bug</span>
</span><span id="Bugzilla.update_external_tracker-2056"><a href="#Bugzilla.update_external_tracker-2056"><span class="linenos">2056</span></a><span class="sd">            ids.</span>
</span><span id="Bugzilla.update_external_tracker-2057"><a href="#Bugzilla.update_external_tracker-2057"><span class="linenos">2057</span></a><span class="sd">        ext_type_id: The external tracker id as used by Bugzilla.</span>
</span><span id="Bugzilla.update_external_tracker-2058"><a href="#Bugzilla.update_external_tracker-2058"><span class="linenos">2058</span></a><span class="sd">        ext_type_description: The external tracker description as used by</span>
</span><span id="Bugzilla.update_external_tracker-2059"><a href="#Bugzilla.update_external_tracker-2059"><span class="linenos">2059</span></a><span class="sd">            Bugzilla.</span>
</span><span id="Bugzilla.update_external_tracker-2060"><a href="#Bugzilla.update_external_tracker-2060"><span class="linenos">2060</span></a><span class="sd">        ext_type_url: The external tracker url as used by Bugzilla.</span>
</span><span id="Bugzilla.update_external_tracker-2061"><a href="#Bugzilla.update_external_tracker-2061"><span class="linenos">2061</span></a><span class="sd">        ext_bz_bug_id: A single external bug id or list of external bug ids</span>
</span><span id="Bugzilla.update_external_tracker-2062"><a href="#Bugzilla.update_external_tracker-2062"><span class="linenos">2062</span></a><span class="sd">            (ie: the bug number in the external tracker).</span>
</span><span id="Bugzilla.update_external_tracker-2063"><a href="#Bugzilla.update_external_tracker-2063"><span class="linenos">2063</span></a><span class="sd">        bug_ids: A single bug id or list of bug ids to have external tracker</span>
</span><span id="Bugzilla.update_external_tracker-2064"><a href="#Bugzilla.update_external_tracker-2064"><span class="linenos">2064</span></a><span class="sd">            info updated.</span>
</span><span id="Bugzilla.update_external_tracker-2065"><a href="#Bugzilla.update_external_tracker-2065"><span class="linenos">2065</span></a><span class="sd">        ext_status: The status of the external bug.</span>
</span><span id="Bugzilla.update_external_tracker-2066"><a href="#Bugzilla.update_external_tracker-2066"><span class="linenos">2066</span></a><span class="sd">        ext_description: The description of the external bug.</span>
</span><span id="Bugzilla.update_external_tracker-2067"><a href="#Bugzilla.update_external_tracker-2067"><span class="linenos">2067</span></a><span class="sd">        ext_priority: The priority of the external bug.</span>
</span><span id="Bugzilla.update_external_tracker-2068"><a href="#Bugzilla.update_external_tracker-2068"><span class="linenos">2068</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.update_external_tracker-2069"><a href="#Bugzilla.update_external_tracker-2069"><span class="linenos">2069</span></a>        <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla.update_external_tracker-2070"><a href="#Bugzilla.update_external_tracker-2070"><span class="linenos">2070</span></a>        <span class="k">if</span> <span class="n">ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.update_external_tracker-2071"><a href="#Bugzilla.update_external_tracker-2071"><span class="linenos">2071</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ids&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span>
</span><span id="Bugzilla.update_external_tracker-2072"><a href="#Bugzilla.update_external_tracker-2072"><span class="linenos">2072</span></a>        <span class="k">if</span> <span class="n">ext_type_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.update_external_tracker-2073"><a href="#Bugzilla.update_external_tracker-2073"><span class="linenos">2073</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_type_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_type_id</span>
</span><span id="Bugzilla.update_external_tracker-2074"><a href="#Bugzilla.update_external_tracker-2074"><span class="linenos">2074</span></a>        <span class="k">if</span> <span class="n">ext_type_description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.update_external_tracker-2075"><a href="#Bugzilla.update_external_tracker-2075"><span class="linenos">2075</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_type_description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_type_description</span>
</span><span id="Bugzilla.update_external_tracker-2076"><a href="#Bugzilla.update_external_tracker-2076"><span class="linenos">2076</span></a>        <span class="k">if</span> <span class="n">ext_type_url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.update_external_tracker-2077"><a href="#Bugzilla.update_external_tracker-2077"><span class="linenos">2077</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_type_url&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_type_url</span>
</span><span id="Bugzilla.update_external_tracker-2078"><a href="#Bugzilla.update_external_tracker-2078"><span class="linenos">2078</span></a>        <span class="k">if</span> <span class="n">ext_bz_bug_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.update_external_tracker-2079"><a href="#Bugzilla.update_external_tracker-2079"><span class="linenos">2079</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_bz_bug_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">ext_bz_bug_id</span><span class="p">)</span>
</span><span id="Bugzilla.update_external_tracker-2080"><a href="#Bugzilla.update_external_tracker-2080"><span class="linenos">2080</span></a>        <span class="k">if</span> <span class="n">bug_ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.update_external_tracker-2081"><a href="#Bugzilla.update_external_tracker-2081"><span class="linenos">2081</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;bug_ids&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">bug_ids</span><span class="p">)</span>
</span><span id="Bugzilla.update_external_tracker-2082"><a href="#Bugzilla.update_external_tracker-2082"><span class="linenos">2082</span></a>        <span class="k">if</span> <span class="n">ext_status</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.update_external_tracker-2083"><a href="#Bugzilla.update_external_tracker-2083"><span class="linenos">2083</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_status&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_status</span>
</span><span id="Bugzilla.update_external_tracker-2084"><a href="#Bugzilla.update_external_tracker-2084"><span class="linenos">2084</span></a>        <span class="k">if</span> <span class="n">ext_description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.update_external_tracker-2085"><a href="#Bugzilla.update_external_tracker-2085"><span class="linenos">2085</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_description</span>
</span><span id="Bugzilla.update_external_tracker-2086"><a href="#Bugzilla.update_external_tracker-2086"><span class="linenos">2086</span></a>        <span class="k">if</span> <span class="n">ext_priority</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.update_external_tracker-2087"><a href="#Bugzilla.update_external_tracker-2087"><span class="linenos">2087</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_priority&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_priority</span>
</span><span id="Bugzilla.update_external_tracker-2088"><a href="#Bugzilla.update_external_tracker-2088"><span class="linenos">2088</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">externalbugs_update</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Wrapper method to allow adding of external tracking bugs using the
ExternalBugs::WebService::update_external_bug method.</p>

<p>This is documented at
<a href="https://bugzilla.redhat.com/docs/en/html/integrating/api/Bugzilla/Extension/ExternalBugs/WebService.html#update-external-bug">https://bugzilla.redhat.com/docs/en/html/integrating/api/Bugzilla/Extension/ExternalBugs/WebService.html#update-external-bug</a></p>

<p>ids: A single external tracker bug id or list of external tracker bug
    ids.
ext_type_id: The external tracker id as used by Bugzilla.
ext_type_description: The external tracker description as used by
    Bugzilla.
ext_type_url: The external tracker url as used by Bugzilla.
ext_bz_bug_id: A single external bug id or list of external bug ids
    (ie: the bug number in the external tracker).
bug_ids: A single bug id or list of bug ids to have external tracker
    info updated.
ext_status: The status of the external bug.
ext_description: The description of the external bug.
ext_priority: The priority of the external bug.</p>
</div>


                            </div>
                            <div id="Bugzilla.remove_external_tracker" class="classattr">
                                        <input id="Bugzilla.remove_external_tracker-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">remove_external_tracker</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">ids</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">ext_type_id</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">ext_type_description</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">ext_type_url</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">ext_bz_bug_id</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">bug_ids</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Bugzilla.remove_external_tracker-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Bugzilla.remove_external_tracker"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Bugzilla.remove_external_tracker-2090"><a href="#Bugzilla.remove_external_tracker-2090"><span class="linenos">2090</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">remove_external_tracker</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ext_type_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.remove_external_tracker-2091"><a href="#Bugzilla.remove_external_tracker-2091"><span class="linenos">2091</span></a>                                <span class="n">ext_type_description</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ext_type_url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="Bugzilla.remove_external_tracker-2092"><a href="#Bugzilla.remove_external_tracker-2092"><span class="linenos">2092</span></a>                                <span class="n">ext_bz_bug_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bug_ids</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Bugzilla.remove_external_tracker-2093"><a href="#Bugzilla.remove_external_tracker-2093"><span class="linenos">2093</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Bugzilla.remove_external_tracker-2094"><a href="#Bugzilla.remove_external_tracker-2094"><span class="linenos">2094</span></a><span class="sd">        Wrapper method to allow removal of external tracking bugs using the</span>
</span><span id="Bugzilla.remove_external_tracker-2095"><a href="#Bugzilla.remove_external_tracker-2095"><span class="linenos">2095</span></a><span class="sd">        ExternalBugs::WebService::remove_external_bug method.</span>
</span><span id="Bugzilla.remove_external_tracker-2096"><a href="#Bugzilla.remove_external_tracker-2096"><span class="linenos">2096</span></a>
</span><span id="Bugzilla.remove_external_tracker-2097"><a href="#Bugzilla.remove_external_tracker-2097"><span class="linenos">2097</span></a><span class="sd">        This is documented at</span>
</span><span id="Bugzilla.remove_external_tracker-2098"><a href="#Bugzilla.remove_external_tracker-2098"><span class="linenos">2098</span></a><span class="sd">        https://bugzilla.redhat.com/docs/en/html/integrating/api/Bugzilla/Extension/ExternalBugs/WebService.html#remove-external-bug</span>
</span><span id="Bugzilla.remove_external_tracker-2099"><a href="#Bugzilla.remove_external_tracker-2099"><span class="linenos">2099</span></a>
</span><span id="Bugzilla.remove_external_tracker-2100"><a href="#Bugzilla.remove_external_tracker-2100"><span class="linenos">2100</span></a><span class="sd">        ids: A single external tracker bug id or list of external tracker bug</span>
</span><span id="Bugzilla.remove_external_tracker-2101"><a href="#Bugzilla.remove_external_tracker-2101"><span class="linenos">2101</span></a><span class="sd">            ids.</span>
</span><span id="Bugzilla.remove_external_tracker-2102"><a href="#Bugzilla.remove_external_tracker-2102"><span class="linenos">2102</span></a><span class="sd">        ext_type_id: The external tracker id as used by Bugzilla.</span>
</span><span id="Bugzilla.remove_external_tracker-2103"><a href="#Bugzilla.remove_external_tracker-2103"><span class="linenos">2103</span></a><span class="sd">        ext_type_description: The external tracker description as used by</span>
</span><span id="Bugzilla.remove_external_tracker-2104"><a href="#Bugzilla.remove_external_tracker-2104"><span class="linenos">2104</span></a><span class="sd">            Bugzilla.</span>
</span><span id="Bugzilla.remove_external_tracker-2105"><a href="#Bugzilla.remove_external_tracker-2105"><span class="linenos">2105</span></a><span class="sd">        ext_type_url: The external tracker url as used by Bugzilla.</span>
</span><span id="Bugzilla.remove_external_tracker-2106"><a href="#Bugzilla.remove_external_tracker-2106"><span class="linenos">2106</span></a><span class="sd">        ext_bz_bug_id: A single external bug id or list of external bug ids</span>
</span><span id="Bugzilla.remove_external_tracker-2107"><a href="#Bugzilla.remove_external_tracker-2107"><span class="linenos">2107</span></a><span class="sd">            (ie: the bug number in the external tracker).</span>
</span><span id="Bugzilla.remove_external_tracker-2108"><a href="#Bugzilla.remove_external_tracker-2108"><span class="linenos">2108</span></a><span class="sd">        bug_ids: A single bug id or list of bug ids to have external tracker</span>
</span><span id="Bugzilla.remove_external_tracker-2109"><a href="#Bugzilla.remove_external_tracker-2109"><span class="linenos">2109</span></a><span class="sd">            info updated.</span>
</span><span id="Bugzilla.remove_external_tracker-2110"><a href="#Bugzilla.remove_external_tracker-2110"><span class="linenos">2110</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Bugzilla.remove_external_tracker-2111"><a href="#Bugzilla.remove_external_tracker-2111"><span class="linenos">2111</span></a>        <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Bugzilla.remove_external_tracker-2112"><a href="#Bugzilla.remove_external_tracker-2112"><span class="linenos">2112</span></a>        <span class="k">if</span> <span class="n">ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.remove_external_tracker-2113"><a href="#Bugzilla.remove_external_tracker-2113"><span class="linenos">2113</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ids&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span>
</span><span id="Bugzilla.remove_external_tracker-2114"><a href="#Bugzilla.remove_external_tracker-2114"><span class="linenos">2114</span></a>        <span class="k">if</span> <span class="n">ext_type_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.remove_external_tracker-2115"><a href="#Bugzilla.remove_external_tracker-2115"><span class="linenos">2115</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_type_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_type_id</span>
</span><span id="Bugzilla.remove_external_tracker-2116"><a href="#Bugzilla.remove_external_tracker-2116"><span class="linenos">2116</span></a>        <span class="k">if</span> <span class="n">ext_type_description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.remove_external_tracker-2117"><a href="#Bugzilla.remove_external_tracker-2117"><span class="linenos">2117</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_type_description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_type_description</span>
</span><span id="Bugzilla.remove_external_tracker-2118"><a href="#Bugzilla.remove_external_tracker-2118"><span class="linenos">2118</span></a>        <span class="k">if</span> <span class="n">ext_type_url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.remove_external_tracker-2119"><a href="#Bugzilla.remove_external_tracker-2119"><span class="linenos">2119</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_type_url&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ext_type_url</span>
</span><span id="Bugzilla.remove_external_tracker-2120"><a href="#Bugzilla.remove_external_tracker-2120"><span class="linenos">2120</span></a>        <span class="k">if</span> <span class="n">ext_bz_bug_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.remove_external_tracker-2121"><a href="#Bugzilla.remove_external_tracker-2121"><span class="linenos">2121</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;ext_bz_bug_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">ext_bz_bug_id</span><span class="p">)</span>
</span><span id="Bugzilla.remove_external_tracker-2122"><a href="#Bugzilla.remove_external_tracker-2122"><span class="linenos">2122</span></a>        <span class="k">if</span> <span class="n">bug_ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Bugzilla.remove_external_tracker-2123"><a href="#Bugzilla.remove_external_tracker-2123"><span class="linenos">2123</span></a>            <span class="n">params</span><span class="p">[</span><span class="s1">&#39;bug_ids&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listify</span><span class="p">(</span><span class="n">bug_ids</span><span class="p">)</span>
</span><span id="Bugzilla.remove_external_tracker-2124"><a href="#Bugzilla.remove_external_tracker-2124"><span class="linenos">2124</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">externalbugs_remove</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Wrapper method to allow removal of external tracking bugs using the
ExternalBugs::WebService::remove_external_bug method.</p>

<p>This is documented at
<a href="https://bugzilla.redhat.com/docs/en/html/integrating/api/Bugzilla/Extension/ExternalBugs/WebService.html#remove-external-bug">https://bugzilla.redhat.com/docs/en/html/integrating/api/Bugzilla/Extension/ExternalBugs/WebService.html#remove-external-bug</a></p>

<p>ids: A single external tracker bug id or list of external tracker bug
    ids.
ext_type_id: The external tracker id as used by Bugzilla.
ext_type_description: The external tracker description as used by
    Bugzilla.
ext_type_url: The external tracker url as used by Bugzilla.
ext_bz_bug_id: A single external bug id or list of external bug ids
    (ie: the bug number in the external tracker).
bug_ids: A single bug id or list of bug ids to have external tracker
    info updated.</p>
</div>


                            </div>
                </section>
                <section id="version">
                    <div class="attr variable">
            <span class="name">version</span>        =
<span class="default_value">&#39;3.3.0&#39;</span>

        
    </div>
    <a class="headerlink" href="#version"></a>
    
    

                </section>
    </main>
</body>
</html>